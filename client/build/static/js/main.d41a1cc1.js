/*! For license information please see main.d41a1cc1.js.LICENSE.txt */
(()=>{var e={11:e=>{var t;self,t=()=>(()=>{var e={4180:e=>{self,e.exports=(()=>{var e={43:function(e,t,r){var n,a;!function(i,o){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?a(console,n):void 0!==console.log?a(console,"log"):e)}function s(t,r){for(var a=0;a<n.length;a++){var i=n[a];this[i]=a<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function c(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(e,t,r){return o(e)||c.apply(this,arguments)}function u(e,r,a){var i,o=this,c="loglevel";function u(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=a||l,o.getLevel=function(){return i},o.setLevel=function(r,a){if("string"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==a&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(e){}}}(r),s.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){u()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=u();null==d&&(d=null==r?"WARN":r),o.setLevel(d,!1)}var d=new u,p={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new u(e,d.getLevel(),d.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=h),d},d.getLoggers=function(){return p},d.default=d,d},void 0===(a=n.call(t,r,t,e))||(e.exports=a)}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{VideoSDKMetrics:()=>A});const e="inbound",t="outbound",a={codec_id_in:"",codec_in:{mime_type:null,clock_rate:null,sdp_fmtp_line:null},delta_jitter_ms_in:0,delta_rtt_ms_out:null,percent_packets_lost_in:0,delta_packets_in:0,delta_packets_lost_in:0,total_packets_in:0,total_packets_lost_in:0,total_KBytes_in:0,delta_KBytes_in:0,delta_kbs_in:0,timestamp_in:null,ssrc:"",total_concealment_events:0,delta_concealment_events:0,total_inserted_samples_for_decelaration:0,delta_inserted_samples_for_decelaration:0,total_removed_samples_for_accelaration:0,delta_removed_samples_for_accelaration:0,direction:e},i={codec_id_out:"",codec_out:{mime_type:null,clock_rate:null,sdp_fmtp_line:null},delta_jitter_ms_out:0,delta_rtt_ms_out:null,percent_packets_lost_out:0,delta_packets_out:0,delta_packets_lost_out:0,total_packets_out:0,total_packets_lost_out:0,total_KBytes_out:0,delta_KBytes_out:0,delta_kbs_out:0,timestamp_out:null,ssrc:"",direction:t},o={codec_id_in:"",size_in:{width:null,height:null,framerate:null},codec_in:{mime_type:null,clock_rate:null},delta_jitter_ms_in:0,percent_packets_lost_in:0,delta_packets_in:0,delta_packets_lost_in:0,total_packets_in:0,total_packets_lost_in:0,total_KBytes_in:0,delta_KBytes_in:0,delta_kbs_in:0,ssrc:"",direction:e},s={codec_id_out:"",size_out:{width:null,height:null,framerate:null},codec_out:{mime_type:null,clock_rate:null},delta_jitter_ms_out:0,delta_rtt_ms_out:null,percent_packets_lost_out:0,delta_packets_out:0,delta_packets_lost_out:0,total_packets_out:0,total_packets_lost_out:0,total_KBytes_out:0,delta_KBytes_out:0,delta_kbs_out:0,limitation_out:{reason:null,durations:null,resolutionChanges:0},timestamp_out:null,ssrc:"",direction:t},c="inbound-rtp",l="packetsLost",u="pliCount",d="nackCount",p="audio",h="video",f={0:"ETHERNET",2:"CELLULAR_5G",3:"WIFI",5:"CELLULAR_4G",10:"CELLULAR"},m="audio",g="video",v="network",y="data";var b=r(43);const _=()=>"".concat((new Date).toISOString()," | metrics"),w=(e,t,r)=>"".concat(e," | ").concat(t," | ").concat(r);b.setDefaultLevel(b.levels.TRACE);const S=(e,t,r)=>{r?b.debug(w(_(),e,t),r):b.debug(w(_(),e,t))},k=(e,t)=>{b.warn(w(_(),e,t))},E=(e,t)=>{b.error(w(_(),e,t))},R="extractor   ",x=(t,r,n)=>{if(!r)return null;const c={};let l=r.audio[t];l||(l=n===e?{...a}:{...i}),c.audio=l;let u=r.video[t];return u||(u=n===e?{...o}:{...s}),c.video=u,c},C=(e,t,r,n)=>{let a=!1;const i=n[t].total_rtt_ms_out,o=n[t].total_rtt_measure_out,s=r?r[t].total_rtt_ms_out:0,c=r?r[t].total_rtt_measure_out:0,l={rtt:null,totalRTT:i,totalRTTMeasurements:o};if(e.timestamp===n[t].timestamp_out)return l;if(!Object.prototype.hasOwnProperty.call(e,"roundTripTime"))return l;if(Object.prototype.hasOwnProperty.call(e,"roundTripTimeMeasurements")&&(a=!0,0===Number(e.roundTripTimeMeasurements)||Number(e.roundTripTimeMeasurements)-c===o))return l;const u=Number(1e3)*Number(e.roundTripTime);let d=i+u,p=o+1;return a&&(d=Number(1e3)*Number(e.totalRoundTripTime)-s,p=Number(e.roundTripTimeMeasurements)-c),{rtt:u,totalRTT:d,totalRTTMeasurements:p}},P=(e,t,r)=>e.timestamp===r[t].timestamp_out?null:Object.prototype.hasOwnProperty.call(e,"jitter")?Number(1e3)*(Number(e.jitter)||0):null,T=(e,t,r,n)=>{if(!Object.prototype.hasOwnProperty.call(e,"packetsSent")||!Object.prototype.hasOwnProperty.call(e,"bytesSent"))return{packetsSent:r[t].total_packets_out,packetsLost:r[t].total_packets_lost_out,bytesSent:r[t].total_KBytes_out};const a=Number(e.packetsSent)||0-(n?n[t].total_packets_out:0),i=a-r[t].total_packets_out,o=Number(e.bytesSent)/1024-(n?n[t].total_KBytes_out:0),s=o-r[t].total_KBytes_out,c=e.timestamp||Date.now(),l=n?n.timestamp:null;let u=r.timestamp;!u&&l&&(u=l);const d=u?c-u:0;return{packetsSent:a,deltaPacketsSent:i,KBytesSent:o,deltaKBytesSent:s,kbsSent:d>0?.008*s*1024/d*1e3:0}},O=(e,t,r,n)=>{let a=r[t].total_packets_lost_out,i=0,o=0;return Object.prototype.hasOwnProperty.call(e,l)&&(a=Number(e.packetsLost)||0-(n?n[t].total_packets_lost_out:0),i=a-r[t].total_packets_lost_out),Object.prototype.hasOwnProperty.call(e,"fractionLost")&&(o=Number(100*e.fractionLost)),{packetsLost:a,deltaPacketsLost:i,fractionLost:o}},D=(e,t,r,n)=>{if(!Object.prototype.hasOwnProperty.call(e,"packetsReceived")||!Object.prototype.hasOwnProperty.call(e,l)||!Object.prototype.hasOwnProperty.call(e,"bytesReceived"))return{percent_packets_lost:r[t].percent_packets_lost_in,packetsReceived:r[t].total_packets_in,packetsLost:r[t].total_packets_lost_in,bytesReceived:r[t].total_KBytes_in};const a=(Number(e.packetsReceived)||0)-(n?n[t].total_packets_in:0),i=(Number(e.packetsLost)||0)-(n?n[t].total_packets_lost_in:0),o=i-r[t].total_packets_lost_in,s=a-r[t].total_packets_in,c=a!==r[t].total_packets_in?100*o/(o+s):0,u=Number(e.bytesReceived)/1024-(n?n[t].total_KBytes_in:0),d=u-r[t].total_KBytes_in,p=e.timestamp||Date.now(),h=n?n.timestamp:null;let f=r.timestamp;!f&&h&&(f=h);const m=f?p-f:0;return{percentPacketsLost:c,packetsReceived:a,deltaPacketsReceived:s,packetsLost:i,deltaPacketsLost:o,KBytesReceived:u,deltaKBytesReceived:d,kbsReceived:m>0?.008*d*1024/m*1e3:0}},I=e=>"relay"!==e.candidateType?"":e.relayProtocol||"",M=e=>Object.prototype.hasOwnProperty.call(e,"frameHeight")&&Object.prototype.hasOwnProperty.call(e,"frameWidth")?{width:e.frameWidth||null,height:e.frameHeight||null,framerate:e.framesPerSecond}:{width:null,height:null,framerate:null};class j{constructor(e,t){this._callbacks={onStatsCollected:null},this._id="collector-".concat(t),this._moduleName=this._id,this._probeId=t,this._config=e,this._state="idle",this._statsReports=[]}registerCallback(e,t,r){e in this._callbacks?(this._callbacks[e]={callback:t,context:r},S(this._moduleName,"registered callback '".concat(e,"'"))):E(this._moduleName,"can't register callback for '".concat(e,"' - not found"))}unregisterCallback(e){e in this._callbacks?(this._callbacks[e]=null,delete this._callbacks[e],S(this._moduleName,"unregistered callback '".concat(e,"'"))):E(this._moduleName,"can't unregister callback for '".concat(e,"' - not found"))}analyze(r,n){const l=(e=>{const t={name:"",meetingId:"",peerId:"",timestamp:null,count:0,audio:{},video:{},network:{infrastructure:3},data:{delta_kbs_bandwidth_in:0,delta_kbs_bandwidth_out:0,delta_rtt_connectivity_ms:null,total_rtt_connectivity_ms:0}};if(e){const t={...e,audio:{},video:{},data:{...e.data},network:{...e.network}};return Object.keys(e.audio).forEach((r=>{t.audio[r]={...e.audio[r]}})),Object.keys(e.video).forEach((r=>{t.video[r]={...e.video[r]}})),t}return{...t,audio:{},video:{},data:{...t.data},network:{...t.network}}})(n);l.name=this._config.name,l.meetingId=this._config.meetingId,l.peerId=this._config.peerId,l.count=n?n.count+1:1;let f=null;return r.forEach((r=>{!f&&r.timestamp&&(f=r.timestamp),((r,n,a,i)=>{if(!r)return[];switch(r.type){case"candidate-pair":let o=!1;if(r.nominated&&"succeeded"===r.state&&(o=!0,S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r),"selected"in r&&!r.selected&&(o=!1)),o){r.localCandidateId,r.remoteCandidateId;const e=((e,t,r)=>{const n=(e.bytesReceived||0)/1024-0,a=(e.bytesSent||0)/1024-0,i=e.timestamp||Date.now(),o=n-t.data.total_KBytes_in,s=a-t.data.total_KBytes_out;let c=t.timestamp;const l=c?i-c:0;return{total_KBytes_received:n,total_KBytes_sent:a,delta_KBytes_received:o,delta_KBytes_sent:s,kbs_speed_received:l>0?.008*o*1024/l*1e3:0,kbs_speed_sent:l>0?.008*s*1024/l*1e3:0}})(r,n),t=((e=>{e.availableIncomingBitrate,e.availableOutgoingBitrate})(r),((e,t,r,n)=>{if(!Object.prototype.hasOwnProperty.call(e,"currentRoundTripTime"))return{rtt:null,totalRTT:n.data.total_rtt_connectivity_ms,totalRTTMeasurements:n.data.total_rtt_connectivity_measure};const a=Number(1e3)*Number(e.currentRoundTripTime);let i=n.data.total_rtt_connectivity_ms+a,o=n.data.total_rtt_connectivity_measure+1;return Object.prototype.hasOwnProperty.call(e,"totalRoundTripTime")&&(i=Number(1e3)*Number(e.totalRoundTripTime)-0),Object.prototype.hasOwnProperty.call(e,"responsesReceived")&&(o=Number(e.responsesReceived)-0),{rtt:a,totalRTT:i,totalRTTMeasurements:o}})(r,0,0,n));return[{type:y,value:{total_KBytes_in:e.total_KBytes_received}},{type:y,value:{total_KBytes_out:e.total_KBytes_sent}},{type:y,value:{delta_KBytes_in:e.delta_KBytes_received}},{type:y,value:{delta_KBytes_out:e.delta_KBytes_sent}},{type:y,value:{delta_kbs_in:e.kbs_speed_received}},{type:y,value:{delta_kbs_out:e.kbs_speed_sent}},{type:y,value:{delta_rtt_connectivity_ms:t.rtt}}]}break;case"local-candidate":if(r.id===n.network.local_candidate_id)return[{type:v,value:{infrastructure:r.networkType}},{type:v,value:{local_candidate_protocol:r.protocol||""}},{type:v,value:{local_candidate_relay_protocol:I(r)}}];break;case c:{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const t=r.ssrc,o=x(t,n,e);o&&(o.timestamp=n.timestamp);const s=x(t,i,e);if(s&&(s.timestamp=i.timestamp),r.mediaType===p){const e=D(r,p,o,s),n=P(r,p,o),a=r.codecId||"",i=((e,t,r,n)=>{const a=Number(e.concealmentEvents)||0,i=a-(r.audio.total_concealment_events||0),o=Number(e.insertedSamplesForDeceleration)||0,s=o-(r.audio.total_inserted_samples_for_decelaration||0),c=Number(e.removedSamplesForAcceleration)||0;return{totalConcealmentEvents:a,deltaConcealmentEvents:i,totalInsertedSamplesForDecelaration:o,deltaInsertedSamplesForDecelaration:s,totalRemovedSamplesForAccelaration:c,deltaRemovedSampleForAccelaration:c-(r.audio.total_removed_samples_for_accelaration||0)}})(r,0,o);return[{ssrc:t,type:m,value:{codec_id_in:a}},{ssrc:t,type:m,value:{total_packets_in:e.packetsReceived}},{ssrc:t,type:m,value:{delta_packets_in:e.deltaPacketsReceived}},{ssrc:t,type:m,value:{total_packets_lost_in:e.packetsLost}},{ssrc:t,type:m,value:{delta_packets_lost_in:e.deltaPacketsLost}},{ssrc:t,type:m,value:{percent_packets_lost_in:e.percentPacketsLost}},{ssrc:t,type:m,value:{total_KBytes_in:e.KBytesReceived}},{ssrc:t,type:m,value:{delta_KBytes_in:e.deltaKBytesReceived}},{ssrc:t,type:m,value:{delta_kbs_in:e.kbsReceived}},{ssrc:t,type:m,value:{delta_jitter_ms_in:n}},{ssrc:t,type:m,value:{total_concealment_events:i.totalConcealmentEvents}},{ssrc:t,type:m,value:{delta_concealment_events:i.deltaConcealmentEvents}},{ssrc:t,type:m,value:{total_inserted_samples_for_decelaration:i.totalInsertedSamplesForDecelaration}},{ssrc:t,type:m,value:{delta_inserted_samples_for_decelaration:i.deltaInsertedSamplesForDecelaration}},{ssrc:t,type:m,value:{total_removed_samples_for_accelaration:i.totalRemovedSamplesForAccelaration}},{ssrc:t,type:m,value:{delta_removed_samples_for_accelaration:i.deltaRemovedSampleForAccelaration}},{ssrc:t,type:m,value:{track_in:r.trackId}},{ssrc:t,type:m,value:{track_id_in:r.trackIdentifier}},{ssrc:t,type:m,value:{media_source_id:r.mediaSourceId}}]}if(r.mediaType===h){((e,t)=>{if(!Object.prototype.hasOwnProperty.call(e,"framesDecoded")||!Object.prototype.hasOwnProperty.call(e,"totalDecodeTime"))return{delta_ms_decode_frame:t.video.delta_ms_decode_frame_in,frames_decoded:t.video.total_frames_decoded_in,total_decode_time:t.video.total_time_decoded_in};e.framesDecoded,e.totalDecodeTime,t.video.total_time_decoded_in,t.video.total_frames_decoded_in})(r,o);const e=D(r,h,o,s),n=P(r,h,o),a=(r.decoderImplementation,r.codecId||null),i=M(r);return((e,t,r)=>{if(!Object.prototype.hasOwnProperty.call(e,u)||!Object.prototype.hasOwnProperty.call(e,d))return{pliCount:t.total_pli_sent_in,nackCount:t.total_nack_sent_in,deltaPliCount:0,deltaNackCount:0};e.pliCount,r&&r.video.total_pli_sent_in,e.nackCount,r&&r.video.total_nack_sent_in,t.video.total_pli_sent_in,t.video.total_nack_sent_in})(r,o,s),[{ssrc:t,type:g,value:{codec_id_in:a}},{ssrc:t,type:g,value:{total_packets_in:e.packetsReceived}},{ssrc:t,type:g,value:{delta_packets_in:e.deltaPacketsReceived}},{ssrc:t,type:g,value:{total_packets_lost_in:e.packetsLost}},{ssrc:t,type:g,value:{delta_packets_lost_in:e.deltaPacketsLost}},{ssrc:t,type:g,value:{percent_packets_lost_in:e.percentPacketsLost}},{ssrc:t,type:g,value:{total_KBytes_in:e.KBytesReceived}},{ssrc:t,type:g,value:{delta_KBytes_in:e.deltaKBytesReceived}},{ssrc:t,type:g,value:{delta_kbs_in:e.kbsReceived}},{ssrc:t,type:g,value:{delta_jitter_ms_in:n}},{ssrc:t,type:g,value:{size_in:i}},{ssrc:t,type:g,value:{track_in:r.trackId}},{ssrc:t,type:g,value:{track_id_in:r.trackIdentifier}},{ssrc:t,type:g,value:{media_source_id:r.mediaSourceId}}]}break}case"outbound-rtp":{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=r.ssrc,o=x(e,n,t);o&&(o.timestamp=n.timestamp);const s=x(e,i,t);if(s&&(s.timestamp=i.timestamp),r.mediaType===p){const t=r.codecId||null,n=T(r,p,o,s);return[{ssrc:e,type:m,value:{codec_id_out:t}},{ssrc:e,type:m,value:{total_packets_out:n.packetsSent}},{ssrc:e,type:m,value:{delta_packets_out:n.deltaPacketsSent}},{ssrc:e,type:m,value:{total_KBytes_out:n.KBytesSent}},{ssrc:e,type:m,value:{delta_KBytes_out:n.deltaKBytesSent}},{ssrc:e,type:m,value:{delta_kbs_out:n.kbsSent}},{ssrc:e,type:m,value:{track_out:r.trackId}},{ssrc:e,type:m,value:{track_id_out:r.trackIdentifier}},{ssrc:e,type:m,value:{media_source_id:r.mediaSourceId}}]}if(r.mediaType===h){r.encoderImplementation;const t=r.codecId||null,n=(((e,t)=>{if(!Object.prototype.hasOwnProperty.call(e,"framesEncoded")||!Object.prototype.hasOwnProperty.call(e,"totalEncodeTime"))return{delta_ms_encode_frame:t.video.delta_ms_encode_frame_out,frames_encoded:t.video.total_frames_encoded_out,total_encode_time:t.video.total_time_encoded_out};e.framesEncoded,e.totalEncodeTime,t.video.total_time_encoded_out,t.video.total_frames_encoded_out})(r,o),M(r)),a=(e=>{const t=Object.prototype.hasOwnProperty.call(e,"qualityLimitationReason")?e.qualityLimitationReason:null,r=Object.prototype.hasOwnProperty.call(e,"qualityLimitationResolutionChanges")?e.qualityLimitationResolutionChanges:null,n=Object.prototype.hasOwnProperty.call(e,"qualityLimitationDurations")?e.qualityLimitationDurations:null;return n&&Object.keys(n).forEach((e=>{n[e]>1e3&&(n[e]=Number(n[e]/1e3))})),{reason:t,durations:n,resolutionChanges:r}})(r),i=(((e,t,r)=>{if(!Object.prototype.hasOwnProperty.call(e,u)||!Object.prototype.hasOwnProperty.call(e,d))return{pliCount:t.total_pli_received_out,nackCount:t.total_nack_received_out,deltaPliCount:0,deltaNackCount:0};e.pliCount,r&&r.video.total_pli_received_out,e.nackCount,r&&r.video.total_nack_received_out,t.video.total_pli_received_out,t.video.total_nack_received_out})(r,o,s),T(r,h,o,s));return[{ssrc:e,type:g,value:{codec_id_out:t}},{ssrc:e,type:g,value:{total_packets_out:i.packetsSent}},{ssrc:e,type:g,value:{delta_packets_out:i.deltaPacketsSent}},{ssrc:e,type:g,value:{total_KBytes_out:i.KBytesSent}},{ssrc:e,type:g,value:{delta_KBytes_out:i.deltaKBytesSent}},{ssrc:e,type:g,value:{delta_kbs_out:i.kbsSent}},{ssrc:e,type:g,value:{size_out:n}},{ssrc:e,type:g,value:{limitation_out:a}},{ssrc:e,type:g,value:{track_out:r.trackId}},{ssrc:e,type:g,value:{track_id_out:r.trackIdentifier}},{ssrc:e,type:g,value:{media_source_id:r.mediaSourceId}}]}break}case"media-source":{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=[];return Object.keys(n.audio).forEach((t=>{const i=n.audio[t];if(i.media_source_id===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);var o=r.trackIdentifier;e.push({ssrc:i.ssrc,type:m,value:{track_id_out:o}})}})),Object.keys(n.video).forEach((t=>{const i=n.video[t];if(i.media_source_id===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);var o=r.trackIdentifier;e.push({ssrc:i.ssrc,type:g,value:{track_id_out:o}})}})),e}case"track":{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=[];return Object.keys(n.audio).forEach((t=>{const i=n.audio[t];if(i.track_in===r.id||i.track_out===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);var o=r.trackIdentifier;r.id===i.track_in?e.push({ssrc:i.ssrc,type:m,value:{track_id_in:o}}):e.push({ssrc:i.ssrc,type:m,value:{track_id_out:o}})}})),Object.keys(n.video).forEach((t=>{const i=n.video[t];if(i.track_in===r.id||i.track_out===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);var o=r.trackIdentifier;r.id===i.track_in?e.push({ssrc:i.ssrc,type:g,value:{track_id_in:o}}):e.push({ssrc:i.ssrc,type:g,value:{track_id_out:o}})}})),e}case"codec":const s=[];return Object.keys(n.audio).forEach((e=>{const t=n.audio[e];if(t.codec_id_in===r.id||t.codec_id_out===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=(e=>({channels:e.channels||null,clock_rate:e.clockRate||null,mime_type:e.mimeType||null,sdp_fmtp_line:e.sdpFmtpLine||null}))(r);r.id===t.codec_id_in?s.push({ssrc:t.ssrc,type:m,value:{codec_in:e}}):s.push({ssrc:t.ssrc,type:m,value:{codec_out:e}})}})),Object.keys(n.video).forEach((e=>{const t=n.video[e];if(t.codec_id_in===r.id||t.codec_id_out===r.id){S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=(e=>({clock_rate:e.clockRate||null,mime_type:e.mimeType||null}))(r);r.id===t.codec_id_in?s.push({ssrc:t.ssrc,type:g,value:{codec_in:e}}):s.push({ssrc:t.ssrc,type:g,value:{codec_out:e}})}})),s;case"remote-inbound-rtp":{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=r.ssrc,o=x(e,n,t),s=x(e,i,t);if(r.kind===p){const t=C(r,p,s,o),n=P(r,p,o),a=O(r,p,o,s);return[{ssrc:e,type:m,value:{delta_rtt_ms_out:t.rtt}},{ssrc:e,type:m,value:{delta_jitter_ms_out:n}},{ssrc:e,type:m,value:{timestamp_out:r.timestamp}},{ssrc:e,type:m,value:{total_packets_lost_out:a.packetsLost}},{ssrc:e,type:m,value:{delta_packets_lost_out:a.deltaPacketsLost}},{ssrc:e,type:m,value:{percent_packets_lost_out:a.fractionLost}}]}if(r.kind===h){const t=C(r,h,s,o),n=P(r,h,o),a=O(r,h,o,s);return[{ssrc:e,type:g,value:{delta_rtt_ms_out:t.rtt}},{ssrc:e,type:g,value:{delta_jitter_ms_out:n}},{ssrc:e,type:g,value:{timestamp_out:r.timestamp}},{ssrc:e,type:g,value:{total_packets_lost_out:a.packetsLost}},{ssrc:e,type:g,value:{delta_packets_lost_out:a.deltaPacketsLost}}]}break}case"remote-outbound-rtp":{S(R,"analyze() - got stats ".concat(r.type," for ").concat(a),r);const e=r.ssrc,o=x(e,n,t),s=x(e,i,t);if(r.kind===p){const t=C(r,p,s,o);return[{ssrc:e,type:m,value:{delta_rtt_ms_in:t.rtt}},{ssrc:e,type:m,value:{timestamp_in:r.timestamp}}]}break}}return[]})(r,l,l.name,null).forEach((e=>{if(e.value&&e.type)if(e.ssrc){let u=l[e.type][e.ssrc];u||(t=e.type,n=r.type,u=t===p?n===c?{...a}:{...i}:n===c?{...o}:{...s},u.ssrc=e.ssrc,l[e.type][e.ssrc]=u),Object.keys(e.value).forEach((t=>{void 0!==e.value[t]&&(u[t]=e.value[t])}))}else Object.keys(e.value).forEach((t=>{void 0!==e.value[t]&&(l[e.type][t]=e.value[t])}));var t,n}))})),l.timestamp=f,l}async collectStats(){try{const e=await this._config.monitoringObject.getStats(),t=this.analyze(e,this._statsReports.slice().pop()||null);return this._statsReports.push(t),this.fireOnStatsCollected(t),e}catch(e){return E(this._moduleName,"got error ".concat(e)),null}}fireOnStatsCollected(r){if(this._callbacks.onStatsCollected){const n={};n.meetingId=r.meetingId,n.peerId=r.peerId,n.name=r.name,n.audio=[],n.video=[],Object.values(r.audio).forEach((a=>{const i={};i.network=f[r.network.infrastructure],i.timestamp=r.timestamp,a.direction==e?(i.codec=a.codec_in.mime_type,i.jitter=a.delta_jitter_ms_in,i.bitrate=a.delta_kbs_in,i.packetsLost=a.delta_packets_lost_in,i.rtt=r.data.delta_rtt_connectivity_ms||0,i.totalPackets=a.delta_packets_in,i.concealmentEvents=a.delta_concealment_events,i.removedSampleForAccelaration=a.delta_removed_samples_for_accelaration,i.insertedSamplesForDecelaration=a.delta_inserted_samples_for_decelaration,i.trackId=a.track_id_in):a.direction==t&&(i.codec=a.codec_out.mime_type,i.jitter=a.delta_jitter_ms_out,i.bitrate=a.delta_kbs_out,i.packetsLost=a.delta_packets_lost_out,i.rtt=r.data.delta_rtt_connectivity_ms||0,i.totalPackets=a.delta_packets_out,i.trackId=a.track_id_out),n.audio.push(i)})),Object.values(r.video).forEach((a=>{const i={};i.network=f[r.network.infrastructure],i.timestamp=r.timestamp,a.direction==e?(i.codec=a.codec_in.mime_type,i.jitter=a.delta_jitter_ms_in,i.bitrate=a.delta_kbs_in,i.packetsLost=a.delta_packets_lost_in,i.rtt=r.data.delta_rtt_connectivity_ms||0,i.totalPackets=a.delta_packets_in,i.size=a.size_in,i.trackId=a.track_id_in):a.direction==t&&(i.codec=a.codec_out.mime_type,i.jitter=a.delta_jitter_ms_out,i.bitrate=a.delta_kbs_out,i.packetsLost=a.delta_packets_lost_out,i.rtt=r.data.delta_rtt_connectivity_ms||0,i.totalPackets=a.delta_packets_out,i.limitation=a.limitation_out,i.size=a.size_out,i.trackId=a.track_id_out),n.video.push(i)})),this._callbacks.onStatsCollected.callback(n)}}}class L{constructor(e){this._id=e.name&&e.name.substr(0,12).padEnd(12," "),this._moduleName=this._id,this._config=e,this._collector=new j(this._config,this._id)}get id(){return this._id}start(){this._collectorIntervalId?k("Probe already started."):(S(this._moduleName,"Probe Started"),this._collectorIntervalId=setInterval((()=>{S(this._moduleName,"Collector collecting stats"),this._collector.collectStats()}),this._config.refreshEvery))}stop(){this._collectorIntervalId?(clearInterval(this._collectorIntervalId),S(this._moduleName,"Probe Stopped")):k("Probe not running, Please start first.")}set onStatsCollected(e){e?this._collector.registerCallback("onStatsCollected",e):this._collector.unregisterCallback("onStatsCollected")}}const N={refreshEvery:2e3,startAfter:0,stopAfter:-1,verbose:!1,peerId:"peerId",meetingId:"meetingId",name:"name"};class A{constructor(e){var t;this._config={defaultConfig:N,...e},this._probes=[],t=this._config.verbose||!1,b.setLevel(t?b.levels.TRACE:b.levels.INFO),S("VideoSDKMetrics","VideoSDKMetrics initialized")}get probes(){return this._probes}addNewProbe(e,t){if(!e)throw new Error("undefined monitoring object");const r={monitoringObject:e,...t,...this._config},n=new L(r);return this._probes.push(n),n}removeExistingProbe(e){if(!e)throw new Error("undefined probe");e.stop(),this._probes=this._probes.filter((t=>e.id!==t.id))}startAllProbes(){this._probes.forEach(((e,t)=>{e.start()}))}stopAllProbes(){this._probes.forEach((e=>e.stop()))}}})(),n})()},7329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(1227),a="awaitqueue";t.Logger=class{constructor(e){e?(this._debug=(0,n.default)("".concat(a,":").concat(e)),this._warn=(0,n.default)("".concat(a,":WARN:").concat(e)),this._error=(0,n.default)("".concat(a,":ERROR:").concat(e))):(this._debug=(0,n.default)(a),this._warn=(0,n.default)("".concat(a,":WARN")),this._error=(0,n.default)("".concat(a,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},2186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=void 0;const n=new(r(7329).Logger);class a extends Error{constructor(e){super(null!==e&&void 0!==e?e:"AwaitQueue stopped"),this.name="AwaitQueueStoppedError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}}t.AwaitQueueStoppedError=a;class i extends Error{constructor(e){super(null!==e&&void 0!==e?e:"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}}t.AwaitQueueRemovedTaskError=i,t.AwaitQueue=class{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(e,t){var r;if(t=null!==(r=t)&&void 0!==r?r:e.name,n.debug("push() [name:".concat(t,"]")),"function"!=typeof e)throw new TypeError("given task is not a function");if(t)try{Object.defineProperty(e,"name",{value:t})}catch(e){}return new Promise(((r,a)=>{const i={id:this.nextTaskId++,task:e,name:t,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:e=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),n.debug("resolving task [name:".concat(i.name,"]")),r(e);const[t]=this.pendingTasks.values();t&&!t.executedAt&&this.execute(t)},reject:e=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),n.debug("rejecting task [name:".concat(i.name,"]: %s"),String(e)),a(e),!this.stopping)){const[e]=this.pendingTasks.values();e&&!e.executedAt&&this.execute(e)}}};this.pendingTasks.set(i.id,i),1===this.pendingTasks.size&&this.execute(i)}))}stop(){n.debug("stop()"),this.stopping=!0;for(const e of this.pendingTasks.values())n.debug("stop() | stopping task [name:".concat(e.name,"]")),e.reject(new a);this.stopping=!1}remove(e){n.debug("remove() [taskIdx:".concat(e,"]"));const t=Array.from(this.pendingTasks.values())[e];t?t.reject(new i):n.debug("stop() | no task with given idx [taskIdx:".concat(e,"]"))}dump(){const e=Date.now();let t=0;return Array.from(this.pendingTasks.values()).map((r=>({idx:t++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:e-r.enqueuedAt,executionTime:r.executedAt?e-r.executedAt:0})))}async execute(e){if(n.debug("execute() [name:".concat(e.name,"]")),e.executedAt)throw new Error("task already being executed");e.executedAt=Date.now();try{const t=await e.task();e.resolve(t)}catch(t){e.reject(t)}}}},8962:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n={networkPriorities:{audio:"high",dominatingVideo:"high",otherVideos:"medium",screenShare:"medium"},aspectRatios:{fourThree:{label:"fourThree",value:1.333},oneSixNine:{label:"oneSixNine",value:1.777}},audioProfiles:{speech_low_quality:{sampleRate:16e3,bitRate:24,sampleSize:16,stereo:!1,dtx:!0,fec:!0,maxPlaybackRate:16e3,packetTime:20,autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,channelCount:1},speech_standard:{sampleRate:32e3,bitRate:24,sampleSize:24,stereo:!1,dtx:!0,fec:!0,maxPlaybackRate:32e3,packetTime:30,autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,channelCount:1},music_standard:{sampleRate:48e3,bitRate:40,sampleSize:32,stereo:!1,dtx:!1,fec:!0,maxPlaybackRate:48e3,packetTime:40,autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1,channelCount:1},standard_stereo:{sampleRate:48e3,sampleSize:32,bitRate:64,stereo:!0,dtx:!1,fec:!0,maxPlaybackRate:48e3,packetTime:40,autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1,channelCount:2},high_quality:{sampleRate:48e3,sampleSize:32,bitRate:128,stereo:!1,dtx:!1,fec:!0,maxPlaybackRate:48e3,packetTime:60,autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1,channelCount:1},high_quality_stereo:{sampleRate:48e3,sampleSize:32,bitRate:192,stereo:!0,dtx:!1,fec:!0,maxPlaybackRate:48e3,packetTime:60,autoGainControl:!1,echoCancellation:!1,noiseSuppression:!1,channelCount:2}},videoProfiles:{h90p_w160p:{width:160,height:90,bitRate:6e4,frameRate:15,aspectRatio:"oneSixNine"},h180p_w320p:{width:320,height:180,bitRate:12e4,frameRate:15,aspectRatio:"oneSixNine"},h216p_w384p:{width:384,height:216,bitRate:18e4,frameRate:15,aspectRatio:"oneSixNine"},h360p_w640p:{width:640,height:360,bitRate:3e5,frameRate:20,aspectRatio:"oneSixNine"},h540p_w960p:{width:960,height:540,bitRate:6e5,frameRate:25,aspectRatio:"oneSixNine"},h720p_w1280p:{width:1280,height:720,bitRate:2e6,frameRate:30,aspectRatio:"oneSixNine"},h1080p_w1920p:{width:1920,height:1080,bitRate:3e6,frameRate:30,aspectRatio:"oneSixNine"},h1440p_w2560p:{width:2560,height:1440,bitRate:5e6,frameRate:30,aspectRatio:"oneSixNine"},h2160p_w3840p:{width:3840,height:2160,bitRate:8e6,frameRate:30,aspectRatio:"oneSixNine"},h120p_w160p:{width:160,height:120,bitRate:8e4,frameRate:15,aspectRatio:"fourThree"},h180p_w240p:{width:240,height:180,bitRate:1e5,frameRate:15,aspectRatio:"fourThree"},h240p_w320p:{width:320,height:240,bitRate:15e4,frameRate:15,aspectRatio:"fourThree"},h360p_w480p:{width:480,height:360,bitRate:225e3,frameRate:20,aspectRatio:"fourThree"},h480p_w640p:{width:640,height:480,bitRate:3e5,frameRate:25,aspectRatio:"fourThree"},h540p_w720p:{width:720,height:540,bitRate:45e4,frameRate:30,aspectRatio:"fourThree"},h720p_w960p:{width:960,height:720,bitRate:15e5,frameRate:30,aspectRatio:"fourThree"},h1080p_w1440p:{width:1440,height:1080,bitRate:25e5,frameRate:30,aspectRatio:"fourThree"},h1440p_w1920p:{width:1920,height:1440,bitRate:35e5,frameRate:30,aspectRatio:"fourThree"}},screenShareProfiles:{h360p_30fps:{width:640,height:360,bitRate:2e5,frameRate:3},h720p_5fps:{width:1280,height:720,bitRate:4e5,frameRate:5},h720p_15fps:{width:1280,height:720,bitRate:1e6,frameRate:15},h1080p_15fps:{width:1920,height:1080,bitRate:15e5,frameRate:15},h1080p_30fps:{width:1920,height:1080,bitRate:1e6,frameRate:15}},simulcastProfiles:{3840:[{scaleResolutionDownBy:12,maxBitRate:15e4},{scaleResolutionDownBy:6,maxBitRate:5e5},{scaleResolutionDownBy:1,maxBitRate:1e7}],1920:[{scaleResolutionDownBy:6,maxBitRate:15e4},{scaleResolutionDownBy:3,maxBitRate:5e5},{scaleResolutionDownBy:1,maxBitRate:35e5}],1280:[{scaleResolutionDownBy:4,maxBitRate:15e4},{scaleResolutionDownBy:2,maxBitRate:5e5},{scaleResolutionDownBy:1,maxBitRate:12e5}],640:[{scaleResolutionDownBy:2,maxBitRate:15e4},{scaleResolutionDownBy:1,maxBitRate:5e5}],320:[{scaleResolutionDownBy:1,maxBitRate:15e4}]},requestTimeout:2e4,requestRetries:3,transportOptions:{tcp:!0},videoKSVCEncodings:[{scalabilityMode:"S3T3_KEY"}],videoSVCEncodings:[{scalabilityMode:"S3T3",dtx:!0}]}},6900:(e,t,r)=>{"use strict";r.d(t,{H:()=>a,R:()=>n});var n={INVALID_API_KEY:4001,INVALID_TOKEN:4002,INVALID_MEETING_ID:4003,INVALID_PARTICIPANT_ID:4004,DUPLICATE_PARTICIPANT:4005,ACCOUNT_DEACTIVATED:4006,ACCOUNT_DISCONTINUED:4007,INVALID_PERMISSIONS:4008,MAX_PARTCIPANT_REACHED:4009,MAX_SPEAKER_REACHED:4010,START_RECORDING_FAILED:4011,STOP_RECORDING_FAILED:4012,START_LIVESTREAM_FAILED:4013,STOP_LIVESTREAM_FAILED:4014,INVALID_LIVESTREAM_CONFIG:4015,START_HLS_FAILED:4016,STOP_HLS_FAILED:4017,RECORDING_FAILED:5001,LIVESTREAM_FAILED:5002,HLS_FAILED:5003,ERROR_GET_VIDEO_MEDIA:3011,ERROR_GET_AUDIO_MEDIA:3012,ERROR_GET_DISPLAY_MEDIA:3013,ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED:3014,ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED:3015,ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED:3016},a={ERROR_GET_VIDEO_MEDIA:{code:3011,message:"Your browser/Device does not support Video."},ERROR_GET_AUDIO_MEDIA:{code:3012,message:"Your browser/Device does not support Audio."},ERROR_GET_DISPLAY_MEDIA:{code:3013,message:"Your browser/Device does not support Screen Sharing."},ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED:{code:3014,message:"Video capture permission denied."},ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED:{code:3015,message:"Audio capture permission denied."},ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED:{code:3016,message:"Screen sharing permission denied."}}},6380:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={HLS_STARTING:"HLS_STARTING",HLS_STARTED:"HLS_STARTED",HLS_PLAYABLE:"HLS_PLAYABLE",HLS_STOPPING:"HLS_STOPPING",HLS_STOPPED:"HLS_STOPPED"}},3430:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={CONFERENCE:"CONFERENCE",VIEWER:"VIEWER"}},8225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{VideoSDK:()=>Qa,ZujoSDK:()=>Ya});var n=r(1002),a=r(5861),i=r(5671),o=r(3144),s=r(4942),c=r(4687),l=r.n(c),u=r(1206),d=r.n(u);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var m="function"==typeof Symbol&&Symbol.observable||"@@observable",g=function(){return Math.random().toString(36).substring(7).split("").join(".")},v={INIT:"@@redux/INIT"+g(),REPLACE:"@@redux/REPLACE"+g(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+g()}};function y(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(f(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(f(1));return r(y)(e,t)}if("function"!=typeof e)throw new Error(f(2));var a=e,i=t,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(f(3));return i}function d(e){if("function"!=typeof e)throw new Error(f(4));if(c)throw new Error(f(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(f(6));t=!1,l();var r=s.indexOf(e);s.splice(r,1),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(f(7));if(void 0===e.type)throw new Error(f(8));if(c)throw new Error(f(9));try{c=!0,i=a(i,e)}finally{c=!1}for(var t=o=s,r=0;r<t.length;r++)(0,t[r])();return e}return p({type:v.INIT}),(n={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(f(10));a=e,p({type:v.REPLACE})}})[m]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(f(11));function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[m]=function(){return this},e},n}function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(f(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return n=b.apply(void 0,i)(r.dispatch),h(h({},r),{},{dispatch:n})}}}function w(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}var S=w();S.withExtraArgument=w;const k=S;var E=r(3196),R=r.n(E);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={url:null,state:"new",activeSpeakerId:null,statsPeerId:null,faceDetection:!1};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={id:null,displayName:null,displayNameSet:!1,device:null,canSendMic:!1,canSendWebcam:!1,canChangeWebcam:!1,webcamInProgress:!1,shareInProgress:!1,audioOnly:!1,audioOnlyInProgress:!1,audioMuted:!1,restartIceInProgress:!1};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j={};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={},B=r(2982);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z={};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H={};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={},K=[];const J=function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n];"function"==typeof e[a]&&(r[a]=e[a])}var i,o=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:v.INIT}))throw new Error(f(12));if(void 0===r(void 0,{type:v.PROBE_UNKNOWN_ACTION()}))throw new Error(f(13))}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,a={},s=0;s<o.length;s++){var c=o[s],l=r[c],u=e[c],d=l(u,t);if(void 0===d)throw t&&t.type,new Error(f(14));a[c]=d,n=n||d!==u}return(n=n||o.length!==Object.keys(e).length)?a:e}}({room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_URL":var r=t.payload.url;return C(C({},e),{},{url:r});case"SET_ROOM_STATE":var n=t.payload.state;return C(C({},e),{},"connected"===n?{state:n}:{state:n,activeSpeakerId:null,statsPeerId:null});case"SET_ROOM_ACTIVE_SPEAKER":var a=t.payload.peerId;return C(C({},e),{},{activeSpeakerId:a});case"SET_ROOM_STATS_PEER_ID":var i=t.payload.peerId;return e.statsPeerId===i?C(C({},e),{},{statsPeerId:null}):C(C({},e),{},{statsPeerId:i});case"SET_FACE_DETECTION":var o=t.payload;return C(C({},e),{},{faceDetection:o});case"REMOVE_PEER":var s=t.payload.peerId,c=C({},e);return s&&s===e.activeSpeakerId&&(c.activeSpeakerId=null),s&&s===e.statsPeerId&&(c.statsPeerId=null),c;default:return e}},me:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?O(O({},e),{},{webcamInProgress:!1,shareInProgress:!1,audioOnly:!1,audioOnlyInProgress:!1,audioMuted:!1,restartIceInProgress:!1}):e;case"SET_ME":var r=t.payload,n=r.peerId,a=r.displayName,i=r.displayNameSet,o=r.device;return O(O({},e),{},{id:n,displayName:a,displayNameSet:i,device:o});case"SET_MEDIA_CAPABILITIES":var s=t.payload,c=s.canSendMic,l=s.canSendWebcam;return O(O({},e),{},{canSendMic:c,canSendWebcam:l});case"SET_CAN_CHANGE_WEBCAM":var u=t.payload;return O(O({},e),{},{canChangeWebcam:u});case"SET_WEBCAM_IN_PROGRESS":var d=t.payload.flag;return O(O({},e),{},{webcamInProgress:d});case"SET_SHARE_IN_PROGRESS":var p=t.payload.flag;return O(O({},e),{},{shareInProgress:p});case"SET_DISPLAY_NAME":var h=t.payload.displayName;return h||(h=e.displayName),O(O({},e),{},{displayName:h,displayNameSet:!0});case"SET_AUDIO_ONLY_STATE":var f=t.payload.enabled;return O(O({},e),{},{audioOnly:f});case"SET_AUDIO_ONLY_IN_PROGRESS":var m=t.payload.flag;return O(O({},e),{},{audioOnlyInProgress:m});case"SET_AUDIO_MUTED_STATE":var g=t.payload.enabled;return O(O({},e),{},{audioMuted:g});case"SET_RESTART_ICE_IN_PROGRESS":var v=t.payload.flag;return O(O({},e),{},{restartIceInProgress:v});default:return e}},producers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?{}:e;case"ADD_PRODUCER":var r=t.payload.producer;return M(M({},e),{},(0,s.Z)({},r.id,r));case"REMOVE_PRODUCER":var n=t.payload.producerId,a=M({},e);return delete a[n],a;case"SET_PRODUCER_PAUSED":var i=t.payload.producerId,o=M(M({},e[i]),{},{paused:!0});return M(M({},e),{},(0,s.Z)({},i,o));case"SET_PRODUCER_RESUMED":var c=t.payload.producerId,l=M(M({},e[c]),{},{paused:!1});return M(M({},e),{},(0,s.Z)({},c,l));case"SET_PRODUCER_TRACK":var u=t.payload,d=u.producerId,p=u.track,h=M(M({},e[d]),{},{track:p});return M(M({},e),{},(0,s.Z)({},d,h));case"SET_PRODUCER_SCORE":var f=t.payload,m=f.producerId,g=f.score,v=e[m];if(!v)return e;var y=M(M({},v),{},{score:g});return M(M({},e),{},(0,s.Z)({},m,y));default:return e}},dataProducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?{}:e;case"ADD_DATA_PRODUCER":var r=t.payload.dataProducer;return N(N({},e),{},(0,s.Z)({},r.id,r));case"REMOVE_DATA_PRODUCER":var n=t.payload.dataProducerId,a=N({},e);return delete a[n],a;default:return e}},peers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?{}:e;case"ADD_PEER":var r=t.payload.peer;return U(U({},e),{},(0,s.Z)({},r.id,r));case"REMOVE_PEER":var n=t.payload.peerId,a=U({},e);return delete a[n],a;case"SET_PEER_DISPLAY_NAME":var i=t.payload,o=i.displayName,c=e[i.peerId];if(!c)throw new Error("no Peer found");var l=U(U({},c),{},{displayName:o});return U(U({},e),{},(0,s.Z)({},l.id,l));case"ADD_CONSUMER":var u=t.payload,d=u.consumer,p=e[u.peerId];if(!p)throw new Error("no Peer found for new Consumer");var h=[].concat((0,B.Z)(p.consumers),[d.id]),f=U(U({},p),{},{consumers:h});return U(U({},e),{},(0,s.Z)({},f.id,f));case"REMOVE_CONSUMER":var m=t.payload,g=m.consumerId,v=e[m.peerId];if(!v)return e;var y=v.consumers.indexOf(g);if(-1===y)throw new Error("Consumer not found");var b=v.consumers.slice();b.splice(y,1);var _=U(U({},v),{},{consumers:b});return U(U({},e),{},(0,s.Z)({},_.id,_));case"ADD_DATA_CONSUMER":var w=t.payload,S=w.dataConsumer,k=w.peerId;if(!k)return e;var E=e[k];if(!E)throw new Error("no Peer found for new DataConsumer");var R=[].concat((0,B.Z)(E.dataConsumers),[S.id]),x=U(U({},E),{},{dataConsumers:R});return U(U({},e),{},(0,s.Z)({},x.id,x));case"REMOVE_DATA_CONSUMER":var C=t.payload,P=C.dataConsumerId,T=C.peerId;if(!T)return e;var O=e[T];if(!O)return e;var D=O.dataConsumers.indexOf(P);if(-1===D)throw new Error("DataConsumer not found");var I=O.dataConsumers.slice();I.splice(D,1);var M=U(U({},O),{},{dataConsumers:I});return U(U({},e),{},(0,s.Z)({},M.id,M));default:return e}},consumers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?{}:e;case"ADD_CONSUMER":var r=t.payload.consumer;return V(V({},e),{},(0,s.Z)({},r.id,r));case"REMOVE_CONSUMER":var n=t.payload.consumerId,a=V({},e);return delete a[n],a;case"SET_CONSUMER_PAUSED":var i,o=t.payload,c=o.consumerId,l=o.originator;return i=V(V({},e[c]),{},"local"===l?{locallyPaused:!0}:{remotelyPaused:!0}),V(V({},e),{},(0,s.Z)({},c,i));case"SET_CONSUMER_RESUMED":var u,d=t.payload,p=d.consumerId,h=d.originator;return u=V(V({},e[p]),{},"local"===h?{locallyPaused:!1}:{remotelyPaused:!1}),V(V({},e),{},(0,s.Z)({},p,u));case"SET_CONSUMER_CURRENT_LAYERS":var f=t.payload,m=f.consumerId,g=f.spatialLayer,v=f.temporalLayer,y=V(V({},e[m]),{},{currentSpatialLayer:g,currentTemporalLayer:v});return V(V({},e),{},(0,s.Z)({},m,y));case"SET_CONSUMER_PREFERRED_LAYERS":var b=t.payload,_=b.consumerId,w=b.spatialLayer,S=b.temporalLayer,k=V(V({},e[_]),{},{preferredSpatialLayer:w,preferredTemporalLayer:S});return V(V({},e),{},(0,s.Z)({},_,k));case"SET_CONSUMER_PRIORITY":var E=t.payload,R=E.consumerId,x=E.priority,C=V(V({},e[R]),{},{priority:x});return V(V({},e),{},(0,s.Z)({},R,C));case"SET_CONSUMER_TRACK":var P=t.payload,T=P.consumerId,O=P.track,D=V(V({},e[T]),{},{track:O});return V(V({},e),{},(0,s.Z)({},T,D));case"SET_CONSUMER_SCORE":var I=t.payload,M=I.consumerId,j=I.score,L=e[M];if(!L)return e;var N=V(V({},L),{},{score:j});return V(V({},e),{},(0,s.Z)({},M,N));default:return e}},dataConsumers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM_STATE":return"closed"===t.payload.state?{}:e;case"ADD_DATA_CONSUMER":var r=t.payload.dataConsumer;return G(G({},e),{},(0,s.Z)({},r.id,r));case"REMOVE_DATA_CONSUMER":var n=t.payload.dataConsumerId,a=G({},e);return delete a[n],a;default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":var r=t.payload.notification;return[].concat((0,B.Z)(e),[r]);case"REMOVE_NOTIFICATION":var n=t.payload.notificationId;return e.filter((function(e){return e.id!==n}));case"REMOVE_ALL_NOTIFICATIONS":return[];default:return e}}});var Q=r(3003);function Y(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function $(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Y(e,t,"get"))}function X(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Y(e,t,"set"),r),r}var ee=r(7187),te=r(885),re=(r(3003).default,(0,o.Z)((function e(){(0,i.Z)(this,e),this.roomClient=null}))),ne=new(function(){function e(){(0,i.Z)(this,e),e.instance||(e.instance=new re)}return(0,o.Z)(e,[{key:"getInstance",value:function(){return e.instance}}]),e}());Object.freeze(ne);var ae=ne.getInstance(),ie=function(){function e(t){(0,i.Z)(this,e),this.id=t.id,this.kind=t.track.kind,this.codec=t.codec,this.track=t.track,this.producerOrConsumer=t.instance,t.appData&&!0===t.appData.share&&"video"===t.track.kind&&(this.kind="share"),t.appData&&!0===t.appData.share&&"audio"===t.track.kind&&(this.kind="shareAudio")}return(0,o.Z)(e,[{key:"pause",value:function(){ae.roomClient._pauseConsumer(this.producerOrConsumer)}},{key:"resume",value:function(){ae.roomClient._resumeConsumer(this.producerOrConsumer)}},{key:"paused",get:function(){return this.producerOrConsumer.paused}}]),e}();function oe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce="stream-enabled",le="stream-disabled",ue="media-status-changed",de="video-quality-changed",pe=function(){function e(t){var r=this;(0,i.Z)(this,e),(0,s.Z)(this,"captureImage",(0,a.Z)(l().mark((function e(){var t,n,i,o,s,c,u,d,p=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(t=p.length>0&&void 0!==p[0]?p[0]:{}).height,i=t.width,e.prev=1,o=(0,B.Z)(r.streams.values()),s=oe(o),e.prev=4,u=l().mark((function e(){var t,r,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("video"!=(t=c.value).kind){e.next=19;break}return e.prev=2,(r=new MediaStream).addTrack(t.track),(o=document.createElement("video")).srcObject=r,o.playsInline=!0,(s=document.createElement("canvas")).id="canvasId",e.next=12,new Promise((function(e,t){o.addEventListener("loadeddata",(0,a.Z)(l().mark((function r(){var a,c,u,d,p,h;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=o.videoWidth,c=o.videoHeight,u=16/9,null==n&&null==i&&(n=c,i=a),null==n&&null==n||(n<=0||n>c)&&(n=c),null==i&&null==i||(i<=0||i>a)&&(i=a),null==n&&(n=i/u),null==i&&(i=n*u),s.width=i,s.height=n,r.prev=9,r.next=12,o.play();case 12:document.body.appendChild(o),d=(s.width-a*u)/2,p=(s.height-c*u)/2,s.getContext("2d").clearRect(0,0,d/2,p/2),s.getContext("2d").drawImage(o,0,0),h=s.toDataURL("image/jpeg").split(";base64,")[1],document.body.appendChild(s),document.body.removeChild(s),document.body.removeChild(o),e(h),r.next=28;break;case 24:r.prev=24,r.t0=r.catch(9),t(r.t0),console.log("error in video",r.t0);case 28:case"end":return r.stop()}}),r,null,[[9,24]])}))))}));case 12:return u=e.sent,e.abrupt("return",{v:u});case 16:e.prev=16,e.t0=e.catch(2),console.error("err on image capture",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})),s.s();case 7:if((c=s.n()).done){e.next=14;break}return e.delegateYield(u(),"t0",9);case 9:if(!(d=e.t0)){e.next=12;break}return e.abrupt("return",d.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),s.e(e.t1);case 19:return e.prev=19,s.f(),e.finish(19);case 22:throw new Error("Camera must be on to capture an image");case 25:e.prev=25,e.t2=e.catch(1),console.error("Error in captureImage::",e.t2),ae.roomClient._videosdkLogs&&ae.roomClient._videosdkLogs.pushLogs({logText:"Error on image capture",logType:"ERROR",attributes:{error:e.t2.message}});case 29:case"end":return e.stop()}}),e,null,[[1,25],[4,16,19,22]])})))),this.id=t.id,this.displayName=t.displayName,this.streams=new Map,this.quality="low",this.local=t.local||!1,this.pinState={cam:!1,share:!1},this.webcamOn=!1,this.micOn=!1,this.mode=t.mode,this.metaData=t.metaData,this.eventEmitter=new ee.EventEmitter}var t,r,n,c;return(0,o.Z)(e,[{key:"_setPinState",value:function(e){null!=e.cam&&(this.pinState.cam=e.cam),null!=e.share&&(this.pinState.share=e.share)}},{key:"remove",value:function(){ae.roomClient.removePeer(this.id)}},{key:"enableMic",value:function(){ae.roomClient.enablePeerMic(this.id)}},{key:"disableMic",value:function(){ae.roomClient.disablePeerMic(this.id)}},{key:"enableWebcam",value:function(){ae.roomClient.enablePeerWebcam(this.id)}},{key:"disableWebcam",value:function(){ae.roomClient.disablePeerWebcam(this.id)}},{key:"addStream",value:function(e){this.streams.set(e.id,e),"video"!==e.kind||this.local||ae.roomClient.setConsumerQuality(e.id,this.quality),this.eventEmitter.emit(ce,e)}},{key:"updateStream",value:function(e){this.streams.set(e.id,e),this.eventEmitter.emit(ce,e)}},{key:"deleteStream",value:function(e){var t=this.streams.get(e);if(null!=t)return this.streams.delete(e),this.eventEmitter.emit(le,t),t}},{key:"updateParticipantMediaState",value:function(e,t){"audio"==e?this.micOn=t:"video"==e&&(this.webcamOn=t),this.eventEmitter.emit(ue,{peerId:this.id,kind:e,newStatus:t})}},{key:"videoQualityChanged",value:function(e,t){this.eventEmitter.emit(de,{peerId:this.id,prevQuality:e,currentQuality:t})}},{key:"setQuality",value:function(e){this.quality===e||this.local||(this.quality=e,(0,B.Z)(this.streams.entries()).forEach((function(t){var r=t[1];"video"===r.kind&&ae.roomClient.setConsumerQuality(r.id,e)})))}},{key:"setViewPort",value:function(e,t){(0,B.Z)(this.streams.entries()).forEach((function(r){var n=r[1];"video"===n.kind&&ae.roomClient.setViewPort(n.producerOrConsumer,e,t)}))}},{key:"pin",value:function(e){switch(e){case"SHARE_AND_CAM":case void 0:this._setPinState({cam:!0,share:!0});break;case"CAM":this._setPinState({cam:!0});break;case"SHARE":this._setPinState({share:!0});break;default:throw new Error("Unknown pin type")}ae.roomClient.pinStateChange({peerId:this.id,state:this.pinState})}},{key:"unpin",value:function(e){switch(e){case"SHARE_AND_CAM":case void 0:this._setPinState({cam:!1,share:!1});break;case"CAM":this._setPinState({cam:!1});break;case"SHARE":this._setPinState({share:!1});break;default:throw new Error("Unknown unpin type")}ae.roomClient.pinStateChange({peerId:this.id,state:this.pinState})}},{key:"switchTo",value:(c=(0,a.Z)(l().mark((function e(t){var r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.meetingId,n=t.payload,a=t.token,e.next=3,ae.roomClient.switchPeerRoom({peerId:this.id,roomId:r,payload:n,token:a});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getVideoStats",value:(n=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.local){e.next=6;break}return e.next=3,ae.roomClient.getVideoRemoteStats();case 3:return e.abrupt("return",e.sent);case 6:t=(0,B.Z)(this.streams.entries()),r=oe(t),e.prev=8,r.s();case 10:if((n=r.n()).done){e.next=18;break}if(a=(0,te.Z)(n.value,2),i=a[0],"video"!=a[1].kind){e.next=16;break}return e.next=15,ae.roomClient.getConsumerRemoteStats(i);case 15:return e.abrupt("return",e.sent);case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[8,20,23,26]])}))),function(){return n.apply(this,arguments)})},{key:"getShareStats",value:(r=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.local){e.next=6;break}return e.next=3,ae.roomClient.getShareRemoteStats();case 3:return e.abrupt("return",e.sent);case 6:t=(0,B.Z)(this.streams.entries()),r=oe(t),e.prev=8,r.s();case 10:if((n=r.n()).done){e.next=18;break}if(a=(0,te.Z)(n.value,2),i=a[0],"share"!=a[1].kind){e.next=16;break}return e.next=15,ae.roomClient.getConsumerRemoteStats(i);case 15:return e.abrupt("return",e.sent);case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[8,20,23,26]])}))),function(){return r.apply(this,arguments)})},{key:"getAudioStats",value:(t=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.micOn){e.next=2;break}return e.abrupt("return",[]);case 2:if(!this.local){e.next=8;break}return e.next=5,ae.roomClient.getAudioRemoteStats();case 5:return e.abrupt("return",e.sent);case 8:t=(0,B.Z)(this.streams.entries()),r=oe(t),e.prev=10,r.s();case 12:if((n=r.n()).done){e.next=20;break}if(a=(0,te.Z)(n.value,2),i=a[0],"audio"!=a[1].kind){e.next=18;break}return e.next=17,ae.roomClient.getConsumerRemoteStats(i);case 17:return e.abrupt("return",e.sent);case 18:e.next=12;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:case"end":return e.stop()}}),e,this,[[10,22,25,28]])}))),function(){return t.apply(this,arguments)})},{key:"consumeMicStreams",value:function(){ae.roomClient.consumeMicStreams(this.id)}},{key:"consumeWebcamStreams",value:function(){ae.roomClient.consumeWebcamStreams(this.id)}},{key:"stopConsumingWebcamStreams",value:function(){ae.roomClient.stopConsumingWebcamStreams(this.id)}},{key:"stopConsumingMicStreams",value:function(){ae.roomClient.stopConsumingMicStreams(this.id)}},{key:"on",value:function(e,t){switch(e){case ce:case le:case ue:case de:this.eventEmitter.on(e,t);break;default:throw new Error("Invalid event type")}}},{key:"off",value:function(e,t){switch(e){case ce:case le:case ue:case de:this.eventEmitter.off(e,t);break;default:throw new Error("Invalid event type")}}}]),e}(),he=new WeakMap,fe=function(){function e(t,r){var n=t.id,a=t.displayName;(0,i.Z)(this,e),function(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}(this,he,{writable:!0,value:void 0}),this.id=n,this.displayName=a,X(this,he,r)}var t;return(0,o.Z)(e,[{key:"switchTo",value:(t=(0,a.Z)(l().mark((function e(t){var r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.meetingId,n=t.payload,a=t.token,e.next=3,ae.roomClient.connectionSwitchPeerRoom({roomId:r,connectionRoomId:$(this,he),payload:n,peerId:this.id,token:a});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),me="participant-joined",ge="participant-left",ve="chat-message",ye=function(){function e(t,r){var n=this;(0,i.Z)(this,e),this.eventEmitter=new ee.EventEmitter,this.id=t,this.participants=new Map,r.forEach((function(e){n.participants.set(e.id,new fe(e,n.id))}))}var t;return(0,o.Z)(e,[{key:"participantJoin",value:function(e){var t=new fe(e,this.id);this.participants.set(e.id,t),this.eventEmitter.emit(me,t)}},{key:"participantLeft",value:function(e){this.participants.delete(e),this.eventEmitter.emit(ge,e)}},{key:"sendChatMessage",value:function(e){ae.roomClient.connectionSendChatMessage({roomId:this.id,message:e})}},{key:"sendChatMessageEvent",value:function(e){var t=e.participantId,r=e.message;this.eventEmitter.emit(ve,{participantId:t,message:r})}},{key:"end",value:(t=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.roomClient.connectionEndMeeting({roomId:this.id});case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"on",value:function(e,t){switch(e){case me:case ge:case ve:this.eventEmitter.on(e,t);break;default:throw new Error("Invalid event type")}}},{key:"off",value:function(e,t){switch(e){case me:case ge:case ve:this.eventEmitter.off(e,t);break;default:throw new Error("Invalid event type")}}}]),e}(),be=function(){function e(t){var r=t.roomId,n=t.peers,a=t.payload;(0,i.Z)(this,e),this.id=r,this.payload=a,this.meeting=new ye(r,n)}return(0,o.Z)(e,[{key:"close",value:function(){ae.roomClient.closeConnection(this.id)}}]),e}();function _e(e,t){we(e,t),t.add(e)}function we(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Se(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var ke="error",Ee="meeting-joined",Re="meeting-left",xe="participant-mode-changed",Ce="participant-joined",Pe="participant-left",Te="speaker-changed",Oe="presenter-changed",De="main-participant-changed",Ie="chat-message",Me="entry-requested",je="entry-responded",Le="recording-state-changed",Ne="recording-started",Ae="recording-stopped",Be="livestream-state-changed",Fe="livestream-started",Ue="livestream-stopped",ze="hls-state-changed",We="hls-started",Ve="hls-stopped",He="whiteboard-started",qe="whiteboard-stopped",Ge="video-state-changed",Ze="video-seeked",Ke="mic-requested",Je="webcam-requested",Qe="stream-enabled",Ye="stream-disabled",$e="pin-state-changed",Xe="connection-open",et="connection-close",tt="switch-meeting",rt="meeting-state-changed",nt=new WeakMap,at=new WeakSet,it=new WeakSet,ot=function(){function e(t,r,o){var c,u,d,p,h,f=this;(0,i.Z)(this,e),_e(this,it),_e(this,at),u={writable:!0,value:void 0},we(this,c=nt),c.set(this,u),(0,s.Z)(this,"pubSub",{publish:(h=(0,a.Z)(l().mark((function e(t,r,a,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i){e.next=3;break}if("object"==(0,n.Z)(i)){e.next=3;break}throw new Error('"payload" can only be object.');case 3:return e.next=5,f.roomClient.pubsubPublish(t,r,a,i);case 5:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return h.apply(this,arguments)}),subscribe:(p=(0,a.Z)(l().mark((function e(t,r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(f,nt).listeners(t).includes(r)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f.roomClient.pubsubSubscribe(t);case 4:return n=e.sent,$(f,nt).on(t,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return p.apply(this,arguments)}),unsubscribe:(d=(0,a.Z)(l().mark((function e(t,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(f,nt).off(t,r),0!=$(f,nt).listeners(t).length){e.next=4;break}return e.next=4,f.roomClient.pubsubUnsubscribe(t);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)})}),(0,s.Z)(this,"uploadBase64File",function(){var e=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.base64Data,n=t.token,a=t.fileName,e.prev=1,r&&n&&a){e.next=4;break}throw new Error("please provide base64Data, token and fileName");case 4:return i="https://".concat(f.baseUrl,"/base64-upload?roomId=").concat(f.id),o={fileName:a,base64Data:r},e.next=8,fetch(i,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:n}});case 8:return s=e.sent,e.next=11,s.json();case 11:return c=e.sent,e.abrupt("return",c.url);case 15:e.prev=15,e.t0=e.catch(1),console.error("Error while Uploading Base64 File::",e.t0),f.roomClient._videosdkLogs&&f.roomClient._videosdkLogs.pushLogs({logText:"Error while Uploading Base64 File",logType:"ERROR",attributes:{error:e.t0.message}});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)(this,"fetchBase64File",function(){var e=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.token,e.prev=1,r&&n){e.next=4;break}throw new Error("please provide url and token");case 4:return e.next=6,fetch(r,{headers:{Authorization:n}});case 6:return a=e.sent,e.next=9,a.arrayBuffer();case 9:return i=e.sent,o=window.btoa(new Uint8Array(i).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while fetching Base64 File::",e.t0),f.roomClient._videosdkLogs&&f.roomClient._videosdkLogs.pushLogs({logText:"Error while fetching Base64 File",logType:"ERROR",attributes:{error:e.t0.message}});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()),this.id=t,this.roomClient=o,this.activeSpeakerId=null,this.activePresenterId=null,this.mainParticipantId=null,this.connections=new Map,this.localParticipant=r,this.participants=new Map,this.baseUrl=null,this.livestreamState="LIVESTREAM_STOPPED",this.recordingState="RECORDING_STOPPED",this.hlsState="HLS_STOPPED",this.hlsUrls={downstreamUrl:null,playbackHlsUrl:null,livestreamUrl:null},this.messages=[],this.eventEmitter=new ee.EventEmitter,X(this,nt,new ee.EventEmitter),this.eventEmitter.setMaxListeners(9999),$(this,nt).setMaxListeners(9999),this.roomClient.on("ERROR",(function(e){return f.handleError(e)})),this.roomClient.on("ADD_PEER",(function(e){return f.handlePeerAdd(e)})),this.roomClient.on("REMOVE_PEER",(function(e){return f.handlePeerRemove(e)})),this.roomClient.on("ADD_PRODUCER",(function(e){return f.handleProducerAdd(e)})),this.roomClient.on("UPDATE_PRODUCER",(function(e){return f.handleUpdateProducer(e)})),this.roomClient.on("REMOVE_PRODUCER",(function(e){return f.handleProducerRemove(e)})),this.roomClient.on("ADD_CONSUMER",(function(e){return f.handleConsumerAdd(e)})),this.roomClient.on("REMOVE_CONSUMER",(function(e){return f.handleConsumerRemove(e)})),this.roomClient.on("PARTICIPANT_MEDIA_STATE_CHANGED",(function(e){return f.handleParticipantMediaStateChanged(e)})),this.roomClient.on("CHAT_MESSAGE",(function(e){return f.handleNewChatMessage(e)})),this.roomClient.on("SET_ROOM_ACTIVE_SPEAKER",(function(e){return f.handleSpeakerChange(e)})),this.roomClient.on("ENTRY_REQUESTED",(function(e){return f.handleEntryRequested(e)})),this.roomClient.on("ENTRY_RESPONDED",(function(e){return f.handleEntryResponded(e)})),this.roomClient.on("MEETING_JOINED",(function(e){return f.handleMeetingJoined(e)})),this.roomClient.on("MEETING_LEFT",(function(e){return f.handleMeetingLeft(e)})),this.roomClient.on("RECORDING_STATE_CHANGED",(function(e){f.handleRecordingStateChanged(e)})),this.roomClient.on("RECORDING_STARTED",(function(e){return f.handleRecordingStarted(e)})),this.roomClient.on("RECORDING_STOPPED",(function(e){return f.handleRecordingStopped(e)})),this.roomClient.on("LIVESTREAM_STATE_CHANGED",(function(e){f.handleLivestreamStateChanged(e)})),this.roomClient.on("LIVESTREAM_STARTED",(function(e){return f.handleLivestreamStarted(e)})),this.roomClient.on("LIVESTREAM_STOPPED",(function(e){return f.handleLivestreamStopped(e)})),this.roomClient.on("HLS_STATE_CHANGED",(function(e){f.handleHlsStateChanged(e)})),this.roomClient.on("HLS_STARTED",(function(e){f.handleHlsStarted(e)})),this.roomClient.on("HLS_STOPPED",(function(e){f.handleHlsStopped(e)})),this.roomClient.on("WHITEBOARD_STARTED",(function(e){return f.handleWhiteboardStarted(e)})),this.roomClient.on("WHITEBOARD_STOPPED",(function(e){return f.handleWhiteboardStopped(e)})),this.roomClient.on("VIDEO_STATE_CHANGED",(function(e){return f.handleVideoStateChanged(e)})),this.roomClient.on("VIDEO_SEEKED",(function(e){return f.handleVideoSeeked(e)})),this.roomClient.on("PIN_STATE_CHANGED",(function(e){f.handlePinStateChanged(e)})),this.roomClient.on("MIC_REQUESTED",(function(e){return f.handleMicRequested(e)})),this.roomClient.on("WEBCAM_REQUESTED",(function(e){return f.handleWebcamRequested(e)})),this.roomClient.on("CONNECTION_OPEN",(function(e){return f.handleConnectionOpen(e)})),this.roomClient.on("CONNECTION_CLOSE",(function(e){return f.handleConnectionClose(e)})),this.roomClient.on("CONNECTION_PARTICIPANT_JOIN",(function(e){return f.handleConnectionParticipantJoin(e)})),this.roomClient.on("SWITCH_ROOM",(function(e){return f.handleSwitchMeeting(e)})),this.roomClient.on("CONNECTION_CHAT_MESSAGE",(function(e){return f.handleConnectionChatMessage(e)})),this.roomClient.on("CONNECTION_PARTICIPANT_LEFT",(function(e){f.handleConnectionParticipantLeft(e)})),this.roomClient.on("PUBSUB_MESSAGE",(function(e){return Se(f,at,st).call(f,e)})),this.roomClient.on("PEER_MODE_CHANGED",(function(e){return Se(f,it,ct).call(f,e)})),this.updateMainParticipant(this.localParticipant.id),this.roomClient.on("MEETING_STATE_CHANGED",(function(e){return f.handleMeetingStateChanged(e)})),this.roomClient.on("VIDEO_QUALITY_CHANGED",(function(e){return f.handleVideoQualityChanged(e)}))}var t,r,c,u,d,p,h,f;return(0,o.Z)(e,[{key:"handleError",value:function(e){this.eventEmitter.emit(ke,e)}},{key:"join",value:function(){this.roomClient.join()}},{key:"changeMode",value:function(e){this.roomClient.changeMode(e)}},{key:"leave",value:function(){this.roomClient.close({sendLeft:!0})}},{key:"end",value:function(){this.roomClient.closeRoom()}},{key:"respondEntry",value:function(e,t){this.roomClient.respondEntry(e,t)}},{key:"pinnedParticipants",get:function(){return this.roomClient._pinnedParticipants}},{key:"muteMic",value:function(){this.roomClient.disableMic()}},{key:"unmuteMic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.roomClient.enableMic(e)}},{key:"publishAudio",value:(f=(0,a.Z)(l().mark((function e(){var t,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:void 0,e.next=3,this.roomClient.enableMic(t);case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"unpublishAudio",value:(h=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.roomClient.disableMic();case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"disableWebcam",value:function(){this.roomClient.disableWebcam()}},{key:"enableWebcam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.roomClient.enableWebcam(e)}},{key:"publishVideo",value:(p=(0,a.Z)(l().mark((function e(){var t,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:void 0,this.roomClient.enableWebcam(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"unpublishVideo",value:(d=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.roomClient.disableWebcam(),e.abrupt("return");case 2:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"disableScreenShare",value:function(){this.roomClient.disableShare()}},{key:"enableScreenShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.roomClient.enableShare(e)}},{key:"pubblishScreenShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.roomClient.enableShare(e)}},{key:"unpublishScreenShare",value:function(){this.roomClient.disableShare()}},{key:"sendChatMessage",value:function(e){this.roomClient.sendChatMessage(e);var t={text:e,timestamp:(new Date).getTime(),senderId:this.localParticipant.id,senderName:this.localParticipant.displayName};this.handleNewChatMessage(t)}},{key:"startRecording",value:function(e,t,r){this.roomClient.startRecording(e,t,r)}},{key:"stopRecording",value:function(){this.roomClient.stopRecording()}},{key:"startLivestream",value:function(e,t){this.roomClient.startLivestream(e,t)}},{key:"stopLivestream",value:function(){this.roomClient.stopLivestream()}},{key:"startHls",value:(u=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.roomClient.startHls(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"stopHls",value:function(){this.roomClient.stopHls()}},{key:"getMics",value:(c=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.roomClient.getMics();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getWebcams",value:(r=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.roomClient.getWebcams();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"changeMic",value:function(e){this.roomClient.changeMic(e)}},{key:"changeWebcam",value:function(e){this.roomClient.changeWebcam(e)}},{key:"replaceWebcamStream",value:function(e){this.roomClient.replaceWebcamStream(e)}},{key:"setWebcamQuality",value:function(e){this.roomClient.setWebcamQuality(e)}},{key:"startWhiteboard",value:function(){this.roomClient.startWhiteboard()}},{key:"stopWhiteboard",value:function(){this.roomClient.stopWhiteboard()}},{key:"startVideo",value:function(e){var t=e.link;this.roomClient.startVideo({link:t})}},{key:"stopVideo",value:function(){this.roomClient.stopVideo()}},{key:"resumeVideo",value:function(){this.roomClient.resumeVideo()}},{key:"refreshConnection",value:function(){this.roomClient.restartIce()}},{key:"pauseVideo",value:function(e){var t=e.currentTime;this.roomClient.pauseVideo(t)}},{key:"seekVideo",value:function(e){var t=e.currentTime;this.roomClient.seekVideo(t)}},{key:"handlePeerAdd",value:function(e){var t=e.peer,r=new pe(t);this.participants.set(r.id,r),this.eventEmitter.emit(Ce,r),1===this.participants.size&&this.updateMainParticipant(r.id)}},{key:"handlePeerRemove",value:function(e){var t=e.peerId,r=this.participants.get(t);null!=r&&(this.participants.delete(t),this.eventEmitter.emit(Pe,r),this.activePresenterId===r.id&&(this.activePresenterId=null,this.eventEmitter.emit(Oe,this.activePresenterId)),this.mainParticipantId===r.id&&(this.participants.size>0?this.updateMainParticipant(this.participants.entries().next().value[1].id):this.updateMainParticipant(this.localParticipant.id)))}},{key:"handleProducerAdd",value:function(e){var t=e.producer,r=new ie(t);this.localParticipant.addStream(r),"share"===r.kind&&(this.activePresenterId=this.localParticipant.id,this.eventEmitter.emit(Oe,this.activePresenterId),this.updateMainParticipant(this.localParticipant.id))}},{key:"handleUpdateProducer",value:function(e){var t=e.producer,r=new ie(t);this.localParticipant.updateStream(r)}},{key:"handleProducerRemove",value:function(e){var t=e.producerId,r=this.localParticipant.deleteStream(t);if(r&&"share"===r.kind){this.activePresenterId=null,this.eventEmitter.emit(Oe,this.activePresenterId);var n=this.participants.size>0?this.participants.entries().next().value[1].id:null;this.updateMainParticipant(this.activeSpeakerId||n||this.localParticipant.id)}}},{key:"handleConsumerAdd",value:function(e){var t=e.consumer,r=e.peerId,n=this.participants.get(r);if(n){var a=new ie(t);n.addStream(a),this.eventEmitter.emit(Qe,a),"share"===a.kind&&(this.activePresenterId=n.id,this.eventEmitter.emit(Oe,this.activePresenterId),this.updateMainParticipant(n.id))}}},{key:"handleConsumerRemove",value:function(e){var t=e.consumerId,r=e.peerId,n=this.participants.get(r);if(null!=n&&n){var a=n.deleteStream(t);if(this.eventEmitter.emit(Ye,a),a&&"share"===a.kind){this.activePresenterId=null,this.eventEmitter.emit(Oe,this.activePresenterId);var i=this.participants.size>0?this.participants.entries().next().value[1].id:null;this.updateMainParticipant(this.activeSpeakerId||i||this.localParticipant.id)}}}},{key:"handleParticipantMediaStateChanged",value:function(e){var t=e.peerId,r=e.kind,n=e.newState,a=this.participants.get(t);a&&a&&("audio"==r?a.micOn=n:"video"==r&&(a.webcamOn=n),a.updateParticipantMediaState(r,n))}},{key:"handleSpeakerChange",value:function(e){var t=e.peerId;this.activeSpeakerId!==t&&(this.activeSpeakerId=t,this.eventEmitter.emit(Te,t),t&&t!==this.localParticipant.id&&this.activePresenterId!==this.mainParticipantId&&t!==this.mainParticipantId&&this.updateMainParticipant(t))}},{key:"handleNewChatMessage",value:function(e){var t=e.senderId,r={senderId:t,text:e.text,timestamp:e.timestamp};if(this.localParticipant.id===t)r.senderName=this.localParticipant.displayName;else{var n=this.participants.get(t);n&&(r.senderName=n.displayName)}this.messages.push(r),this.eventEmitter.emit(Ie,r)}},{key:"updateMainParticipant",value:function(e){var t;this.mainParticipantId=e,t=e===this.localParticipant.id?this.localParticipant:this.participants.get(this.mainParticipantId),this.eventEmitter.emit(De,t)}},{key:"handleEntryRequested",value:function(e){var t=this,r=e.id,n=e.name;this.eventEmitter.emit(Me,{participantId:r,name:n,allow:function(){t.roomClient.respondEntry(r,"allowed")},deny:function(){t.roomClient.respondEntry(r,"denied")}})}},{key:"handleEntryResponded",value:function(e){var t=e.id,r=e.decision;this.eventEmitter.emit(je,t,r)}},{key:"handleMeetingJoined",value:function(e){var t=e.peers,r=e.poll,n=e.messages,a=e.baseUrl;this.baseUrl=a,n.length>0&&(this.messages=n),this.eventEmitter.emit(Ee,{peers:t,poll:r,messages:n})}},{key:"handleMeetingLeft",value:function(e){this.eventEmitter.emit(Re,e)}},{key:"handleRecordingStateChanged",value:function(e){this.recordingState=e.status,this.eventEmitter.emit(Le,e)}},{key:"handleLivestreamStateChanged",value:function(e){this.livestreamState=e.status,this.eventEmitter.emit(Be,e)}},{key:"handleHlsStateChanged",value:function(e){this.hlsState=e.status,"HLS_PLAYABLE"==e.status?this.hlsUrls={downstreamUrl:e.downstreamUrl,playbackHlsUrl:e.playbackHlsUrl,livestreamUrl:e.livestreamUrl}:"HLS_STOPPED"==e.status&&(this.hlsUrls={downstreamUrl:null,playbackHlsUrl:null,livestreamUrl:null}),this.eventEmitter.emit(ze,e)}},{key:"handleRecordingStarted",value:function(){this.eventEmitter.emit(Ne)}},{key:"handleRecordingStopped",value:function(){this.eventEmitter.emit(Ae)}},{key:"handleLivestreamStarted",value:function(){this.eventEmitter.emit(Fe)}},{key:"handleLivestreamStopped",value:function(){this.eventEmitter.emit(Ue)}},{key:"handleHlsStarted",value:function(e){this.eventEmitter.emit(We,e)}},{key:"handleHlsStopped",value:function(){this.eventEmitter.emit(Ve)}},{key:"handleWhiteboardStarted",value:function(e){var t=e.state;this.eventEmitter.emit(He,t)}},{key:"handleWhiteboardStopped",value:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),this.eventEmitter.emit(qe)}},{key:"handleVideoStateChanged",value:function(e){this.eventEmitter.emit(Ge,e)}},{key:"handleVideoSeeked",value:function(e){var t=e.currentTime;this.eventEmitter.emit(Ze,{currentTime:t})}},{key:"handlePinStateChanged",value:function(e){var t=e.peerId,r=e.state,n=e.pinnedBy;this.eventEmitter.emit($e,{participantId:t,state:r,pinnedBy:n})}},{key:"handleMeetingStateChanged",value:function(e){var t=e.state;this.eventEmitter.emit(rt,{state:t})}},{key:"handleVideoQualityChanged",value:function(e){var t=e.peerId,r=e.prevQuality,n=e.currentQuality,a=this.participants.get(t);a&&a&&a.videoQualityChanged(r,n)}},{key:"handleMicRequested",value:function(e){var t=this,r=e.peerId;this.eventEmitter.emit(Ke,{participantId:r,accept:function(){return t.unmuteMic()},reject:function(){}})}},{key:"handleWebcamRequested",value:function(e){var t=this,r=e.peerId;this.eventEmitter.emit(Je,{participantId:r,accept:function(){return t.enableWebcam()},reject:function(){}})}},{key:"handleConnectionParticipantJoin",value:function(e){var t=e.roomId,r=e.peer,n=this.connections.get(t);null!=n&&n.meeting.participantJoin(r)}},{key:"handleConnectionParticipantLeft",value:function(e){var t=e.roomId,r=e.peerId,n=this.connections.get(t);null!=n&&n.meeting.participantLeft(r)}},{key:"handleConnectionOpen",value:function(e){var t=e.peers,r=e.roomId,n=e.payload,a=new be({roomId:r,peers:t,payload:n});this.connections.set(a.id,a),this.eventEmitter.emit(Xe,a)}},{key:"handleConnectionClose",value:function(e){var t=e.roomId;null!=this.connections.get(t)&&(this.connections.delete(t),this.eventEmitter.emit(et,t))}},{key:"handleSwitchMeeting",value:function(e){var t=e.roomId,r=e.token,n=e.payload,a=e.peerId,i=e.connectionPeerId,o=e.connectionRoomId,s=a?{meetingId:t,payload:n,token:r,participantId:a}:{meetingId:t,payload:n,token:r,connectionParticipantId:i,connectionMeetingId:o};this.eventEmitter.emit(tt,s)}},{key:"handleConnectionChatMessage",value:function(e){var t=e.roomId,r=e.peerId,n=e.message,a=this.connections.get(t);null!=a&&a.meeting.sendChatMessageEvent({participantId:r,message:n})}},{key:"connectTo",value:(t=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.meetingId,n=t.payload,e.next=3,this.roomClient.openConnection({roomId:r,payload:n});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"selectedCameraDevice",get:function(){var e;return null===(e=this.roomClient._webcam)||void 0===e?void 0:e.device}},{key:"selectedMicrophoneDevice",get:function(){var e;return null===(e=this.roomClient._mic)||void 0===e?void 0:e.device}},{key:"on",value:function(e,t){switch(e){case Ce:case Pe:case Te:case Oe:case De:case Ie:case Me:case je:case Le:case Ne:case Ae:case Be:case Fe:case Ue:case We:case Ve:case ze:case Qe:case Ye:case He:case qe:case Ee:case Re:case Ge:case Ze:case Ke:case Je:case $e:case Xe:case et:case tt:case rt:case xe:case ke:this.eventEmitter.on(e,t);break;default:throw new Error("Invalid event type")}}},{key:"off",value:function(e,t){switch(e){case Ce:case Pe:case Te:case Oe:case De:case Ie:case Me:case je:case Le:case Ne:case Ae:case Be:case Fe:case Ue:case ze:case We:case Ve:case Qe:case Ye:case He:case qe:case Ee:case Re:case Ge:case Ze:case Ke:case Je:case $e:case Xe:case et:case tt:case rt:case ke:case xe:this.eventEmitter.off(e,t);break;default:throw new Error("Invalid event type")}}}]),e}();function st(e){var t=e.topic,r=e.message,n=e.senderId,a=e.timestamp,i=e.senderName,o=e.id,s=e.payload;t&&r&&$(this,nt).emit(t,{message:r,senderId:n,timestamp:a,topic:t,senderName:i,id:o,payload:s})}function ct(e){var t=e.peerId,r=e.mode;t===this.localParticipant.id?this.localParticipant.mode=r:this.participants.get(t).mode=r,this.eventEmitter.emit(xe,{participantId:t,mode:r})}var lt=r(6900),ut=r(6380),dt=r(3430),pt=r(8962),ht=function(){var e=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getDisplayMedia&&(navigator.mediaDevices.getDisplayMedia=function(e){var t=navigator.webkitGetDisplayMedia||navigator.mozGetDisplayMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getDisplayMedia is not implemented in this browser"))}),e.next=4,navigator.mediaDevices.getDisplayMedia(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}function yt(e,t,r){return t=mt(t),function(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bt()?Reflect.construct(t,r||[],mt(e).constructor):t.apply(e,r))}function bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bt=function(){return!!e})()}var _t=function(e){function t(e,r,n,a){return(0,i.Z)(this,t),yt(this,t,[e,r,n,a])}return vt(t,e),(0,o.Z)(t)}((0,o.Z)((function e(t,r,n,a){(0,i.Z)(this,e),this.deviceId=t,this.groupId=r,this.kind=n,this.label=a}))),wt=function(e){function t(e,r,n,a){return(0,i.Z)(this,t),yt(this,t,[e,r,n,a])}return vt(t,e),(0,o.Z)(t)}(_t),St=function(e){function t(e,r,n,a){return(0,i.Z)(this,t),yt(this,t,[e,r,n,a])}return vt(t,e),(0,o.Z)(t)}(_t),kt=function(e){function t(e,r,n,a){return(0,i.Z)(this,t),yt(this,t,[e,r,n,a])}return vt(t,e),(0,o.Z)(t)}(_t),Et={AUDIO:"audio",VIDEO:"video",AUDIO_AND_VIDEO:"audio_video"},Rt=(r(4301),r(773));function xt(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ct(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pt(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=xt,r=(t,r)=>xt(e(t),r),n=(t,r)=>e(t)-r):(t=e===xt||e===Ct?e:Tt,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Tt(){return 0}const Ot=Pt(xt),Dt=Ot.right,It=(Ot.left,Pt((function(e){return null===e?NaN:+e})).center,Dt);function Mt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function jt(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[It(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return jt().domain(t).range(r).unknown(e)},Mt.apply(a,arguments)}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tr(n.key),n)}}function Ft(e,t,r){return t&&Bt(e.prototype,t),r&&Bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ut(e,t,r){return(t=tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}function Wt(e){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wt(e)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function Ht(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Wt(e);if(t){var a=Wt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}(this,r)}}function Zt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wt(e)););return e}function Kt(){return Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Zt(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},Kt.apply(this,arguments)}function Jt(e,t,r,n){return Jt="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var a,i=Zt(e,t);if(i){if((a=Object.getOwnPropertyDescriptor(i,t)).set)return a.set.call(n,r),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(n,t)){if(!a.writable)return!1;a.value=r,Object.defineProperty(n,t,a)}else Ut(n,t,r);return!0},Jt(e,t,r,n)}function Qt(e,t,r,n,a){if(!Jt(e,t,r,n||e)&&a)throw new TypeError("failed to set property");return r}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||Xt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e){return function(e){if(Array.isArray(e))return er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){if(e){if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?er(e,t):void 0}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function rr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ar(e,t,"get"))}function nr(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ar(e,t,"set"),r),r}function ar(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ir(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function or(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sr(e,t,r){or(e,t),t.set(e,r)}function cr(e,t){or(e,t),t.add(e)}var lr="https://speed.cloudflare.com",ur={autoStart:!0,downloadApiUrl:"".concat(lr,"/__down"),uploadApiUrl:"".concat(lr,"/__up"),logMeasurementApiUrl:null,logAimApiUrl:"https://aim.cloudflare.com/__log",turnServerUri:"turn.speed.cloudflare.com:50000",turnServerCredsApiUrl:"".concat(lr,"/turn-creds"),turnServerUser:null,turnServerPass:null,rpkiInvalidHost:"invalid.rpki.cloudflare.com",cfTraceUrl:"".concat(lr,"/cdn-cgi/trace"),includeCredentials:!1,measurements:[{type:"latency",numPackets:1},{type:"download",bytes:1e5,count:1,bypassMinDuration:!0},{type:"latency",numPackets:20},{type:"download",bytes:1e5,count:9},{type:"download",bytes:1e6,count:8},{type:"upload",bytes:1e5,count:8},{type:"packetLoss",numPackets:1e3,batchSize:10,batchWaitTime:10,responsesWaitTime:3e3},{type:"upload",bytes:1e6,count:6},{type:"download",bytes:1e7,count:6},{type:"upload",bytes:1e7,count:4},{type:"download",bytes:25e6,count:4},{type:"upload",bytes:25e6,count:4},{type:"download",bytes:1e8,count:3},{type:"upload",bytes:5e7,count:3},{type:"download",bytes:25e7,count:2}],measureDownloadLoadedLatency:!0,measureUploadLoadedLatency:!0,loadedLatencyThrottle:400,bandwidthFinishRequestDuration:1e3,estimatedServerTime:10,latencyPercentile:.5,bandwidthPercentile:.9,bandwidthMinRequestDuration:10,loadedRequestMinDuration:250,loadedLatencyMaxPoints:20},dr={aimMeasurementScoring:{packetLoss:jt([.01,.05,.25,.5],[10,5,0,-10,-20]),latency:jt([10,20,50,100,500],[20,10,5,0,-10,-20]),loadedLatencyIncrease:jt([10,20,50,100,500],[20,10,5,0,-10,-20]),jitter:jt([10,20,100,500],[10,5,0,-10,-20]),download:jt([1e6,1e7,5e7,1e8],[0,5,10,20,30]),upload:jt([1e6,1e7,5e7,1e8],[0,5,10,20,30])},aimExperiencesDefs:{streaming:{input:["latency","packetLoss","download","loadedLatencyIncrease"],pointThresholds:[15,20,40,60]},gaming:{input:["latency","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,30]},rtc:{input:["latency","jitter","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,40]}}},pr=function(e){var t=e.headers.get("server-timing");if(t){var r=t.match(/dur=([0-9.]+)/);if(r)return+r[1]}},hr=function(e){return e.responseStart-e.requestStart},fr=function(e){return e.responseEnd-e.responseStart},mr=function(e){return e.ping+e.payloadDownloadTime},gr=function(e){return e.ttfb},vr=function(e,t){var r=e.duration,n=e.transferSize,a=r/1e3;return a?8*(n||1.005*+t)/a:void 0},yr=function(e,t){var r=e.duration/1e3;return r?8*t*1.005/r:void 0},br=Rt((function(e){return"0".repeat(e)})),_r=new WeakMap,wr=new WeakMap,Sr=new WeakMap,kr=new WeakMap,Er=new WeakMap,Rr=new WeakMap,xr=new WeakMap,Cr=new WeakMap,Pr=new WeakMap,Tr=new WeakMap,Or=new WeakMap,Dr=new WeakMap,Ir=new WeakMap,Mr=new WeakMap,jr=new WeakMap,Lr=new WeakMap,Nr=new WeakMap,Ar=new WeakMap,Br=new WeakMap,Fr=new WeakMap,Ur=new WeakMap,zr=new WeakMap,Wr=new WeakSet,Vr=new WeakSet,Hr=new WeakSet,qr=new WeakSet;function Gr(e){var t=this;e!==rr(this,Dr)&&(nr(this,Dr,e),setTimeout((function(){return rr(t,kr).call(t,rr(t,Dr))})))}function Zr(e,t){var r=this,n=rr(this,Pr)[e],a=n.bytes,i=n.dir,o=rr(this,Mr),s=o[i].hasOwnProperty(a)?o[i][a]:{timings:[],numMeasurements:rr(this,Pr).filter((function(e){var t=e.bytes,r=e.dir;return a===t&&i===r})).map((function(e){return e.count})).reduce((function(e,t){return e+t}),0)};t&&s.timings.push(t),s.timings=s.timings.slice(-s.numMeasurements),o[i][a]=s,t?setTimeout((function(){rr(r,Rr).call(r,Nt({type:i,bytes:a},t),o)})):rr(this,Er).call(this,rr(this,Pr)[e],o)}function Kr(){var e=this,t=rr(this,Pr),r=t[rr(this,jr)];if(rr(this,Lr)>=r.count){var n=rr(this,Ir);if(rr(this,Ar)>this.finishRequestDuration&&!r.bypassMinDuration){var a=r.dir;rr(this,Ir)[a]=!0,Object.values(rr(this,Ir)).every((function(e){return e}))&&rr(this,xr).call(this,rr(this,Mr))}nr(this,Lr,0),nr(this,Ar,-1/0),performance.clearResourceTimings();do{nr(this,jr,rr(this,jr)+1)}while(rr(this,jr)<t.length&&n[t[rr(this,jr)].dir]);if(rr(this,jr)>=t.length)return nr(this,Ir,{down:!0,up:!0}),ir(this,Wr,Gr).call(this,!1),void rr(this,xr).call(this,rr(this,Mr));r=t[rr(this,jr)]}var i=rr(this,jr);0===rr(this,Lr)&&ir(this,Vr,Zr).call(this,i);var o=r,s=o.bytes,c="down"===o.dir,l=rr(this,c?Tr:Or),u=Object.assign({},rr(this,_r));c&&(u.bytes="".concat(s));var d,p="".concat(l.startsWith("http")||l.startsWith("//")?"":window.location.origin).concat(l,"?").concat(Object.entries(u).map((function(e){var t=Yt(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&")),h=Object.assign({},c?{}:{method:"POST",body:br(s)},rr(this,wr)),f=nr(this,Ur,fetch(p,h).then((function(e){if(e.ok)return e;throw Error(e.statusText)})).then((function(t){return e.getServerTime&&(d=e.getServerTime(t)),t})).then((function(t){return t.text().then((function(r){return rr(e,Sr)&&rr(e,Sr).call(e,{url:p,headers:t.headers,body:r}),r}))})).then((function(t,r){if(f._cancel)r("cancelled");else{var n=performance.getEntriesByName(p).slice(-1)[0],a={transferSize:n.transferSize,ttfb:hr(n),payloadDownloadTime:fr(n),serverTime:d||-1,measTime:new Date};if(a.ping=Math.max(.01,a.ttfb-(d||rr(e,Fr))),a.duration=(c?mr:gr)(a),a.bps=(c?vr:yr)(a,s),c&&s){var o=+s;a.transferSize&&(a.transferSize<o||a.transferSize/o>1.05)&&console.warn("Requested ".concat(o,"B but received ").concat(a.transferSize,"B (").concat(Math.round(a.transferSize/o*1e4)/100,"%)."))}ir(e,Vr,Zr).call(e,i,a);var l=a.duration;nr(e,Ar,rr(e,Ar)<0?l:Math.min(rr(e,Ar),l)),nr(e,Lr,rr(e,Lr)+1),nr(e,Nr,0),rr(e,Br)?nr(e,zr,setTimeout((function(){return ir(e,Hr,Kr).call(e)}),rr(e,Br))):ir(e,Hr,Kr).call(e)}})).catch((function(t){var r,n;f._cancel||(console.warn("Error fetching ".concat(p,": ").concat(t)),nr(e,Nr,(r=rr(e,Nr),n=r++,r)),n<20?ir(e,Hr,Kr).call(e):(nr(e,Nr,0),ir(e,Wr,Gr).call(e,!1),rr(e,Cr).call(e,"Connection failed to ".concat(p,". Gave up after ").concat(20," retries."))))})))}function Jr(){var e=rr(this,Ur);e&&(e._cancel=!0)}var Qr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.downloadApiUrl,a=r.uploadApiUrl,i=r.throttleMs,o=void 0===i?0:i,s=r.estimatedServerTime,c=void 0===s?0:s;if(At(this,e),cr(this,qr),cr(this,Hr),cr(this,Vr),cr(this,Wr),sr(this,_r,{writable:!0,value:{}}),sr(this,wr,{writable:!0,value:{}}),Ut(this,"finishRequestDuration",1e3),Ut(this,"getServerTime",pr),sr(this,Sr,{writable:!0,value:function(e){return e}}),sr(this,kr,{writable:!0,value:function(){}}),sr(this,Er,{writable:!0,value:function(){}}),sr(this,Rr,{writable:!0,value:function(){}}),sr(this,xr,{writable:!0,value:function(){}}),sr(this,Cr,{writable:!0,value:function(){}}),sr(this,Pr,{writable:!0,value:void 0}),sr(this,Tr,{writable:!0,value:void 0}),sr(this,Or,{writable:!0,value:void 0}),sr(this,Dr,{writable:!0,value:!1}),sr(this,Ir,{writable:!0,value:{down:!1,up:!1}}),sr(this,Mr,{writable:!0,value:{down:{},up:{}}}),sr(this,jr,{writable:!0,value:0}),sr(this,Lr,{writable:!0,value:0}),sr(this,Nr,{writable:!0,value:0}),sr(this,Ar,{writable:!0,value:-1/0}),sr(this,Br,{writable:!0,value:0}),sr(this,Fr,{writable:!0,value:0}),sr(this,Ur,{writable:!0,value:void 0}),sr(this,zr,{writable:!0,value:void 0}),!t)throw new Error("Missing measurements argument");if(!n)throw new Error("Missing downloadApiUrl argument");if(!a)throw new Error("Missing uploadApiUrl argument");nr(this,Pr,t),nr(this,Tr,n),nr(this,Or,a),nr(this,Br,o),nr(this,Fr,Math.max(0,c))}return Ft(e,[{key:"results",get:function(){return rr(this,Mr)}},{key:"qsParams",get:function(){return rr(this,_r)},set:function(e){nr(this,_r,e)}},{key:"fetchOptions",get:function(){return rr(this,wr)},set:function(e){nr(this,wr,e)}},{key:"responseHook",set:function(e){nr(this,Sr,e)}},{key:"onRunningChange",set:function(e){nr(this,kr,e)}},{key:"onNewMeasurementStarted",set:function(e){nr(this,Er,e)}},{key:"onMeasurementResult",set:function(e){nr(this,Rr,e)}},{key:"onFinished",set:function(e){nr(this,xr,e)}},{key:"onConnectionError",set:function(e){nr(this,Cr,e)}},{key:"pause",value:function(){clearTimeout(rr(this,zr)),ir(this,qr,Jr).call(this),ir(this,Wr,Gr).call(this,!1)}},{key:"play",value:function(){rr(this,Dr)||(ir(this,Wr,Gr).call(this,!0),ir(this,Hr,Kr).call(this))}}]),e}(),Yr=["measureParallelLatency","parallelLatencyThrottleMs","downloadApiUrl","uploadApiUrl","estimatedServerTime"],$r=new WeakMap,Xr=new WeakSet;function en(e){var t=this;rr(this,$r)&&(e?setTimeout((function(){return rr(t,$r).play()}),20):rr(this,$r).pause())}var tn=function(e){zt(r,e);var t=Gt(r);function r(e){var n,a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.measureParallelLatency,c=void 0!==s&&s,l=o.parallelLatencyThrottleMs,u=void 0===l?100:l,d=o.downloadApiUrl,p=o.uploadApiUrl,h=o.estimatedServerTime,f=void 0===h?0:h,m=Ht(o,Yr);return At(this,r),cr(qt(i=t.call(this,e,Nt({downloadApiUrl:d,uploadApiUrl:p,estimatedServerTime:f},m))),Xr),sr(qt(i),$r,{writable:!0,value:void 0}),c&&(nr(qt(i),$r,new Qr([{dir:"down",bytes:0,count:1/0,bypassMinDuration:!0}],{downloadApiUrl:d,uploadApiUrl:p,estimatedServerTime:f,throttleMs:u})),rr(qt(i),$r).qsParams={during:"".concat(e[0].dir,"load")},Qt((n=qt(i),Wt(r.prototype)),"onRunningChange",ir(qt(i),Xr,en),n,!0),Qt((a=qt(i),Wt(r.prototype)),"onConnectionError",(function(){return rr(qt(i),$r).pause()}),a,!0)),i}return Ft(r,[{key:"latencyResults",get:function(){return rr(this,$r)&&rr(this,$r).results.down[0].timings}},{key:"onParallelLatencyResult",set:function(e){rr(this,$r)&&(rr(this,$r).onMeasurementResult=function(t){return e(t)})}},{key:"fetchOptions",get:function(){return Kt(Wt(r.prototype),"fetchOptions",this)},set:function(e){Qt(Wt(r.prototype),"fetchOptions",e,this,!0),rr(this,$r)&&(rr(this,$r).fetchOptions=e)}},{key:"onRunningChange",set:function(e){var t=this;Qt(Wt(r.prototype),"onRunningChange",(function(r){ir(t,Xr,en).call(t,r),e(r)}),this,!0)}},{key:"onConnectionError",set:function(e){var t=this;Qt(Wt(r.prototype),"onConnectionError",(function(){rr(t,$r)&&rr(t,$r).pause(),e.apply(void 0,arguments)}),this,!0)}}]),r}(Qr),rn=["measurementId","logApiUrl"],nn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap,cn=new WeakSet,ln=new WeakSet;function un(e){rr(this,sn)&&(nr(this,on,+e.headers.get("cf-meta-request-time")),nr(this,an,e.body.slice(-300).split("___").pop()))}function dn(e){if(rr(this,sn)){var t={type:e.type,bytes:e.bytes,ping:Math.round(e.ping),ttfb:Math.round(e.ttfb),payloadDownloadTime:Math.round(e.payloadDownloadTime),duration:Math.round(e.duration),transferSize:Math.round(e.transferSize),serverTime:Math.round(e.serverTime),token:rr(this,an),requestTime:rr(this,on),measId:rr(this,nn)};nr(this,an,null),nr(this,on,null),fetch(rr(this,sn),Nt({method:"POST",body:JSON.stringify(t)},this.fetchOptions))}}var pn=function(e){zt(r,e);var t=Gt(r);function r(e){var n,a,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.measurementId,l=s.logApiUrl,u=Ht(s,rn);return At(this,r),cr(qt(o=t.call(this,e,u)),ln),cr(qt(o),cn),sr(qt(o),nn,{writable:!0,value:void 0}),sr(qt(o),an,{writable:!0,value:void 0}),sr(qt(o),on,{writable:!0,value:void 0}),sr(qt(o),sn,{writable:!0,value:void 0}),nr(qt(o),nn,c),nr(qt(o),sn,l),Qt((n=qt(o),Wt(r.prototype)),"qsParams",l?{measId:rr(qt(o),nn)}:{},n,!0),Qt((a=qt(o),Wt(r.prototype)),"responseHook",(function(e){return ir(qt(o),cn,un).call(qt(o),e)}),a,!0),Qt((i=qt(o),Wt(r.prototype)),"onMeasurementResult",(function(e){return ir(qt(o),ln,dn).call(qt(o),e)}),i,!0),o}return Ft(r,[{key:"qsParams",set:function(e){Qt(Wt(r.prototype),"qsParams",rr(this,sn)?Nt({measId:rr(this,nn)},e):e,this,!0)}},{key:"responseHook",set:function(e){var t=this;Qt(Wt(r.prototype),"responseHook",(function(r){e(r),ir(t,cn,un).call(t,r)}),this,!0)}},{key:"onMeasurementResult",set:function(e){var t=this;Qt(Wt(r.prototype),"onMeasurementResult",(function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e.apply(void 0,[r].concat(a)),ir(t,ln,dn).call(t,r)}),this,!0)}}]),r}(tn),hn=new WeakMap,fn=new WeakMap,mn=new WeakMap,gn=new WeakSet,vn=new WeakSet,yn=new WeakSet,bn=function(){function e(t){if(At(this,e),cr(this,yn),cr(this,vn),cr(this,gn),sr(this,hn,{writable:!0,value:!1}),sr(this,fn,{writable:!0,value:void 0}),sr(this,mn,{writable:!0,value:void 0}),!t)throw new Error("Missing operation to perform");nr(this,mn,t),this.play()}return Ft(e,[{key:"pause",value:function(){ir(this,yn,Sn).call(this),ir(this,gn,_n).call(this,!1)}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){rr(this,hn)||(ir(this,gn,_n).call(this,!0),ir(this,vn,wn).call(this))}}]),e}();function _n(e){e!==rr(this,hn)&&nr(this,hn,e)}function wn(){var e=this,t=nr(this,fn,rr(this,mn).call(this).then((function(){!t._cancel&&ir(e,vn,wn).call(e)})))}function Sn(){var e=rr(this,fn);e&&(e._cancel=!0)}var kn=new WeakMap,En=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.download,a=r.upload;if(At(this,e),Ut(this,"qsParams",{}),Ut(this,"fetchOptions",{}),sr(this,kn,{writable:!0,value:[]}),!n&&!a)throw new Error("Missing at least one of download/upload config");[[n,"download"],[a,"upload"]].filter((function(e){return Yt(e,1)[0]})).forEach((function(e){var t=Yt(e,2),r=t[0],n=t[1],a=r.apiUrl,i=r.chunkSize;if(!a)throw new Error("Missing ".concat(n," apiUrl argument"));if(!i)throw new Error("Missing ".concat(n," chunkSize argument"))}));var i=function(e){var r=e.apiUrl,n=e.qsParams,a=void 0===n?{}:n,i=e.fetchOptions,o=void 0===i?{}:i;return new bn((function(){var e=Object.assign({},a,t.qsParams),n="".concat(r.startsWith("http")||r.startsWith("//")?"":window.location.origin).concat(r,"?").concat(Object.entries(e).map((function(e){var t=Yt(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&")),i=Object.assign({},o,t.fetchOptions);return fetch(n,i).then((function(e){if(e.ok)return e;throw Error(e.statusText)})).then((function(e){return e.text()}))}))};n&&rr(this,kn).push(i({apiUrl:n.apiUrl,qsParams:{bytes:"".concat(n.chunkSize)}})),a&&rr(this,kn).push(i({apiUrl:a.apiUrl,fetchOptions:{method:"POST",body:"0".repeat(a.chunkSize)}}))}return Ft(e,[{key:"pause",value:function(){rr(this,kn).forEach((function(e){return e.pause()}))}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){rr(this,kn).forEach((function(e){return e.play()}))}}]),e}(),Rn=["iceServers","acceptIceCandidate","dataChannelCfg"],xn=new WeakMap,Cn=new WeakMap,Pn=new WeakMap,Tn=new WeakMap,On=new WeakMap,Dn=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.iceServers,a=void 0===n?[]:n,i=r.acceptIceCandidate,o=void 0===i?function(e){var t=e.protocol||"";if(!t&&e.candidate){var r=e.candidate.split(" ");r.length>=3&&(t=r[2])}return"udp"===t.toLowerCase()}:i,s=r.dataChannelCfg,c=void 0===s?{ordered:!1,maxRetransmits:0}:s,l=Ht(r,Rn);At(this,e),Ut(this,"onOpen",(function(){})),Ut(this,"onClose",(function(){})),Ut(this,"onMessageReceived",(function(){})),sr(this,xn,{writable:!0,value:!1}),sr(this,Cn,{writable:!0,value:void 0}),sr(this,Pn,{writable:!0,value:void 0}),sr(this,Tn,{writable:!0,value:void 0}),sr(this,On,{writable:!0,value:void 0});var u=new RTCPeerConnection(Nt({iceServers:a},l)),d=new RTCPeerConnection(Nt({iceServers:a},l)),p=u.createDataChannel("channel",c);p.onopen=function(){nr(t,xn,!0),t.onOpen()},p.onclose=function(){return t.close()},d.ondatachannel=function(e){var r=e.channel;r.onclose=function(){return t.close()},r.onmessage=function(e){return t.onMessageReceived(e.data)},nr(t,On,r)},u.onicecandidate=function(e){e.candidate&&o(e.candidate)&&d.addIceCandidate(e.candidate)},d.onicecandidate=function(e){e.candidate&&o(e.candidate)&&u.addIceCandidate(e.candidate)},u.createOffer().then((function(e){return u.setLocalDescription(e)})).then((function(){return d.setRemoteDescription(u.localDescription)})).then((function(){return d.createAnswer()})).then((function(e){return d.setLocalDescription(e)})).then((function(){return u.setRemoteDescription(d.localDescription)})),nr(this,Cn,u),nr(this,Pn,d),nr(this,Tn,p),nr(this,xn,!1)}return Ft(e,[{key:"send",value:function(e){return rr(this,Tn).send(e)}},{key:"close",value:function(){return rr(this,Cn)&&rr(this,Cn).close(),rr(this,Pn)&&rr(this,Pn).close(),rr(this,Tn)&&rr(this,Tn).close(),rr(this,On)&&rr(this,On).close(),rr(this,xn)&&this.onClose(),nr(this,xn,!1),this}}]),e}(),In=new WeakMap,Mn=new WeakMap,jn=new WeakMap,Ln=new WeakMap,Nn=new WeakMap,An=new WeakMap,Bn=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.turnServerUri,a=r.turnServerCredsApi,i=r.turnServerCredsApiParser,o=void 0===i?function(e){return{turnServerUser:e.username,turnServerPass:e.credential}}:i,s=r.turnServerCredsApiIncludeCredentials,c=void 0!==s&&s,l=r.turnServerUser,u=r.turnServerPass,d=r.numMsgs,p=void 0===d?100:d,h=r.batchSize,f=void 0===h?10:h,m=r.batchWaitTime,g=void 0===m?10:m,v=r.responsesWaitTime,y=void 0===v?5e3:v,b=r.connectionTimeout,_=void 0===b?5e3:b;if(At(this,e),sr(this,In,{writable:!0,value:function(){}}),sr(this,Mn,{writable:!0,value:function(){}}),sr(this,jn,{writable:!0,value:function(){}}),Ut(this,"onMsgSent",(function(){})),Ut(this,"onAllMsgsSent",(function(){})),Ut(this,"onMsgReceived",(function(){})),sr(this,Ln,{writable:!0,value:{}}),sr(this,Nn,{writable:!0,value:void 0}),sr(this,An,{writable:!0,value:void 0}),!n)throw new Error("Missing turnServerUri argument");if(!(l&&u||a))throw new Error("Missing either turnServerCredsApi or turnServerUser+turnServerPass arguments");nr(this,An,p),(l&&u?Promise.resolve({turnServerUser:l,turnServerPass:u}):fetch(a,{credentials:c?"include":void 0}).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;return e})).then(o)).catch((function(e){return rr(t,In).call(t,e)})).then((function(e){var r=e.turnServerUser,a=e.turnServerPass,i=nr(t,Nn,new Dn({iceServers:[{urls:"turn:".concat(n,"?transport=udp"),username:r,credential:a}],iceTransportPolicy:"relay"})),o=!1;setTimeout((function(){o||(i.close(),rr(t,Mn).call(t,"ICE connection timeout!"))}),_);var s=rr(t,Ln);i.onOpen=function(){o=!0;var e=t;!function t(r){if(r<=p){for(var n=r;n<=Math.min(p,r+f-1);)s[n]=!1,i.send(n),e.onMsgSent(n),n++;setTimeout((function(){return t(n)}),g)}else{e.onAllMsgsSent(Object.keys(s).length);var a=function(){i.close(),rr(e,jn).call(e,e.results)},o=setTimeout(a,y),c=Object.values(rr(e,Ln)).filter((function(e){return!e})).length;i.onMessageReceived=function(t){clearTimeout(o),s[t]=!0,e.onMsgReceived(t),--c<=0&&Object.values(rr(e,Ln)).every((function(e){return e}))?a():o=setTimeout(a,y)}}}(1)},i.onMessageReceived=function(e){s[e]=!0,t.onMsgReceived(e)}})).catch((function(e){return rr(t,Mn).call(t,e.toString())}))}return Ft(e,[{key:"onCredentialsFailure",set:function(e){nr(this,In,e)}},{key:"onConnectionError",set:function(e){nr(this,Mn,e)}},{key:"onFinished",set:function(e){nr(this,jn,e)}},{key:"results",get:function(){var e=rr(this,An),t=Object.keys(rr(this,Ln)).length,r=Object.entries(rr(this,Ln)).filter((function(e){return!Yt(e,2)[1]})).map((function(e){return+Yt(e,1)[0]}));return{totalMessages:e,numMessagesSent:t,packetLoss:r.length/t,lostMessages:r}}}]),e}(),Fn=["downloadChunkSize","uploadChunkSize","downloadApiUrl","uploadApiUrl"],Un=new WeakMap,zn=function(e){zt(r,e);var t=Gt(r);function r(){var e,n,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.downloadChunkSize,c=o.uploadChunkSize,l=o.downloadApiUrl,u=o.uploadApiUrl,d=Ht(o,Fn);return At(this,r),sr(qt(i=t.call(this,d)),Un,{writable:!0,value:void 0}),(s||c)&&(nr(qt(i),Un,new En({download:s?{apiUrl:l,chunkSize:s}:null,upload:c?{apiUrl:u,chunkSize:c}:null})),Qt((e=qt(i),Wt(r.prototype)),"onCredentialsFailure",Qt((a=qt(i),Wt(r.prototype)),"onConnectionError",Qt((n=qt(i),Wt(r.prototype)),"onFinished",(function(){return rr(qt(i),Un).stop()}),n,!0),a,!0),e,!0)),i}return Ft(r,[{key:"qsParams",set:function(e){rr(this,Un)&&(rr(this,Un).qsParams=e)}},{key:"fetchOptions",set:function(e){rr(this,Un)&&(rr(this,Un).fetchOptions=e)}},{key:"onCredentialsFailure",set:function(e){var t=this;Qt(Wt(r.prototype),"onCredentialsFailure",(function(){e.apply(void 0,arguments),rr(t,Un)&&rr(t,Un).stop()}),this,!0)}},{key:"onConnectionError",set:function(e){var t=this;Qt(Wt(r.prototype),"onConnectionError",(function(){e.apply(void 0,arguments),rr(t,Un)&&rr(t,Un).stop()}),this,!0)}},{key:"onFinished",set:function(e){var t=this;Qt(Wt(r.prototype),"onFinished",(function(){e.apply(void 0,arguments),rr(t,Un)&&rr(t,Un).stop()}),this,!0)}}]),r}(Bn),Wn=["reachable"],Vn=Ft((function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.timeout,i=void 0===a?-1:a,o=n.fetchOptions,s=void 0===o?{}:o;At(this,e),Ut(this,"onFinished",(function(){}));var c=!1,l=function(e){var n=e.reachable,a=Ht(e,Wn);c||(c=!0,r.onFinished(Nt({targetUrl:t,reachable:n},a)))};fetch(t,s).then((function(e){l({reachable:!0,response:e})})).catch((function(e){l({reachable:!1,error:e})})),i>0&&setTimeout((function(){return l({reachable:!1,error:"Request timeout"})}),i)})),Hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!e.length)return 0;var r=e.slice().sort((function(e,t){return e-t})),n=(e.length-1)*t,a=n%1;if(0===a)return r[Math.round(n)];var i=[Math.floor,Math.ceil].map((function(e){return r[e(n)]}));return i[0]+(i[1]-i[0])*a},qn=new WeakMap,Gn=new WeakMap,Zn=function(){function e(t){var r=this;At(this,e),Ut(this,"getLatencyPoints",(function(e){return e.timings.map((function(e){return e.ping}))})),Ut(this,"getLatency",(function(e){return Hn(r.getLatencyPoints(e),rr(r,qn).latencyPercentile)})),Ut(this,"getBandwidthPoints",(function(e){return Object.entries(e).map((function(e){var t=Yt(e,2),r=t[0];return t[1].timings.map((function(e){var t=e.bps,n=e.duration,a=e.ping,i=e.measTime,o=e.serverTime,s=e.transferSize;return{bytes:+r,bps:t,duration:n,ping:a,measTime:i,serverTime:o,transferSize:s}}))})).flat()})),Ut(this,"getBandwidth",(function(e){return Hn(r.getBandwidthPoints(e).filter((function(e){return e.duration>=rr(r,qn).bandwidthMinRequestDuration})).map((function(e){return e.bps})).filter((function(e){return e})),rr(r,qn).bandwidthPercentile)})),Ut(this,"getLoadedLatency",(function(e){return r.getLatency({timings:rr(r,Gn).call(r,e)})})),Ut(this,"getLoadedJitter",(function(e){return r.getJitter({timings:rr(r,Gn).call(r,e)})})),Ut(this,"getLoadedLatencyPoints",(function(e){return r.getLatencyPoints({timings:rr(r,Gn).call(r,e)})})),Ut(this,"getPacketLoss",(function(e){return e.packetLoss})),Ut(this,"getPacketLossDetails",(function(e){return e})),Ut(this,"getReachability",(function(e){return!!e.reachable})),Ut(this,"getReachabilityDetails",(function(e){return{host:e.host,reachable:e.reachable}})),sr(this,qn,{writable:!0,value:void 0}),sr(this,Gn,{writable:!0,value:function(e){return Object.values(e).filter((function(e){return e.timings.length&&Math.min.apply(Math,$t(e.timings.map((function(e){return e.duration}))))>=rr(r,qn).loadedRequestMinDuration})).map((function(e){return e.sideLatency||[]})).flat().slice(-rr(r,qn).loadedLatencyMaxPoints)}}),nr(this,qn,t)}return Ft(e,[{key:"getJitter",value:function(e){var t=this.getLatencyPoints(e);return t.length<2?null:t.reduce((function(e,t){var r=e.sumDeltas,n=void 0===r?0:r,a=e.prevLatency;return{sumDeltas:n+(void 0!==a?Math.abs(a-t):0),prevLatency:t}}),{}).sumDeltas/(t.length-1)}}]),e}(),Kn=["bad","poor","average","good","great"],Jn={loadedLatencyIncrease:function(e){return e.latency&&(e.downLoadedLatency||e.upLoadedLatency)?Math.max(e.downLoadedLatency,e.upLoadedLatency)-e.latency:void 0}},Qn={packetLoss:0},Yn=new WeakMap,$n=function(){function e(t){At(this,e),sr(this,Yn,{writable:!0,value:void 0}),nr(this,Yn,t)}return Ft(e,[{key:"getScores",value:function(e){var t=Object.assign.apply(Object,$t(Object.entries(rr(this,Yn).aimMeasurementScoring).map((function(t){var r=Yt(t,2),n=r[0],a=r[1],i=Jn.hasOwnProperty(n)?Jn[n](e):e[n];return void 0===i?Qn.hasOwnProperty(n)?Ut({},n,Qn[n]):{}:Ut({},n,void 0===i?0:+a(i))}))));return Object.assign.apply(Object,[{}].concat($t(Object.entries(rr(this,Yn).aimExperiencesDefs).filter((function(e){return Yt(e,2)[1].input.every((function(e){return t.hasOwnProperty(e)}))})).map((function(e){var r,n=Yt(e,2),a=n[0],i=n[1],o=i.input,s=i.pointThresholds,c=Math.max(0,(r=o.map((function(e){return t[e]})),r.reduce((function(e,t){return e+t}),0))),l=jt(s,[0,1,2,3,4])(c);return Ut({},a,{points:c,classificationIdx:l,classificationName:Kn[l]})})))))}}]),e}(),Xn=new WeakMap,ea=new WeakMap,ta=new WeakMap,ra=new WeakMap,na=new WeakMap,aa=new WeakMap,ia=new WeakMap,oa=new WeakMap,sa=function(){function e(t){var r=this;At(this,e),Ut(this,"raw",void 0),Ut(this,"getUnloadedLatency",(function(){return rr(r,ra).call(r,"getLatency","latency")})),Ut(this,"getUnloadedJitter",(function(){return rr(r,ra).call(r,"getJitter","latency")})),Ut(this,"getUnloadedLatencyPoints",(function(){return rr(r,ra).call(r,"getLatencyPoints","latency",[])})),Ut(this,"getDownLoadedLatency",(function(){return rr(r,ra).call(r,"getLoadedLatency","download")})),Ut(this,"getDownLoadedJitter",(function(){return rr(r,ra).call(r,"getLoadedJitter","download")})),Ut(this,"getDownLoadedLatencyPoints",(function(){return rr(r,ra).call(r,"getLoadedLatencyPoints","download",[])})),Ut(this,"getUpLoadedLatency",(function(){return rr(r,ra).call(r,"getLoadedLatency","upload")})),Ut(this,"getUpLoadedJitter",(function(){return rr(r,ra).call(r,"getLoadedJitter","upload")})),Ut(this,"getUpLoadedLatencyPoints",(function(){return rr(r,ra).call(r,"getLoadedLatencyPoints","upload",[])})),Ut(this,"getDownloadBandwidth",(function(){return rr(r,ra).call(r,"getBandwidth","download")})),Ut(this,"getDownloadBandwidthPoints",(function(){return rr(r,ra).call(r,"getBandwidthPoints","download",[])})),Ut(this,"getUploadBandwidth",(function(){return rr(r,ra).call(r,"getBandwidth","upload")})),Ut(this,"getUploadBandwidthPoints",(function(){return rr(r,ra).call(r,"getBandwidthPoints","upload",[])})),Ut(this,"getPacketLoss",(function(){return rr(r,ra).call(r,"getPacketLoss","packetLoss")})),Ut(this,"getPacketLossDetails",(function(){return rr(r,ra).call(r,"getPacketLossDetails","packetLoss",void 0,!0)})),Ut(this,"getScores",(function(){return rr(r,ta).getScores(r.getSummary())})),sr(this,Xn,{writable:!0,value:void 0}),sr(this,ea,{writable:!0,value:void 0}),sr(this,ta,{writable:!0,value:void 0}),sr(this,ra,{writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.raw.hasOwnProperty(t)&&r.raw[t].started?a&&r.raw[t].error?{error:r.raw[t].error}:rr(r,ea)[e](r.raw[t].results):n}}),sr(this,na,{writable:!0,value:function(){return rr(r,ra).call(r,"getReachability","v4Reachability")}}),sr(this,aa,{writable:!0,value:function(){return rr(r,ra).call(r,"getReachabilityDetails","v4Reachability")}}),sr(this,ia,{writable:!0,value:function(){return rr(r,ra).call(r,"getReachability","v6Reachability")}}),sr(this,oa,{writable:!0,value:function(){return rr(r,ra).call(r,"getReachabilityDetails","v6Reachability")}}),nr(this,Xn,t),this.clear(),nr(this,ea,new Zn(rr(this,Xn))),nr(this,ta,new $n(rr(this,Xn)))}return Ft(e,[{key:"isFinished",get:function(){return Object.values(this.raw).every((function(e){return e.finished}))}},{key:"clear",value:function(){this.raw=Object.assign.apply(Object,[{}].concat($t($t(new Set(rr(this,Xn).measurements.map((function(e){return e.type})))).map((function(e){return Ut({},e,{started:!1,finished:!1,results:{}})})))))}},{key:"getSummary",value:function(){var e={download:this.getDownloadBandwidth,upload:this.getUploadBandwidth,latency:this.getUnloadedLatency,jitter:this.getUnloadedJitter,downLoadedLatency:this.getDownLoadedLatency,downLoadedJitter:this.getDownLoadedJitter,upLoadedLatency:this.getUpLoadedLatency,upLoadedJitter:this.getUpLoadedJitter,packetLoss:this.getPacketLoss,v4Reachability:rr(this,na),v6Reachability:rr(this,ia)};return Object.assign.apply(Object,$t(Object.entries(e).map((function(e){var t=Yt(e,2),r=t[0],n=(0,t[1])();return void 0===n?{}:Ut({},r,n)}))))}}]),e}(),ca=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?Math.round(e*Math.pow(10,t))/Math.pow(10,t):e},la=function(e){return e.map((function(e){return ca(e,2)}))},ua=function(e){return e.map((function(e){return{bytes:+e.bytes,bps:ca(e.bps)}}))},da={latencyMs:["getUnloadedLatencyPoints",la],download:["getDownloadBandwidthPoints",ua],upload:["getUploadBandwidthPoints",ua],downLoadedLatencyMs:["getDownLoadedLatencyPoints",la],upLoadedLatencyMs:["getUpLoadedLatencyPoints",la],packetLoss:["getPacketLossDetails",function(e){return e.error?void 0:{numMessages:e.numMessagesSent,lossRatio:ca(e.packetLoss,4)}}]},pa=["type"],ha=["numPackets"],fa=["bytes"],ma=["latency","latencyUnderLoad","download","upload"],ga=function(){return"".concat(Math.round(1e16*Math.random()))},va=new WeakMap,ya=new WeakMap,ba=new WeakMap,_a=new WeakMap,wa=new WeakMap,Sa=new WeakMap,ka=new WeakMap,Ea=new WeakMap,Ra=new WeakMap,xa=new WeakMap,Ca=new WeakMap,Pa=new WeakSet,Ta=new WeakSet,Oa=new WeakSet,Da=new WeakSet,Ia=new WeakSet,Ma=new WeakSet,ja=new WeakSet,La=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};At(this,e),cr(this,ja),cr(this,Ma),cr(this,Ia),cr(this,Da),cr(this,Oa),cr(this,Ta),cr(this,Pa),Ut(this,"onRunningChange",(function(){})),Ut(this,"onResultsChange",(function(){})),sr(this,va,{writable:!0,value:function(){}}),sr(this,ya,{writable:!0,value:function(){}}),sr(this,ba,{writable:!0,value:void 0}),sr(this,_a,{writable:!0,value:void 0}),sr(this,wa,{writable:!0,value:ga()}),sr(this,Sa,{writable:!0,value:-1}),sr(this,ka,{writable:!0,value:void 0}),sr(this,Ea,{writable:!0,value:1e6}),sr(this,Ra,{writable:!0,value:1e6}),sr(this,xa,{writable:!0,value:!1}),sr(this,Ca,{writable:!0,value:!1}),nr(this,ba,Object.assign({},ur,t,dr)),nr(this,_a,new sa(rr(this,ba))),rr(this,ba).autoStart&&this.play()}return Ft(e,[{key:"results",get:function(){return rr(this,_a)}},{key:"isRunning",get:function(){return rr(this,xa)}},{key:"isFinished",get:function(){return rr(this,Ca)}},{key:"onFinish",set:function(e){nr(this,va,e)}},{key:"onError",set:function(e){nr(this,ya,e)}},{key:"pause",value:function(){ma.includes(ir(this,Oa,Ba).call(this))&&rr(this,ka).pause(),ir(this,Pa,Na).call(this,!1)}},{key:"play",value:function(){rr(this,xa)||(ir(this,Pa,Na).call(this,!0),ir(this,ja,Wa).call(this))}},{key:"restart",value:function(){ir(this,Ia,Ua).call(this),this.play()}}]),e}();function Na(e){e!==rr(this,xa)&&(nr(this,xa,e),this.onRunningChange(rr(this,xa)))}function Aa(e){var t=this;e!==rr(this,Ca)&&(nr(this,Ca,e),e&&setTimeout((function(){return rr(t,va).call(t,t.results)})))}function Ba(){return rr(this,Sa)<0||rr(this,Sa)>=rr(this,ba).measurements.length?null:rr(this,ba).measurements[rr(this,Sa)].type}function Fa(){return rr(this,_a).raw[ir(this,Oa,Ba).call(this)]||void 0}function Ua(){ir(this,Ma,za).call(this),nr(this,wa,ga()),nr(this,Sa,-1),nr(this,ka,void 0),ir(this,Pa,Na).call(this,!1),ir(this,Ta,Aa).call(this,!1),rr(this,_a).clear()}function za(){var e=rr(this,ka);e&&(e.onFinished=e.onConnectionError=e.onFail=e.onMsgReceived=e.onCredentialsFailure=e.onMeasurementResult=function(){},ma.includes(ir(this,Oa,Ba).call(this))&&e.pause())}function Wa(){var e,t=this;if(!(ma.includes(ir(this,Oa,Ba).call(this))&&ir(this,Da,Fa).call(this)&&ir(this,Da,Fa).call(this).started)||ir(this,Da,Fa).call(this).finished||ir(this,Da,Fa).call(this).finishedCurrentRound||ir(this,Da,Fa).call(this).error){if(nr(this,Sa,(e=rr(this,Sa),++e)),rr(this,Sa)>=rr(this,ba).measurements.length)return ir(this,Pa,Na).call(this,!1),void ir(this,Ta,Aa).call(this,!0);var r,n=rr(this,ba).measurements[rr(this,Sa)],a=n.type,i=Ht(n,pa),o=ir(this,Da,Fa).call(this),s=rr(this,ba),c=s.downloadApiUrl,l=s.uploadApiUrl,u=s.estimatedServerTime;switch(a){case"v4Reachability":case"v6Reachability":(r=new Vn("https://".concat(i.host),{fetchOptions:{method:"GET",mode:"no-cors"}})).onFinished=function(e){o.finished=!0,o.results=Nt({host:i.host},e),t.onResultsChange({type:a}),ir(t,ja,Wa).call(t)};break;case"rpki":(r=new Vn("https://".concat(rr(this,ba).rpkiInvalidHost),{timeout:5e3})).onFinished=function(e){(e.response?e.response.json():Promise.resolve()).then((function(r){o.finished=!0,o.results=Nt({host:rr(t,ba).rpkiInvalidHost,filteringInvalids:!e.reachable},r?{asn:r.asn,name:r.name}:{}),t.onResultsChange({type:a}),ir(t,ja,Wa).call(t)}))};break;case"nxdomain":(r=new Vn("https://".concat(i.nxhost),{fetchOptions:{mode:"no-cors"}})).onFinished=function(e){o.finished=!0,o.results={host:i.nxhost,reachable:e.reachable},t.onResultsChange({type:a}),ir(t,ja,Wa).call(t)};break;case"packetLoss":case"packetLossUnderLoad":o.finished=!1;var d=i.numPackets,p=Ht(i,ha),h=rr(this,ba),f=h.turnServerUri,m=h.turnServerCredsApiUrl,g=h.turnServerUser,v=h.turnServerPass,y=h.includeCredentials;(r=new zn(Nt({turnServerUri:f,turnServerCredsApi:m,turnServerCredsApiIncludeCredentials:y,turnServerUser:g,turnServerPass:v,numMsgs:d,downloadChunkSize:i.loadDown?rr(this,Ea):void 0,uploadChunkSize:i.loadUp?rr(this,Ra):void 0,downloadApiUrl:c,uploadApiUrl:l},p))).onMsgReceived=function(){o.results=Object.assign({},r.results),t.onResultsChange({type:a})},r.onFinished=function(){o.finished=!0,t.onResultsChange({type:a}),ir(t,ja,Wa).call(t)},r.onConnectionError=function(e){o.error=e,t.onResultsChange({type:a}),rr(t,ya).call(t,"Connection error while measuring packet loss: ".concat(e)),ir(t,ja,Wa).call(t)},r.onCredentialsFailure=function(){o.error="unable to get turn server credentials",t.onResultsChange({type:a}),rr(t,ya).call(t,"Error while measuring packet loss: unable to get turn server credentials."),ir(t,ja,Wa).call(t)};break;case"latency":case"latencyUnderLoad":o.finished=!1,(r=new pn([{dir:"down",bytes:0,count:i.numPackets,bypassMinDuration:!0}],{downloadApiUrl:c,uploadApiUrl:l,estimatedServerTime:u,logApiUrl:rr(this,ba).logMeasurementApiUrl,measurementId:rr(this,wa),downloadChunkSize:i.loadDown?rr(this,Ea):void 0,uploadChunkSize:i.loadUp?rr(this,Ra):void 0})).fetchOptions={credentials:rr(this,ba).includeCredentials?"include":void 0},r.onMeasurementResult=r.onNewMeasurementStarted=function(e,r){o.results=Object.assign({},r.down[0]),t.onResultsChange({type:a})},r.onFinished=function(){o.finished=!0,t.onResultsChange({type:a}),rr(t,xa)&&ir(t,ja,Wa).call(t)},r.onConnectionError=function(e){o.error=e,t.onResultsChange({type:a}),rr(t,ya).call(t,"Connection error while measuring latency: ".concat(e)),ir(t,ja,Wa).call(t)},r.play();break;case"download":case"upload":if(o.finished||o.error)ir(this,ja,Wa).call(this);else{delete o.finishedCurrentRound;var b=rr(this,ba)["measure".concat("download"===a?"Down":"Up","loadLoadedLatency")];(r=new pn([Nt({dir:"download"===a?"down":"up"},i)],{downloadApiUrl:c,uploadApiUrl:l,estimatedServerTime:u,logApiUrl:rr(this,ba).logMeasurementApiUrl,measurementId:rr(this,wa),measureParallelLatency:b,parallelLatencyThrottleMs:rr(this,ba).loadedLatencyThrottle})).fetchOptions={credentials:rr(this,ba).includeCredentials?"include":void 0},r.finishRequestDuration=rr(this,ba).bandwidthFinishRequestDuration,r.onNewMeasurementStarted=function(e){var r=e.count,n=e.bytes,i=o.results=Object.assign({},o.results);!i.hasOwnProperty(n)&&(i[n]={timings:[],numMeasurements:0,sideLatency:b?[]:void 0}),i[n].numMeasurements-i[n].timings.length!==r&&(i[n].numMeasurements+=r,t.onResultsChange({type:a}))},r.onMeasurementResult=function(e){var r=e.bytes,n=Ht(e,fa);o.results[r].timings.push(n),o.results=Object.assign({},o.results),t.onResultsChange({type:a})},r.onParallelLatencyResult=function(e){o.results[i.bytes].sideLatency.push(e),o.results=Object.assign({},o.results),t.onResultsChange({type:a})},r.onFinished=function(e){var r=!rr(t,ba).measurements.slice(rr(t,Sa)+1).map((function(e){return e.type})).includes(a),n=Math.min.apply(Math,$t(Object.values("download"===a?e.down:e.up).slice(-1)[0].timings.map((function(e){return e.duration}))));if(r||!i.bypassMinDuration&&n>rr(t,ba).bandwidthFinishRequestDuration){o.finished=!0,t.onResultsChange({type:a});var s=.5*Object.keys(o.results).map((function(e){return+e})).sort((function(e,t){return t-e}))[0];"download"===a&&nr(t,Ea,s),"upload"===a&&nr(t,Ra,s)}else o.finishedCurrentRound=!0;rr(t,xa)&&ir(t,ja,Wa).call(t)},r.onConnectionError=function(e){o.error=e,t.onResultsChange({type:a}),rr(t,ya).call(t,"Connection error while measuring ".concat(a,": ").concat(e)),ir(t,ja,Wa).call(t)},r.play()}}nr(this,ka,r),o.started=!0,this.onResultsChange({type:a})}else rr(this,ka).play()}var Va=new WeakMap,Ha=new WeakMap,qa=function(e){zt(r,e);var t=Gt(r);function r(e){var n,a;At(this,r);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return sr(qt(a=t.call.apply(t,[this,e].concat(o))),Va,{writable:!0,value:void 0}),sr(qt(a),Ha,{writable:!0,value:function(e){rr(qt(a),Va)&&function(e,t){var r=t.apiUrl,n={};Object.entries(da).forEach((function(t){var r=Yt(t,2),a=r[0],i=Yt(r[1],2),o=i[0],s=i[1],c=void 0===s?function(e){return e}:s,l=e[o]();l&&(n[a]=c(l))}));var a=e.getScores();a&&(n.scores=Object.assign.apply(Object,[{}].concat($t(Object.entries(a).map((function(e){var t,r=Yt(e,2);return Ut({},r[0],{points:(t=r[1]).points,classification:t.classificationName})})))))),fetch(r,{method:"POST",body:JSON.stringify(n)})}(e,{apiUrl:rr(qt(a),Va)})}}),Qt((n=qt(a),Wt(r.prototype)),"onFinish",rr(qt(a),Ha),n,!0),nr(qt(a),Va,Object.assign({},ur,e,dr).logAimApiUrl),a}return Ft(r,[{key:"onFinish",set:function(e){var t=this;Qt(Wt(r.prototype),"onFinish",(function(r){e(r),rr(t,Ha).call(t,r)}),this,!0)}}]),r}(La);function Ga(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Za(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ka=[k],Ja=!1,Qa=function(){function e(){(0,i.Z)(this,e)}var t,r,s,c,u,p,h,f,m,g;return(0,o.Z)(e,null,[{key:"config",value:function(e){if(!e)throw new Error("'token' is empty, please provide it in config");this.apiKey=e;var t=y(J,void 0,_.apply(void 0,Ka));window.STORE=t,Q.default.init({store:t})}},{key:"getCameras",value:(g=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,r=[],n=Ga(t);try{for(n.s();!(a=n.n()).done;)"videoinput"==(i=a.value).kind&&r.push(new wt(i.deviceId,i.groupId,i.kind,i.label))}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"getMicrophones",value:(m=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,r=[],n=Ga(t);try{for(n.s();!(a=n.n()).done;)"audioinput"==(i=a.value).kind&&r.push(new St(i.deviceId,i.groupId,i.kind,i.label))}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"getPlaybackDevices",value:(f=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,r=[],n=Ga(t);try{for(n.s();!(a=n.n()).done;)"audiooutput"==(i=a.value).kind&&r.push(new kt(i.deviceId,i.groupId,i.kind,i.label))}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getDevices",value:(h=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,r=[],n=Ga(t);try{for(n.s();!(a=n.n()).done;)i=a.value,r.push(new _t(i.deviceId,i.groupId,i.kind,i.label))}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"on",value:function(e,t){if("device-changed"!==e)throw new Error("Unsupported event type");this.addDeviceChangeEvent(),this.eventEmitter.on(e,t)}},{key:"addDeviceChangeEvent",value:function(){var e=this;Ja||(this.getDevices().then((function(t){e.devices=t})),navigator.mediaDevices.addEventListener("devicechange",function(){var t=(0,a.Z)(l().mark((function t(r){var n,a,i,o,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.devices,t.next=3,e.getDevices();case 3:e.devices=t.sent,a=new Array,i=Ga(e.devices),t.prev=6,s=l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.value,0==n.filter((function(e){return e.deviceId==t.deviceId&&e.kind==t.kind})).length?a.push(t):n=n.filter((function(e){return!(e.deviceId==t.deviceId&&e.kind==t.kind)}));case 3:case"end":return e.stop()}}),e)})),i.s();case 9:if((o=i.n()).done){t.next=13;break}return t.delegateYield(s(),"t0",11);case 11:t.next=9;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(6),i.e(t.t1);case 18:return t.prev=18,i.f(),t.finish(18);case 21:0!=a.length&&e.eventEmitter.emit("device-changed",{devices:e.devices}),0!=n.length&&e.eventEmitter.emit("device-changed",{devices:e.devices});case 23:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})));return function(e){return t.apply(this,arguments)}}()),Ja=!0)}},{key:"off",value:function(e,t){if("device-changed"!==e)throw new Error("Unsupported event type");this.eventEmitter.off(e,t)}},{key:"checkPermissions",value:(p=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=Et.AUDIO_AND_VIDEO),r=new Map,!t.includes(Et.AUDIO)&&!t.includes(Et.AUDIO_AND_VIDEO)){e.next=15;break}return n=!0,e.prev=4,e.next=7,navigator.permissions.query({name:"microphone"});case 7:"prompt"!=(a=e.sent).state&&"denied"!=a.state||(n=!1),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),Error("Browser does not support microphone permission check");case 14:r.set(Et.AUDIO,n);case 15:if(!t.includes(Et.VIDEO)&&!t.includes(Et.AUDIO_AND_VIDEO)){e.next=28;break}return i=!0,e.prev=17,e.next=20,navigator.permissions.query({name:"camera"});case 20:"prompt"!=(o=e.sent).state&&"denied"!=o.state||(i=!1),e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(17),Error("Browser does not support camera permission check");case 27:r.set(Et.VIDEO,i);case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,null,[[4,11],[17,24]])}))),function(e){return p.apply(this,arguments)})},{key:"requestPermission",value:(u=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=Et.AUDIO_AND_VIDEO),r=new Map,!t.includes(Et.VIDEO)&&!t.includes(Et.AUDIO_AND_VIDEO)){e.next=27;break}return a={audio:!1,video:!0},i=!0,e.prev=5,e.next=8,navigator.mediaDevices.getUserMedia(a);case 8:n=e.sent,e.next=25;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(e.t0 instanceof DOMException)){e.next=23;break}if("NotAllowedError"!==e.t0.name){e.next=17;break}e.next=21;break;case 17:if("NotFoundError"!==e.t0.name){e.next=21;break}throw new Error("No Video Device Found");case 21:e.next=24;break;case 23:console.error("Error",e.t0);case 24:i=!1;case 25:n&&n.getTracks().forEach((function(e){e.stop()})),r.set(Et.VIDEO,i);case 27:if(!t.includes(Et.AUDIO)&&!t.includes(Et.AUDIO_AND_VIDEO)){e.next=52;break}return s={audio:!0,video:!1},c=!0,e.prev=30,e.next=33,navigator.mediaDevices.getUserMedia(s);case 33:o=e.sent,e.next=50;break;case 36:if(e.prev=36,e.t1=e.catch(30),!(e.t1 instanceof DOMException)){e.next=48;break}if("NotAllowedError"!==e.t1.name){e.next=42;break}e.next=46;break;case 42:if("NotFoundError"!==e.t1.name){e.next=46;break}throw new Error("No Audio Device Found");case 46:e.next=49;break;case 48:console.error("Error",e.t1);case 49:c=!1;case 50:o&&o.getTracks().forEach((function(e){e.stop()})),r.set(Et.AUDIO,c);case 52:return e.abrupt("return",r);case 53:case"end":return e.stop()}}),e,null,[[5,11],[30,36]])}))),function(e){return u.apply(this,arguments)})},{key:"isInt",value:function(e){return"number"==typeof e&&e%1==0}},{key:"getNetworkStats",value:(c=(0,a.Z)(l().mark((function e(){var t,r,n,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(a.length>0&&void 0!==a[0]?a[0]:{}).timeoutDuration)&&this.isInt(t)||(t=6e4),r=new Promise((function(e,r){setTimeout((function(){r("Not able to get NetworkStats due to timeout")}),t)})),n=new Promise((function(e,t){if(navigator.onLine){var r=new qa({measureDownloadLoadedLatency:!1,measureUploadLoadedLatency:!1,measurements:[{type:"upload",bytes:3e6,count:1,bypassMinDuration:!0},{type:"download",bytes:3e6,count:1,bypassMinDuration:!0}]});r.isRunning?(r.onFinish=function(t){e({downloadSpeed:parseFloat(Number(t.getDownloadBandwidth()/1048576).toFixed(2)),uploadSpeed:parseFloat(Number(t.getUploadBandwidth()/1048576).toFixed(2))})},r.onError=function(e){t("Not able to get NetworkStats")}):t("Not able to get NetworkStats")}else t("Not able to get NetworkStats due to no Network")})),e.abrupt("return",Promise.race([n,r]));case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"analytics",value:function(e){var t,r,n;!e&&navigator&&navigator.userAgent&&(r=navigator.userAgent,delete(n=d().parse(r)).engine);try{var a;null!==(a=e)&&void 0!==a&&a.browserUserAgent||(r=navigator.userAgent,delete(n=d().parse(r)).engine)}catch(e){}e&&e.rawUserAgent&&(r=e.rawUserAgent,delete(n=d().parse(r)).engine),e||(e={});var i={};i.sdkType=e.sdkType||"javascript",i.sdkVersion=e.sdkVersion||"0.0.80",i.platform=e.platform||(null===(t=n)||void 0===t||null===(t=t.platform)||void 0===t?void 0:t.type)||"","null"==e.browserUserAgent?i.browserUserAgent=void 0:i.browserUserAgent=n,e.deviceUserAgent&&(i.deviceUserAgent=e.deviceUserAgent),this._deviceInfo=i}},{key:"initMeeting",value:function(e){var t,r=e.meetingId,a=e.customCameraVideoTrack,i=void 0===a?void 0:a,o=e.customMicrophoneAudioTrack,s=void 0===o?void 0:o,c=e.autoConsume,l=void 0===c||c,u=e.preferredProtocol,d=e.mode,p=e.multiStream,h=void 0===p||p,f=e.participantId,m=e.name,g=e.micEnabled,v=e.webcamEnabled,y=e.maxResolution,b=e.metaData,_=e.chatEnabled,w=e.useSpartialLayerAnalytics,S=e.signalingBaseUrl,k=e.defaultCamera;if(!r)throw new Error("'meetingId' is empty, please verify it or generate new meetingId using the API.");var E=f?f.toString():R()({length:8}).toLowerCase(),x=m||R()({length:6}).toLowerCase();switch(this._deviceInfo||this.analytics(),"string"!=typeof u&&(u="UDP_ONLY"),null===(t=u)||void 0===t?void 0:t.toUpperCase()){case"UDP_ONLY":case"UDP_OVER_TCP":u=u.toUpperCase();break;default:u="UDP_ONLY"}if(d||(d=dt.S.CONFERENCE),d!==dt.S.CONFERENCE&&d!==dt.S.VIEWER)throw new Error('"mode" can only be either '.concat(dt.S.CONFERENCE," or ").concat(dt.S.VIEWER));if(null!=b&&"object"!=(0,n.Z)(b))throw new Error('"metaData" can only be object.');var C="react-native"===this._deviceInfo.sdkType,P=C?k?"front"===k?1:0:i?"user"===i.getVideoTracks()[0].getConstraints().facingMode?1:0:C?1:0:0,T=new Q.default({roomId:r,peerId:E,secret:this.apiKey,device:"unknown",displayName:x,mode:d,useSimulcast:h,produce:!0,consume:!0,useSharingSimulcast:!0,datachannel:!1!==_,micEnabled:!1!==g,webcamEnabled:!1!==v,maxResolution:y||"hd",useSpartialLayerAnalytics:w,_deviceInfo:this._deviceInfo,customCameraVideoTrack:i,customMicrophoneAudioTrack:s,autoConsume:l,preferredProtocol:u,signalingBaseUrl:S,metaData:b,defaultCameraIndex:P});ae.roomClient=T;var O=new pe({id:E,displayName:x,local:!0,mode:d,metaData:b});return new ot(r,O,T)}},{key:"createCameraVideoTrack",value:(s=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,d,p,h,f,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cameraId,n=void 0===r?void 0:r,a=t.encoderConfig,i=void 0===a?void 0:a,o=t.facingMode,s=void 0===o?void 0:o,c=t.optimizationMode,u=void 0===c?void 0:c,d=t.multiStream,p=void 0===d||d,h=i?pt.v.videoProfiles[i]:pt.v.videoProfiles.h360p_w640p,f={video:{deviceId:n||void 0,facingMode:s||void 0,width:h.width,height:h.height,frameRate:h.frameRate}},e.next=5,ht(f);case 5:return m=e.sent,u&&(m.contentHint=u),m.encoderConfig=i||"h360p_w640p",m.contentHint=u||"",m.multiStream=p,m.cameraId=n,e.abrupt("return",m);case 12:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"createScreenShareVideoTrack",value:(r=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.encoderConfig,n=void 0===r?void 0:r,a=t.optimizationMode,i=void 0===a?void 0:a,o=t.withAudio,s=void 0===o?"enable":o,c=n?pt.v.screenShareProfiles[n]:pt.v.screenShareProfiles.h720p_15fps,u={audio:"enable"===s,video:{width:c.width,height:c.height,frameRate:c.frameRate}},e.next=5,ft(u);case 5:return d=e.sent,i&&(d.contentHint=i),e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"createMicrophoneAudioTrack",value:(t=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.noiseConfig,n=void 0===r?void 0:r,a=t.encoderConfig,i=void 0===a?void 0:a,o=t.microphoneId,s=void 0===o?void 0:o,c=i?pt.v.audioProfiles[i]:pt.v.audioProfiles.speech_standard,u={audio:{deviceId:s,sampleRate:c.sampleRate,echoCancellation:n?n&&n.acousticEchoCancellation:c.echoCancellation,autoGainControl:n?n&&n.autoGainControl:c.autoGainControl,noiseSuppression:n?n&&n.noiseSuppression:c.noiseSuppression,channelCount:c.channelCount}},e.next=5,ht(u);case 5:return(d=e.sent).encoderConfig=i||"speech_standard",d.microphoneId=s,e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();(0,s.Z)(Qa,"devices",[]),(0,s.Z)(Qa,"eventEmitter",new ee),(0,s.Z)(Qa,"Constants",{errors:lt.R,recordingEvents:{RECORDING_STARTING:"RECORDING_STARTING",RECORDING_STARTED:"RECORDING_STARTED",RECORDING_STOPPING:"RECORDING_STOPPING",RECORDING_STOPPED:"RECORDING_STOPPED"},livestreamEvents:{LIVESTREAM_STARTING:"LIVESTREAM_STARTING",LIVESTREAM_STARTED:"LIVESTREAM_STARTED",LIVESTREAM_STOPPING:"LIVESTREAM_STOPPING",LIVESTREAM_STOPPED:"LIVESTREAM_STOPPED"},hlsEvents:ut.o,modes:dt.S,permission:Et});var Ya=Qa},3003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ze});var n=r(1002),a=r(5861),i=r(5671),o=r(3144),s=r(4942),c=r(4687),l=r.n(c),u=r(9293),d=r(960),p=r(1227),h=r.n(p),f="mediasoup-demo",m=function(){function e(t){(0,i.Z)(this,e),t?(this._debug=h()("".concat(f,":").concat(t)),this._warn=h()("".concat(f,":WARN:").concat(t)),this._error=h()("".concat(f,":ERROR:").concat(t))):(this._debug=h()(f),this._warn=h()("".concat(f,":WARN")),this._error=h()("".concat(f,":ERROR"))),h().disable(),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return(0,o.Z)(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}(),g=r(1354),v=g.enc.Latin1.parse("6gf9Oz5Y(6fOWPP@3XPv0Mwp51yfJ0HiZW^0*!9NdUuZ*VdKmRC@f))&^!Iriw)q"),y=g.enc.Latin1.parse("BHrabik^$W^y*HL@A*$4YKj(");function b(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,d,p,h,f,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,n=t.secret,a=t.signalingBaseUrl,i="call-api.videosdk.live",o=[],s=null,c={},u={},d={},p=null,e.next=10,fetch("https://".concat(a,"/infra/v1/meetings/init-config"),{method:"POST",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({roomId:r})}).then((function(e){return e.json()})).catch((function(e){return{}}));case 10:return h=e.sent,(f=h.data)&&(i=f.baseUrl,m=f.observability,o=w(f.iceServers),s=m.jwt,c=m.traces,u=m.logs,d=m.metaData,p=f.signalingUrl),e.abrupt("return",{baseUrl:i,iceServers:o,observabilityJwt:s,traces:c,logs:u,metaData:d,signalingUrl:p});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){try{var t=g.AES.decrypt(e,v,{iv:y,mode:g.mode.CBC,padding:g.pad.ZeroPadding}).toString(g.enc.Utf8);return JSON.parse(t)}catch(e){return[]}}var S=r(6808),k=r.n(S);function E(e){var t=e.displayName;k().set("mediasoup-demo.user",{displayName:t})}function R(){return k().getJSON("mediasoup-demo.devices")}var x=r(3196),C=r.n(x),P=function(e){return{type:"SET_ROOM_STATE",payload:{state:e}}},T=function(e){return{type:"SET_ROOM_ACTIVE_SPEAKER",payload:{peerId:e}}},O=function(e){return{type:"SET_ROOM_STATS_PEER_ID",payload:{peerId:e}}},D=function(e){return{type:"SET_MEDIA_CAPABILITIES",payload:{canSendMic:e.canSendMic,canSendWebcam:e.canSendWebcam}}},I=function(e){return{type:"SET_DISPLAY_NAME",payload:{displayName:e}}},M=function(e){return{type:"SET_AUDIO_ONLY_STATE",payload:{enabled:e}}},j=function(e){return{type:"SET_AUDIO_ONLY_IN_PROGRESS",payload:{flag:e}}},L=function(e){return{type:"SET_AUDIO_MUTED_STATE",payload:{enabled:e}}},N=function(e){return{type:"SET_RESTART_ICE_IN_PROGRESS",payload:{flag:e}}},A=function(e){return{type:"ADD_PRODUCER",payload:{producer:e}}},B=function(e){return{type:"REMOVE_PRODUCER",payload:{producerId:e}}},F=function(e,t){return{type:"SET_PRODUCER_TRACK",payload:{producerId:e,track:t}}},U=function(e,t){return{type:"SET_PRODUCER_SCORE",payload:{producerId:e,score:t}}},z=function(e){return{type:"ADD_DATA_PRODUCER",payload:{dataProducer:e}}},W=function(e){return{type:"SET_WEBCAM_IN_PROGRESS",payload:{flag:e}}},V=function(e){return{type:"SET_SHARE_IN_PROGRESS",payload:{flag:e}}},H=function(e){return{type:"ADD_PEER",payload:{peer:e}}},q=function(e){return{type:"REMOVE_PEER",payload:{peerId:e}}},G=function(e,t){return{type:"SET_PEER_DISPLAY_NAME",payload:{displayName:e,peerId:t}}},Z=function(e,t){return{type:"ADD_CONSUMER",payload:{consumer:e,peerId:t}}},K=function(e,t){return{type:"REMOVE_CONSUMER",payload:{consumerId:e,peerId:t}}},J=function(e,t){return{type:"SET_CONSUMER_PAUSED",payload:{consumerId:e,originator:t}}},Q=function(e,t){return{type:"SET_CONSUMER_RESUMED",payload:{consumerId:e,originator:t}}},Y=function(e,t,r){return{type:"SET_CONSUMER_CURRENT_LAYERS",payload:{consumerId:e,spatialLayer:t,temporalLayer:r}}},$=function(e,t,r){return{type:"SET_CONSUMER_PREFERRED_LAYERS",payload:{consumerId:e,spatialLayer:t,temporalLayer:r}}},X=function(e,t){return{type:"SET_CONSUMER_PRIORITY",payload:{consumerId:e,priority:t}}},ee=function(e,t){return{type:"SET_CONSUMER_SCORE",payload:{consumerId:e,score:t}}},te=function(e,t){return{type:"ADD_DATA_CONSUMER",payload:{dataConsumer:e,peerId:t}}},re=function(e,t){return{type:"REMOVE_DATA_CONSUMER",payload:{dataConsumerId:e,peerId:t}}},ne=function(e){var t=e.type,r=void 0===t?"info":t,n=e.text,a=e.title,i=e.timeout;if(!i)switch(r){case"info":i=3e3;break;case"error":i=5e3}var o={id:C()({length:6}).toLowerCase(),type:r,title:a,text:n,timeout:i};return function(e){e(function(e){return{type:"ADD_NOTIFICATION",payload:{notification:e}}}(o)),setTimeout((function(){e({type:"REMOVE_NOTIFICATION",payload:{notificationId:o.id}})}),i)}},ae=r(7187),ie=r(885),oe=r(8962),se={},ce={},le={};for(var ue in oe.v.videoProfiles)"oneSixNine"==oe.v.videoProfiles[ue].aspectRatio&&(se[ue]=oe.v.videoProfiles[ue],se[ue].encoding={maxBitrate:se[ue].bitRate,maxFramerate:se[ue].frameRate}),"fourThree"==oe.v.videoProfiles[ue].aspectRatio&&(ce[ue]=oe.v.videoProfiles[ue],ce[ue].encoding={maxBitrate:ce[ue].bitRate,maxFramerate:ce[ue].frameRate});for(var ue in oe.v.screenShareProfiles)le[ue]=oe.v.screenShareProfiles[ue],le[ue].encoding={maxBitrate:le[ue].bitRate,maxFramerate:le[ue].frameRate};var de=Object.values(se),pe=Object.values(ce),he=Object.values(le),fe=[se.h180p_w320p,se.h360p_w640p],me=[ce.h180p_w240p,ce.h360p_w480p],ge=function(e){return[{scaleResolutionDownBy:2,fps:3}].map((function(t){var r;return{width:Math.floor(e.width/t.scaleResolutionDownBy),height:Math.floor(e.height/t.scaleResolutionDownBy),encodings:{maxBitrate:Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(r=e.encoding.maxFramerate)&&void 0!==r?r:30)/t.fps)))),maxFramerate:t.fps}}}))},ve=["q","h","f"];function ye(e,t,r,n){var a=n&&n.videoEncoding;e&&(a=n&&n.screenShareEncoding);var i=null==n?void 0:n.simulcast;if(a||(a=function(e,t,r){for(var n=function(e,t,r){if(e)return he;var n=t>r?t/r:r/t;return Math.abs(n-16/9)<Math.abs(n-4/3)?de:pe}(e,t,r),a=n[0].encoding,i=Math.max(t,r),o=0;o<n.length;o+=1){var s=n[o];if(a=s.encoding,s.width>=i)break}return a}(e,t,r)),!i)return[a];var o,s,c={width:t,height:r,encoding:{maxBitrate:a.maxBitrate,maxFramerate:a.maxFramerate}},l=(s=function(e,t){e&&ge(t);var r=t.width,n=t.height,a=r>n?r/n:n/r;return Math.abs(a-16/9)<Math.abs(a-4/3)?fe:me}(e,c))[0];if(s.length>1){var u=s;o=(0,ie.Z)(u,2)[1]}var d=Math.max(t,r);return function(e,t,r){var n=[];return r.forEach((function(r,a){if(!(a>=ve.length)){var i=Math.min(e,t),o={rid:ve[a],scaleResolutionDownBy:i/Math.min(r.width,r.height),maxBitrate:r.encoding.maxBitrate,maxFramerate:r.encoding.maxFramerate};n.push(o)}})),n}(t,r,d>=960&&o?[l,o,c]:d>=480?[l,c]:[c])}function be(e,t,r){if(!e)return{};var n=e.id,a=(e.preferredSpatialLayer,e.preferredTemporalLayer,e.appData),i=a.width,o=a.height,s=a.encodings;try{var c=function(e){var t=[];if(e&&0!=e.length){if(1===e.length){for(var r=0;r<3;r++)t.push(Math.pow(2,3-r-1));return t}var n=!1;return e.forEach((function(e){void 0!==e.scaleResolutionDownBy?(n=!0,t.push(Math.max(1,e.scaleResolutionDownBy))):t.push(1)})),n||e.forEach((function(r,n){t[n]=Math.pow(2,e.length-n-1)})),t}}(s);if(!c)return{};for(var l=Math.min(Math.max(oe.v.adaptiveScalingFactor||.75,.5),1),u=0,d=0;d<c.length;d++){var p=l*i/c[d],h=l*o/c[d];if(!(t>=p&&r>=h))break;u=d}var f=(e.temporalLayers?e.temporalLayers:3)-1;if(0===u&&f>0){var m=i/c[0],g=o/c[0];t<.5*m&&r<.5*g&&(f-=1),f>0&&t<.25*m&&r<.25*g&&(f-=1)}return{consumerId:n,newPreferredSpatialLayer:u,newPreferredTemporalLayer:f}}catch(e){return{}}}var _e=r(6900),we=r(8225),Se=r(4180),ke=r(3430),Ee=r(6380),Re=r(2982),xe=Array(32);function Ce(){for(var e=0;e<16;e++)xe[e]=Math.floor(16*Math.random())+48,xe[e]>=58&&(xe[e]+=39);return String.fromCharCode.apply(null,xe.slice(0,16))}function Pe(){var e=(1e6*(new Date).getTime()).toString().padEnd(19,"0");return Number(e)}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De=function(){function e(t){var r=this,n=t.roomId,a=t.peerId,o=t.sdkName,s=t.observabilityJwt,c=t.metaData,l=t.traces;(0,i.Z)(this,e),this._traceId=function(){for(var e=0;e<32;e++)xe[e]=Math.floor(16*Math.random())+48,xe[e]>=58&&(xe[e]+=39);return String.fromCharCode.apply(null,xe.slice(0,32))}(),this._rootSpanId=Ce(),this._observabilityJwt=s,this._tracesEnabled=l.enabled;var u=function(e){for(var t="",r=8;r>0;r--)t+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(36*Math.random())];return t}();this._spans=[],this._traceJSON={resourceSpans:[{resource:{attributes:[{key:"service.name",value:{stringValue:"videosdk-otel"}},{key:"telemetry.sdk.language",value:{stringValue:"webjs"}},{key:"telemetry.sdk.name",value:{stringValue:"opentelemetry"}},{key:"telemetry.sdk.version",value:{stringValue:"1.14.0"}},{key:"sdk-version",value:{stringValue:"0.0.1"}}],droppedAttributesCount:0},scopeSpans:[{scope:{name:u},spans:[]}]}]},this._tracesEnabled&&(this.addRootSpan(n,a,o,c),setInterval((function(){r.processQueue()}),4e3))}return(0,o.Z)(e,[{key:"addRootSpan",value:function(e,t,r,n){if(this._tracesEnabled){var a={traceId:this._traceId,spanId:this._rootSpanId,name:"room_".concat(e,"_peer_").concat(t,"_sdk_").concat(r),kind:1,startTimeUnixNano:Pe(),endTimeUnixNano:Pe(),attributes:[{key:"roomId",value:{stringValue:e}},{key:"peerId",value:{stringValue:t}},{key:"sdkName",value:{stringValue:r}},{key:"userId",value:{stringValue:n.userId}},{key:"email",value:{stringValue:n.email}}],droppedAttributesCount:0,events:[],droppedEventsCount:0,status:{code:0},links:[],droppedLinksCount:0};this._spans.push(a)}}},{key:"addSpanToTrace",value:function(e){this._spans.push(e)}},{key:"trace",value:function(e){var t=e.spanName,r=e.attributes,n=void 0===r?{}:r,a=e.span,i=void 0===a?void 0:a;if(this._tracesEnabled){var o=Ce(),s=Pe(),c={traceId:this._traceId,spanId:o,parentSpanId:i||this._rootSpanId,name:t,kind:1,startTimeUnixNano:s,droppedAttributesCount:0,events:[],droppedEventsCount:0,links:[],droppedLinksCount:0};return Object.keys(n).length>0&&(c.attributes=Object.entries(n).map((function(e){var t=(0,ie.Z)(e,2);return{key:t[0],value:{stringValue:t[1]}}}))),this.addSpanToTrace(c),o}}},{key:"traceAutoComplete",value:function(e){var t=e.spanName,r=e.attributes,n=void 0===r?{}:r,a=e.status,i=void 0===a?1:a,o=e.span,s=void 0===o?void 0:o,c=e.message,l=void 0===c?"SUCCESS":c;if(this._tracesEnabled){var u=Ce(),d=Pe(),p=Pe(),h={traceId:this._traceId,spanId:u,parentSpanId:s||this._rootSpanId,name:t,kind:1,startTimeUnixNano:d,endTimeUnixNano:p,droppedAttributesCount:0,events:[],droppedEventsCount:0,links:[],droppedLinksCount:0,status:{code:i,message:l}};Object.keys(n).length>0&&(h.attributes=Object.entries(n).map((function(e){var t=(0,ie.Z)(e,2);return{key:t[0],value:{stringValue:t[1]}}}))),this.addSpanToTrace(h)}}},{key:"completeSpan",value:function(e){var t=e.span,r=e.status,n=e.message,a=e.attributes,i=void 0===a?{}:a;if(this._tracesEnabled){var o=Pe();this._spans=this._spans.map((function(e){if(e.spanId!==t)return e;var a=Object.entries(i).map((function(e){var t=(0,ie.Z)(e,2);return{key:t[0],value:{stringValue:t[1]}}}));return e.attributes=e.attributes?[].concat((0,Re.Z)(e.attributes),(0,Re.Z)(a)):a,Oe(Oe({},e),{},{status:{code:r,message:n},endTimeUnixNano:o})}))}}},{key:"processQueue",value:function(){var e=this;if(this._spans.length>0){this._traceJSON.resourceSpans[0].scopeSpans[0].spans=this._spans,this._spans=[];var t={method:"POST",headers:{Authorization:this._observabilityJwt,"Content-Type":"application/json"},body:JSON.stringify(this._traceJSON)};fetch("https://api.videosdk.live/otel/v1/traces",t).then(function(){var t=(0,a.Z)(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._traceJSON.resourceSpans[0].scopeSpans[0].spans=[],t.next=3,r.text();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){})).catch((function(t){e._spans=e._traceJSON.resourceSpans[0].scopeSpans[0].spans,console.error("There was a problem with the POST request:",t)}))}}}]),e}();function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(){function e(t){var r=t.roomId,n=t.peerId,a=t.sdkName,o=t.logs,s=t.observabilityJwt;(0,i.Z)(this,e),this._peerId=n,this._roomId=r,this._logs=o,this._observabilityJwt=s,this._sdkName=a}var t;return(0,o.Z)(e,[{key:"pushLogs",value:(t=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.logType,n=t.logText,a=t.attributes,i=this._logs,o=i.enabled,s=i.endPoint,!o){e.next=8;break}return e.next=5,fetch(s,{method:"POST",headers:{Authorization:this._observabilityJwt,"Content-Type":"application/json"},body:JSON.stringify({logType:r,logText:n,attributes:Me(Me({},a),{},{roomId:this._roomId,peerId:this._peerId,SDK:this._sdkName})})}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e),{}}));case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Le(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe,Ue={sd:{low:{s:0,t:2},med:{s:0,t:2},high:{s:1,t:2},s0t0:{s:0,t:0},s0t1:{s:0,t:1},s0t2:{s:0,t:2},s1t0:{s:1,t:0},s1t1:{s:1,t:1},s1t2:{s:1,t:2},s2t0:{s:2,t:0},s2t1:{s:2,t:1},s2t2:{s:2,t:2}},hd:{low:{s:0,t:2},med:{s:1,t:2},high:{s:2,t:2},s0t0:{s:0,t:0},s0t1:{s:0,t:1},s0t2:{s:0,t:2},s1t0:{s:1,t:0},s1t1:{s:1,t:1},s1t2:{s:1,t:2},s2t0:{s:2,t:0},s2t1:{s:2,t:1},s2t2:{s:2,t:2}}},ze={qvga:{width:{ideal:320},height:{ideal:240}},vga:{width:{ideal:640},height:{ideal:480}},sd:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:24}},hd:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:24}}},We={sd:[{scaleResolutionDownBy:6},{scaleResolutionDownBy:4},{scaleResolutionDownBy:2}],hd:[{scaleResolutionDownBy:4},{scaleResolutionDownBy:2},{scaleResolutionDownBy:1}]},Ve=[{scalabilityMode:"S3T3_KEY"}],He=[{dtx:!0,maxFramerate:10}],qe=[{scalabilityMode:"S3T3",dtx:!0}],Ge=new m("RoomClient"),Ze=function(){function e(t){var r,n,a=t.roomId,o=t.peerId,c=t.secret,l=t.displayName,u=t.device,d=t.handlerName,p=t.useSimulcast,h=t.useSharingSimulcast,f=t.forceTcp,m=t.mode,g=t.forceH264,v=t.forceVP9,y=t.svc,b=t.datachannel,_=t.externalVideo,w=t.micEnabled,S=t.webcamEnabled,k=t.maxResolution,E=t.useSpartialLayerAnalytics,R=t._deviceInfo,x=t.customCameraVideoTrack,C=t.customMicrophoneAudioTrack,P=t.autoConsume,T=t.preferredProtocol,O=t.signalingBaseUrl,D=t.metaData,I=t.defaultCameraIndex;(0,i.Z)(this,e),(0,s.Z)(this,"delay",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),Ge.debug('constructor() [roomId:"%s", peerId:"%s", displayName:"%s", device:%s]',a,o,l,u.flag),this.useSpartialLayerAnalytics=E||!1,this._deviceInfo=R,this._eventEmitter=new ae.EventEmitter,this._closed=!1,this._displayName=l,this._device=u,this._forceTcp=f,this._preferredProtocol=T,m==ke.S.CONFERENCE?(r=!0,n=!0):(r=!1,n=!1),this._mode=m,this._produce=r,this._consume=n,this._useDataChannel=b,this._forceH264=Boolean(g),this._forceVP9=Boolean(v),this._micEnabled=Boolean(w),this._webcamEnabled=Boolean(S),this._externalVideo=null,this._externalVideoStream=null,this._nextDataChannelTestNumber=0,_&&(this._externalVideo=document.createElement("video"),this._externalVideo.controls=!0,this._externalVideo.loop=!0,this._externalVideo.setAttribute("playsinline",""),this._externalVideo.src=_,this._externalVideo.play().catch((function(e){return Ge.warn("externalVideo.play() failed:%o",e)}))),this._handlerName=d,this._useSimulcast=p,this._useSharingSimulcast=h,this._protooUrl="",this._secret=c,this._peerId=o,this._roomId=a,this._baseUrl="",this._protoo=null,this._mediasoupDevice=null,this._sendTransport=null,this._recvTransport=null,this._micProducer=null,this._webcamProducer=null,this._shareProducer=null,this._shareAudioProducer=null,this._chatDataProducer=null,this._botDataProducer=null,this._consumers=new Map,this._dataConsumers=new Map,this._mics=new Map,this._mic={device:null},this._webcams=new Map,this._webcam={device:null,resolution:k||"hd"},this._pinnedParticipants=new Map,y&&(Ve[0].scalabilityMode="".concat(y,"_KEY"),qe[0].scalabilityMode=y),this.customCameraVideoTrack=x,this.customMicrophoneAudioTrack=C,this._autoConsume=P,this._iceServers=[],this._metrics=new Se.VideoSDKMetrics({refreshEvery:1e3,startAfter:1e3,verbose:!1}),this._collectStats="react-native"!=R.sdkType,this._stats={},this._latestStats={},this._isWebsocketAlive=!1,this._pingWebsocketInterval=null,this._pingInternetInterval=null,this._pingWebsocketFailedCounter=0,this._pongInternetCounter=0,this._transportState="",this._openTelemetry=null,this._videosdkLogs=null,this._signalingBaseUrl=O||"api.videosdk.live",this._metaData=D,this._defaultCameraIndex=I}var t,r,c,p,h,f,m,g,v,y,_,w,S,k,x,C,ie,se,ce,le,ue,de,pe,he,fe,me,ge,ve,Re,xe,Ce,Pe,Te,Oe,Ie,Me,Ne,Ae,Ze,Ke,Je,Qe,Ye,$e,Xe,et,tt,rt,nt,at,it,ot,st,ct,lt,ut,dt,pt,ht,ft,mt,gt,vt,yt,bt,_t,wt,St,kt,Et,Rt,xt,Ct,Pt,Tt,Ot,Dt,It,Mt,jt,Lt,Nt,At,Bt,Ft,Ut,zt,Wt,Vt,Ht,qt,Gt,Zt,Kt,Jt,Qt,Yt,$t;return(0,o.Z)(e,[{key:"on",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"close",value:function(e){var t,r,n,a,i,o=e.sendLeft,s=void 0===o||o;if(s&&(this._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"CLOSING"}),null===(i=this._openTelemetry)||void 0===i||i.traceAutoComplete({spanName:"Meeting is in CLOSING State",status:1})),!this._closed){this._closed=!0,this._pingWebsocketInterval&&clearInterval(this._pingWebsocketInterval),this._pingWebsocketInterval=null,this._pingInternetInterval&&clearInterval(this._pingInternetInterval),this._pingInternetInterval=null,this._protoo.close(),this._metrics.running&&this._metrics.stopAllProbes(),Ge.debug("close()");var c=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"Closing Trasnport"});this._sendTransport&&this._sendTransport.close(),this._recvTransport&&this._recvTransport.close(),null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:c,status:1,message:"Closed Trasnport"}),Fe.dispatch(P("closed")),s&&this._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"CLOSED"}),null===(n=this._openTelemetry)||void 0===n||n.traceAutoComplete({spanName:"Meeting is in CLOSED State",status:1}),s&&this._eventEmitter.emit("MEETING_LEFT"),null===(a=this._openTelemetry)||void 0===a||a.traceAutoComplete({spanName:"Emitted MEETING_LEFT Event",status:1})}}},{key:"join",value:($t=(0,a.Z)(l().mark((function e(){var t,r,n,i,o,c,p,h,f,m,g,v=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({roomId:this._roomId,secret:this._secret,signalingBaseUrl:this._signalingBaseUrl});case 2:n=e.sent,i=n.baseUrl,o=n.iceServers,c=n.logs,p=n.observabilityJwt,h=n.traces,f=n.metaData,m=n.signalingUrl,this._baseUrl=i,this._protooUrl="".concat(m||"wss://".concat(this._baseUrl),"/?roomId=").concat(this._roomId,"&peerId=").concat(this._peerId,"&secret=").concat(this._secret,"&mode=").concat(this._mode),this._iceServers=o,this._tracesEnabled=h.enabled,this._openTelemetry=new De((0,s.Z)({roomId:this._roomId,peerId:this._peerId,sdkName:"".concat(this._deviceInfo.sdkType,"-sdk"),traces:h,logs:c,observabilityJwt:p,metaData:f},"traces",h)),this._videosdkLogs=new je({roomId:this._roomId,peerId:this._peerId,sdkName:"".concat(this._deviceInfo.sdkType,"-sdk"),logs:c,observabilityJwt:p}),this._joinSpan=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"Join() Calling",attributes:{DeviceInfo:JSON.stringify(this._deviceInfo),mode:this._mode,displayName:this._displayName,multiStream:this._useSimulcast,micEnabled:this._micEnabled,webcamEnabled:this._webcamEnabled,CustomVideoTrack:!!this.customCameraVideoTrack,CustomMicTrack:!!this.customMicrophoneAudioTrack,signalingUrl:m||"signalingUrl not specify"}}),g=new u.qo(this._protooUrl),this._protoo=new u._z(g),this._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"CONNECTING"}),Fe.dispatch(P("connecting")),null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Meeting is in CONNECTING State",span:this._joinSpan,status:1}),this._protoo.on("open",(function(){var e;v._isWebsocketAlive=!0,v._closed=!1,v.startPingPong(),v._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"CONNECTED"}),null===(e=v._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"Meeting is in CONNECTED State",span:v._joinSpan,status:1}),v.requestEntry()})),this._protoo.on("failed",(function(){var e;v._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"FAILED"}),null===(e=v._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"Meeting is in FAILED State",span:v._joinSpan,status:2}),Fe.dispatch(ne({type:"error",text:"WebSocket connection failed"}))})),this._protoo.on("disconnected",(function(){var e;v._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"DISCONNECTED"}),null===(e=v._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"Meeting is in DISCONNECTED State",span:v._joinSpan,status:1}),Fe.dispatch(ne({type:"error",text:"WebSocket disconnected"})),v._sendTransport&&(v._sendTransport.close(),v._sendTransport=null),v._recvTransport&&(v._recvTransport.close(),v._recvTransport=null),Fe.dispatch(P("closed"))})),this._protoo.on("close",(function(){v._closed||v.close({sendLeft:!0})})),this._protoo.on("request",function(){var e=(0,a.Z)(l().mark((function e(t,r,n){var a,i,o,s,c,u,p,h,f,m,g,y,b,_,w,S,k,E,R,x,C,P,T,O,D,I,M,j,L,N,A,B,F,U,z,W,V,H,q,G,J,Q,Y,$,X,ee,re,ae,ie,oe,se,ce,le,ue,de,pe,he,fe,me,ge,ve,ye;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug('proto "request" event [method:%s, data:%o]',t.method,t.data),e.t0=t.method,e.next="close"===e.t0?4:"newConsumer"===e.t0?7:"newDataConsumer"===e.t0?45:"enableMic"===e.t0?72:"disableMic"===e.t0?74:"enableWebcam"===e.t0?88:"disableWebcam"===e.t0?90:"pinStateChanged"===e.t0?104:"switchRoom"===e.t0?124:"statsData"===e.t0?127:130;break;case 4:return r(),v.close({sendLeft:!0}),e.abrupt("break",130);case 7:if(o=null===(a=v._openTelemetry)||void 0===a?void 0:a.trace({spanName:"Protoo REQ: newConsumer",attributes:{request:JSON.stringify(t)}}),v._consume){e.next=12;break}return n(403,"I do not want to consume"),null===(s=v._openTelemetry)||void 0===s||s.completeSpan({span:o,status:2,message:"I do not want to consume"}),e.abrupt("break",130);case 12:return c=t.data,u=c.peerId,p=c.producerId,h=c.id,f=c.kind,m=c.rtpParameters,g=c.type,y=c.appData,b=c.producerPaused,_=null===(i=v._openTelemetry)||void 0===i?void 0:i.trace({spanName:"Creating Consumer",span:o}),e.prev=14,e.next=17,v._recvTransport.consume({id:h,producerId:p,kind:f,rtpParameters:m,appData:Be(Be({},y),{},{peerId:u})});case 17:R=e.sent,x=d.parseScalabilityMode(R.rtpParameters.encodings[0].scalabilityMode),C=x.spatialLayers,P=x.temporalLayers,R.spatialLayers=C,R.temporalLayers=P,R.currentSpatialLayers=C-1,R.currentTemporalLayers=P-1,v._consumers.set(R.id,R),R.on("transportclose",(function(){v._consumers.delete(R.id);var e=K(R.id,u);Fe.dispatch(e),v._eventEmitter.emit(e.type,e.payload)})),null===(w=v._openTelemetry)||void 0===w||w.completeSpan({span:_,status:1,message:"Consumer Created"}),_=null===(S=v._openTelemetry)||void 0===S?void 0:S.trace({spanName:"Sending Stream Enabled Event",span:o}),T=Z({id:R.id,type:g,locallyPaused:!1,remotelyPaused:b,rtpParameters:R.rtpParameters,spatialLayers:C,temporalLayers:P,currentSpatialLayer:C-1,currentTemporalLayer:P-1,preferredSpatialLayer:C-1,preferredTemporalLayer:P-1,priority:1,codec:R.rtpParameters.codecs[0].mimeType.split("/")[1],track:R.track,appData:y,instance:R},u),Fe.dispatch(T),v._eventEmitter.emit(T.type,T.payload),r(),"video"===R.kind&&Fe.getState().me.audioOnly&&v._pauseConsumer(R),null===(k=v._openTelemetry)||void 0===k||k.completeSpan({span:_,status:1,message:"Event Send Successfully"}),null===(E=v._openTelemetry)||void 0===E||E.completeSpan({span:o,status:1,message:"New Consumer Created Successfully",attributes:{"consumer.consumerId":R.id}}),"video"==R.kind&&R.appData.share&&(null===(O=v._openTelemetry)||void 0===O||O.traceAutoComplete({spanName:"Presenter Changed",span:o,attributes:{"peer.id":u}})),e.next=44;break;case 37:throw e.prev=37,e.t1=e.catch(14),null===(D=v._openTelemetry)||void 0===D||D.completeSpan({span:_,status:2,message:"Error creating a Consumer: ".concat(e.t1)}),null===(I=v._openTelemetry)||void 0===I||I.completeSpan({span:o,status:2,message:"Error creating a Consumer: ".concat(e.t1)}),Fe.dispatch(ne({type:"error",text:"Error creating a Consumer: ".concat(e.t1)})),null===(M=v._videosdkLogs)||void 0===M||M.pushLogs({logText:"Error creating a Consumer",logType:"ERROR",attributes:{error:e.t1.message}}),e.t1;case 44:return e.abrupt("break",130);case 45:if(v._consume){e.next=48;break}return n(403,"I do not want to data consume"),e.abrupt("break",130);case 48:if(v._useDataChannel){e.next=51;break}return n(403,"I do not want DataChannels"),e.abrupt("break",130);case 51:return j=t.data,L=j.peerId,N=j.dataProducerId,A=j.id,B=j.sctpStreamParameters,F=j.label,U=j.protocol,z=j.appData,e.prev=52,e.next=55,v._recvTransport.consumeData({id:A,dataProducerId:N,sctpStreamParameters:B,label:F,protocol:U,appData:Be(Be({},z),{},{peerId:L})});case 55:W=e.sent,v._dataConsumers.set(W.id,W),W.on("transportclose",(function(){v._dataConsumers.delete(W.id)})),W.on("open",(function(){Ge.debug('DataConsumer "open" event')})),W.on("close",(function(){Ge.warn('DataConsumer "close" event'),v._dataConsumers.delete(W.id),Fe.dispatch(ne({type:"error",text:"DataConsumer closed"}))})),W.on("error",(function(e){Ge.error('DataConsumer "error" event:%o',e),Fe.dispatch(ne({type:"error",text:"DataConsumer error: ".concat(e)}))})),W.on("message",(function(e){if(Ge.debug('DataConsumer "message" event [streamId:%d]',W.sctpStreamParameters.streamId),window.DC_MESSAGE=e,e instanceof ArrayBuffer){var t=new DataView(e).getUint32();return t==Math.pow(2,32)-1?(Ge.warn("dataChannelTest finished!"),void(v._nextDataChannelTestNumber=0)):(t>v._nextDataChannelTestNumber&&Ge.warn("dataChannelTest: %s packets missing",t-v._nextDataChannelTestNumber),void(v._nextDataChannelTestNumber=t+1))}if("string"==typeof e)switch(W.label){case"chat":var r=Fe.getState().peers,n=Object.keys(r).map((function(e){return r[e]})).find((function(e){return e.dataConsumers.includes(W.id)}));if(!n){Ge.warn('DataConsumer "message" from unknown peer');break}Fe.dispatch(ne({title:"".concat(n.displayName," says:"),text:e,timeout:5e3})),v._eventEmitter.emit("CHAT_MESSAGE",{text:e,senderId:n.id,timestamp:(new Date).getTime()});break;case"bot":Fe.dispatch(ne({title:"Message from Bot:",text:e,timeout:5e3}))}else Ge.warn('ignoring DataConsumer "message" (not a string)')})),window.DC=W,Fe.dispatch(te({id:W.id,sctpStreamParameters:W.sctpStreamParameters,label:W.label,protocol:W.protocol},L)),r(),e.next=71;break;case 67:e.prev=67,e.t2=e.catch(52),Ge.error('"newDataConsumer" request failed:%o',e.t2),Fe.dispatch(ne({type:"error",text:"Error creating a DataConsumer: ".concat(e.t2)}));case 71:return e.abrupt("break",130);case 72:try{H=t.data.peerId,null===(V=v._openTelemetry)||void 0===V||V.traceAutoComplete({spanName:"Emitting MIC_REQUESTED & Protoo REQ: enableMic for ".concat(H),status:1}),v._eventEmitter.emit("MIC_REQUESTED",{peerId:H}),r()}catch(e){Ge.error('"enableMic" request failed:%o',e),null===(q=v._videosdkLogs)||void 0===q||q.pushLogs({logText:"Error enableMic request failed",logType:"ERROR",attributes:{error:e.message}}),v._emitError({code:3027,message:e.message})}return e.abrupt("break",130);case 74:return e.prev=74,G=null===(J=v._openTelemetry)||void 0===J?void 0:J.trace({spanName:"Protoo REQ: disableMic"}),e.next=78,v.disableMic(!1,G);case 78:null===(Q=v._openTelemetry)||void 0===Q||Q.completeSpan({span:G,status:1,message:"Request Completed"}),r(),e.next=87;break;case 82:e.prev=82,e.t3=e.catch(74),null===(Y=v._openTelemetry)||void 0===Y||Y.completeSpan({span:G,status:2,message:"disableMic request failed ".concat(e.t3)}),null===($=v._videosdkLogs)||void 0===$||$.pushLogs({logText:"Error disableMic request failed",logType:"ERROR",attributes:{error:e.t3.message}}),v._emitError({code:3028,message:e.t3.message});case 87:return e.abrupt("break",130);case 88:try{ee=t.data.peerId,null===(X=v._openTelemetry)||void 0===X||X.traceAutoComplete({spanName:"Emitting WEBCAM_REQUESTED & Protoo REQ: enableWebcam for ".concat(ee),status:1}),v._eventEmitter.emit("WEBCAM_REQUESTED",{peerId:ee}),r()}catch(e){Ge.error('"enableWebcam" request failed:%o',e),null===(re=v._videosdkLogs)||void 0===re||re.pushLogs({logText:"Error enableWebcam request failed",logType:"ERROR",attributes:{error:e.message}}),v._emitError({code:3029,message:e.message})}return e.abrupt("break",130);case 90:return e.prev=90,ae=null===(ie=v._openTelemetry)||void 0===ie?void 0:ie.trace({spanName:"Protoo REQ: disableWebcam"}),e.next=94,v.disableWebcam(ae);case 94:null===(oe=v._openTelemetry)||void 0===oe||oe.completeSpan({span:ae,status:1,message:"Request Completed"}),r(),e.next=103;break;case 98:e.prev=98,e.t4=e.catch(90),null===(se=v._openTelemetry)||void 0===se||se.completeSpan({span:ae,status:2,message:"disableWebcam request failed ".concat(e.t4)}),null===(ce=v._videosdkLogs)||void 0===ce||ce.pushLogs({logText:"Error disableWebcam request failed",logType:"ERROR",attributes:{error:e.t4.message}}),v._emitError({code:3030,message:e.t4.message});case 103:return e.abrupt("break",130);case 104:e.prev=104,pe=t.data,he=pe.peerId,fe=pe.state,me=pe.pinnedBy,le=null===(ue=v._openTelemetry)||void 0===ue?void 0:ue.trace({spanName:"Protoo REQ: pinStateChanged",attributes:{requestData:JSON.stringify({peerId:he,state:fe,pinnedBy:me})}}),v._pinnedParticipants.has(he)||v._pinnedParticipants.set(he,{cam:!1,share:!1}),ge=v._pinnedParticipants.get(he),null!=fe.cam&&(ge.cam=fe.cam),null!=fe.share&&(ge.share=fe.share),v._pinnedParticipants.set(he,ge),v._eventEmitter.emit("PIN_STATE_CHANGED",{peerId:he,state:fe,pinnedBy:me}),0==ge.share&&0==ge.cam&&v._pinnedParticipants.delete(he),null===(de=v._openTelemetry)||void 0===de||de.completeSpan({span:le,status:1,message:"Request Completed",attributes:{_pinnedParticipants:JSON.stringify(v._pinnedParticipants)}}),r(),e.next=123;break;case 118:throw e.prev=118,e.t5=e.catch(104),null===(ve=v._openTelemetry)||void 0===ve||ve.completeSpan({span:le,status:2,message:"pinStateChanged request failed"}),null===(ye=v._videosdkLogs)||void 0===ye||ye.pushLogs({logText:"Error pinStateChanged request failed",logType:"ERROR",attributes:{error:e.t5.message}}),e.t5;case 123:return e.abrupt("break",130);case 124:return v._eventEmitter.emit("SWITCH_ROOM",t.data),r(),e.abrupt("break",130);case 127:return r({peerId:v._peerId,statsData:v._stats}),v._stats={},e.abrupt("break",130);case 130:case"end":return e.stop()}}),e,null,[[14,37],[52,67],[74,82],[90,98],[104,118]])})));return function(t,r,n){return e.apply(this,arguments)}}()),this._protoo.on("notification",function(){var e=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,d,p,h,f,m,g,y,b,_,w,S,k,E,R,x,C,P,O,D,I,M,j,L,N,A,B,F,z,W,V,Z,$,X,te,ae,ie,oe,se,ce,le,ue,de,pe,he,fe,me,ge,ve,ye,be,_e,we,Se,ke,Re,xe,Ce,Pe,Te,Oe,De,Ie,Me,je,Le,Ne;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug('proto "notification" event [method:%s, data:%o]',t.method,t.data),e.t0=t.method,e.next="error"===e.t0?4:"participantMediaStateChanged"===e.t0?9:"producerScore"===e.t0?10:"entryRequested"===e.t0?13:"entryResponded"===e.t0?17:"newPeer"===e.t0?22:"peerClosed"===e.t0?29:"peerDisplayNameChanged"===e.t0?35:"downlinkBwe"===e.t0?39:"consumerClosed"===e.t0?41:"consumerPaused"===e.t0?53:"consumerResumed"===e.t0?60:"consumerLayersChanged"===e.t0?67:"consumerScore"===e.t0?78:"dataConsumerClosed"===e.t0?81:"activeSpeaker"===e.t0?90:"recordingStateChanged"===e.t0?95:"recordingStarted"===e.t0?98:"recordingStopped"===e.t0?100:"livestreamStateChanged"===e.t0?102:"livestreamStarted"===e.t0?105:"livestreamStopped"===e.t0?107:"hlsStateChanged"===e.t0?109:"hlsPlayableStateChanged"===e.t0?112:"hlsStarted"===e.t0?114:"hlsStopped"===e.t0?117:"whiteboardStarted"===e.t0?119:"whiteboardStopped"===e.t0?122:"videoStatusChanged"===e.t0?124:"videoSeeked"===e.t0?126:"connectionOpen"===e.t0?129:"connectionClose"===e.t0?131:"connectionChatMessage"===e.t0?133:"connectionParticipantJoined"===e.t0?135:"connectionParticipantLeft"===e.t0?137:"pubsubMessage"===e.t0?139:"peerModeChanged"===e.t0?141:"restartIce"===e.t0?144:148;break;case 4:return a=t.data,v._eventEmitter.emit("ERROR",a),null===(r=v._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error in Meeting Session",logType:"ERROR",attributes:{error:a.message}}),null===(n=v._openTelemetry)||void 0===n||n.traceAutoComplete({spanName:"Emitted `ERROR` Event",attributes:{error:a.message},status:2}),e.abrupt("break",149);case 9:try{i=t.data,o=i.peerId,s=i.kind,c=i.newState,v._eventEmitter.emit("PARTICIPANT_MEDIA_STATE_CHANGED",{peerId:o,kind:s,newState:c}),"video"==s&&(null===(u=v._openTelemetry)||void 0===u||u.traceAutoComplete({spanName:"".concat(o," has ").concat(c?"enable":"disable"," ").concat(s),status:1}))}catch(e){Ge.error('"newProducer" request failed:%o',e),null===(d=v._videosdkLogs)||void 0===d||d.pushLogs({logText:"Error newProducer request failed",logType:"ERROR",attributes:{error:e.message}})}case 10:return p=t.data,h=p.producerId,f=p.score,Fe.dispatch(U(h,f)),e.abrupt("break",149);case 13:return g=t.data,y=g.id,b=g.name,_=null===(m=v._openTelemetry)||void 0===m?void 0:m.trace({spanName:"Protoo Noti: entryRequested",span:v._joinSpan,attributes:{data:JSON.stringify({id:y,name:b})}}),y!==v._peerId?(v._eventEmitter.emit("ENTRY_REQUESTED",{id:y,name:b}),null===(w=v._openTelemetry)||void 0===w||w.completeSpan({span:_,status:1,message:"EntryResponded Recieved"})):null===(S=v._openTelemetry)||void 0===S||S.completeSpan({span:_,status:2,message:"Entry Request Failed"}),e.abrupt("break",149);case 17:return E=t.data,R=E.id,x=E.decision,E.sessionId,v._eventEmitter.emit("ENTRY_RESPONDED",{id:R,decision:x}),C=null===(k=v._openTelemetry)||void 0===k?void 0:k.trace({spanName:"Protoo Noti: entryResponded",attributes:{data:JSON.stringify({id:R,decision:x})},span:v._joinSpan}),R===v._peerId&&"allowed"===x?(v.joinRoom(),null===(P=v._openTelemetry)||void 0===P||P.completeSpan({span:C,status:1,message:"EntryResponded Recieved"})):null===(O=v._openTelemetry)||void 0===O||O.completeSpan({span:v._joinSpan,status:2,message:"Join Request Denied"}),e.abrupt("break",149);case 22:D=t.data,I=H(Be(Be({},D),{},{consumers:[],dataConsumers:[]})),Fe.dispatch(I),v._eventEmitter.emit(I.type,I.payload),Fe.dispatch(ne({text:"".concat(D.displayName," has joined the room")}));try{null===(M=v._openTelemetry)||void 0===M||M.traceAutoComplete({spanName:"Protoo Noti: newPeer ".concat(D.displayName),attributes:{peerData:JSON.stringify(D)}})}catch(e){null===(j=v._videosdkLogs)||void 0===j||j.pushLogs({logText:"Error Protoo Noti: newPeer",logType:"ERROR",attributes:{error:e.message}}),console.error(e)}return e.abrupt("break",149);case 29:return N=t.data.peerId,A=q(N),Fe.dispatch(A),v._eventEmitter.emit(A.type,A.payload),null===(L=v._openTelemetry)||void 0===L||L.traceAutoComplete({spanName:"Protoo Noti: peerClosed for ".concat(N)}),e.abrupt("break",149);case 35:return B=t.data,F=B.peerId,z=B.displayName,W=B.oldDisplayName,Fe.dispatch(G(z,F)),Fe.dispatch(ne({text:"".concat(W," is now ").concat(z)})),e.abrupt("break",149);case 39:return Ge.debug("'downlinkBwe' event:%o",t.data),e.abrupt("break",149);case 41:if(Z=t.data.consumerId,$=v._consumers.get(Z)){e.next=45;break}return e.abrupt("break",149);case 45:return $.close(),v._consumers.delete(Z),X=$.appData.peerId,te=K(Z,X),Fe.dispatch(te),v._eventEmitter.emit(te.type,te.payload),null===(V=v._openTelemetry)||void 0===V||V.traceAutoComplete({spanName:"Protoo Noti: consumerClosed for id ".concat(Z),attributes:{consumerData:JSON.stringify($)}}),e.abrupt("break",149);case 53:if(ae=t.data.consumerId,ie=v._consumers.get(ae)){e.next=57;break}return e.abrupt("break",149);case 57:return ie.pause(),Fe.dispatch(J(ae,"remote")),e.abrupt("break",149);case 60:if(oe=t.data.consumerId,se=v._consumers.get(oe)){e.next=64;break}return e.abrupt("break",149);case 64:return se.resume(),Fe.dispatch(Q(oe,"remote")),e.abrupt("break",149);case 67:if(ce=t.data,le=ce.consumerId,ue=ce.spatialLayer,de=ce.temporalLayer,(pe=v._consumers.get(le)).currentSpatialLayer=ue,pe.currentTemporalLayer=de,pe){e.next=73;break}return e.abrupt("break",149);case 73:return pe.appData.encodings.length>1?(v._eventEmitter.emit("VIDEO_QUALITY_CHANGED",{peerId:pe.appData.peerId,prevQuality:pe.spatialLayers-1-pe.currentSpatialLayer==0?"HIGH":pe.spatialLayers-1-pe.currentSpatialLayer==1?"MEDIUM":"LOW",currentQuality:pe.spatialLayers-1-ue==0?"HIGH":pe.spatialLayers-1-ue==1?"MEDIUM":"LOW"}),null===(he=v._videosdkLogs)||void 0===he||he.pushLogs({logText:"Consumer Peer ".concat(pe.appData.peerId," changed to ").concat(pe.spatialLayers-1-ue==0?"HIGH":pe.spatialLayers-1-ue==1?"MEDIUM":"LOW",", previous quality was ").concat(pe.spatialLayers-1-pe.currentSpatialLayer==0?"HIGH":pe.spatialLayers-1-pe.currentSpatialLayer==1?"MEDIUM":"LOW"),logType:"INFO",attributes:{consumerId:le}})):(v._eventEmitter.emit("VIDEO_QUALITY_CHANGED",{peerId:pe.appData.peerId,prevQuality:"HIGH",currentQuality:"HIGH"}),null===(fe=v._videosdkLogs)||void 0===fe||fe.pushLogs({logText:"Consumer Peer ".concat(pe.appData.peerId," changed to HIGH, previous quality was HIGH"),logType:"INFO",attributes:{consumerId:le}})),pe.currentSpatialLayer=ue,pe.currentTemporalLayer=de,Fe.dispatch(Y(le,ue,de)),e.abrupt("break",149);case 78:return me=t.data,ge=me.consumerId,ve=me.score,Fe.dispatch(ee(ge,ve)),e.abrupt("break",149);case 81:if(ye=t.data.dataConsumerId,be=v._dataConsumers.get(ye)){e.next=85;break}return e.abrupt("break",149);case 85:return be.close(),v._dataConsumers.delete(ye),_e=be.appData.peerId,Fe.dispatch(re(ye,_e)),e.abrupt("break",149);case 90:return we=t.data.peerId,Se=T(we),Fe.dispatch(Se),v._eventEmitter.emit(Se.type,Se.payload),e.abrupt("break",149);case 95:return v._eventEmitter.emit("RECORDING_STATE_CHANGED",t.data),null===(ke=v._openTelemetry)||void 0===ke||ke.traceAutoComplete({spanName:"Emitted RECORDING_STATE_CHANGED, status : ".concat(t.data.status),attributes:{data:JSON.stringify(t.data)},status:1}),e.abrupt("break",149);case 98:return v._eventEmitter.emit("RECORDING_STARTED",{}),e.abrupt("break",149);case 100:return v._eventEmitter.emit("RECORDING_STOPPED",{}),e.abrupt("break",149);case 102:return v._eventEmitter.emit("LIVESTREAM_STATE_CHANGED",t.data),null===(Re=v._openTelemetry)||void 0===Re||Re.traceAutoComplete({spanName:"Emitted LIVESTREAM_STATE_CHANGED, status : ".concat(t.data.status),attributes:{data:JSON.stringify(t.data)},status:1}),e.abrupt("break",149);case 105:return v._eventEmitter.emit("LIVESTREAM_STARTED",{}),e.abrupt("break",149);case 107:return v._eventEmitter.emit("LIVESTREAM_STOPPED",{}),e.abrupt("break",149);case 109:return v._eventEmitter.emit("HLS_STATE_CHANGED",t.data),null===(xe=v._openTelemetry)||void 0===xe||xe.traceAutoComplete({spanName:"Emitted HLS_STATE_CHANGED, status : ".concat(t.data.status),attributes:{data:JSON.stringify(t.data)},status:1}),e.abrupt("break",149);case 112:return t.data.isPlayable&&(v._eventEmitter.emit("HLS_STATE_CHANGED",Be(Be({},t.data),{},{status:Ee.o.HLS_PLAYABLE})),null===(Ce=v._openTelemetry)||void 0===Ce||Ce.traceAutoComplete({spanName:"Protoo Noti: hlsPlayableStateChanged",status:1})),e.abrupt("break",149);case 114:return Pe=t.data.downstreamUrl,v._eventEmitter.emit("HLS_STARTED",Pe),e.abrupt("break",149);case 117:return v._eventEmitter.emit("HLS_STOPPED",{}),e.abrupt("break",149);case 119:return Te=t.data.state,v._eventEmitter.emit("WHITEBOARD_STARTED",{state:Te}),e.abrupt("break",149);case 122:return v._eventEmitter.emit("WHITEBOARD_STOPPED",{}),e.abrupt("break",149);case 124:return v._eventEmitter.emit("VIDEO_STATE_CHANGED",t.data),e.abrupt("break",149);case 126:return Oe=t.data.currentTime,v._eventEmitter.emit("VIDEO_SEEKED",{currentTime:Oe}),e.abrupt("break",149);case 129:return v._eventEmitter.emit("CONNECTION_OPEN",t.data),e.abrupt("break",149);case 131:return v._eventEmitter.emit("CONNECTION_CLOSE",t.data),e.abrupt("break",149);case 133:return v._eventEmitter.emit("CONNECTION_CHAT_MESSAGE",t.data),e.abrupt("break",149);case 135:return v._eventEmitter.emit("CONNECTION_PARTICIPANT_JOIN",t.data),e.abrupt("break",149);case 137:return v._eventEmitter.emit("CONNECTION_PARTICIPANT_LEFT",t.data),e.abrupt("break",149);case 139:return v._eventEmitter.emit("PUBSUB_MESSAGE",t.data),e.abrupt("break",149);case 141:return v._eventEmitter.emit("PEER_MODE_CHANGED",t.data),null===(De=v._openTelemetry)||void 0===De||De.traceAutoComplete({spanName:"Emitted PEER_MODE_CHANGED",attributes:{data:JSON.stringify(t.data)},status:1}),e.abrupt("break",149);case 144:return Me=t.data,je=Me.transportId,Le=Me.iceParameters,Ne=null===(Ie=v._openTelemetry)||void 0===Ie?void 0:Ie.trace({spanName:"Protoo Noti: restartIce for transportId :".concat(je),attributes:{iceParameters:JSON.stringify(Le)}}),v.handleRemoteRestartIce({transportId:je,iceParameters:Le,internalSpan:Ne}),e.abrupt("break",149);case 148:Ge.error('unknown protoo notification.method "%s"',t.method);case 149:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 28:case"end":return e.stop()}}),e,this)}))),function(){return $t.apply(this,arguments)})},{key:"requestEntry",value:(Yt=(0,a.Z)(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"Requesting Entry",span:this._joinSpan}),e.next=3,this._protoo.request("requestEntry",{name:this._displayName});case 3:null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:n,status:1,message:"Entry Requested Successfully"});case 4:case"end":return e.stop()}}),e,this)}))),function(){return Yt.apply(this,arguments)})},{key:"respondEntry",value:(Qt=(0,a.Z)(l().mark((function e(t,r){var n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===(n=this._openTelemetry)||void 0===n?void 0:n.trace({spanName:"Responding Entry",attributes:{peerId:t,decision:r},span:this._joinSpan}),e.next=3,this._protoo.request("respondEntry",{id:t,decision:r});case 3:null===(a=this._openTelemetry)||void 0===a||a.completeSpan({message:"Entry Responded Successfully",span:i,status:1});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return Qt.apply(this,arguments)})},{key:"startRecording",value:(Jt=(0,a.Z)(l().mark((function e(t,r,n){var a,i,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("startRecording()"),o=null===(a=this._openTelemetry)||void 0===a?void 0:a.trace({spanName:"startRecording() Start",attributes:{webhookUrl:t||"webhookUrl Not Specify",awsDirPath:r||"awsDirPath Not Specify",config:n?JSON.stringify(n):"config Not Specify"}}),e.prev=2,e.next=5,this._protoo.request("startRecording",{webhookUrl:t,awsDirPath:r,config:n});case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),Ge.error("startRecording() | failed:%o",e.t0),null===(s=this._openTelemetry)||void 0===s||s.completeSpan({span:o,status:2,message:"startRecording() failed"}),null===(c=this._videosdkLogs)||void 0===c||c.pushLogs({logText:"Error startRecording() failed",logType:"ERROR",attributes:{error:e.t0.message}}),this._emitError({code:3017,message:e.t0.message});case 13:null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:o,status:1,message:"startRecording() End"});case 14:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e,t,r){return Jt.apply(this,arguments)})},{key:"stopRecording",value:(Kt=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopRecording()"),n=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"stopRecording() Start"}),e.prev=2,e.next=5,this._protoo.request("stopRecording",{});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),null===(a=this._openTelemetry)||void 0===a||a.completeSpan({span:n,status:2,message:"stopRecording() failed"}),null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error stopRecording() failed",logType:"ERROR",attributes:{error:e.t0.message}}),this._emitError({code:3018,message:e.t0.message});case 12:null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:n,status:1,message:"stopRecording() End"});case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return Kt.apply(this,arguments)})},{key:"startLivestream",value:(Zt=(0,a.Z)(l().mark((function e(t,r){var n,a,i,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("startLivestream()"),i=null===(n=this._openTelemetry)||void 0===n?void 0:n.trace({spanName:"startLivestream() Start",attributes:{outputs:t?JSON.stringify(t):"outputs Not Specify",config:r?JSON.stringify(r):"config Not Specify"}}),e.prev=2,e.next=5,this._protoo.request("startLivestream",{outputs:t,config:r});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:i,status:1,message:"startLivestream() End"}),null===(s=this._videosdkLogs)||void 0===s||s.pushLogs({logText:"Error startLivestream() failed",logType:"ERROR",attributes:{error:e.t0.message}}),this._emitError({code:3019,message:e.t0.message});case 12:null===(a=this._openTelemetry)||void 0===a||a.completeSpan({span:i,status:1,message:"startLivestream() End"});case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e,t){return Zt.apply(this,arguments)})},{key:"stopLivestream",value:(Gt=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopLivestream()"),n=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"stopLivestream() Start"}),e.prev=2,e.next=5,this._protoo.request("stopLivestream",{});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),null===(a=this._videosdkLogs)||void 0===a||a.pushLogs({logText:"Error stopLivestream() failed",logType:"ERROR",attributes:{error:e.t0.message}}),null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:n,status:2,message:"Error stopLivestream() failed"}),this._emitError({code:3020,message:e.t0.message});case 12:null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:n,status:1,message:"stopLivestream() End"});case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return Gt.apply(this,arguments)})},{key:"startHls",value:(qt=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},Ge.debug("startHls()"),a=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"startHls() Start",attributes:{config:t?JSON.stringify(t):"config Not Specify"}}),e.prev=3,e.next=6,this._protoo.request("startHls",{config:t});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error startHls() failed",logType:"ERROR",attributes:{error:e.t0.message}}),null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:a,status:2,message:"Error startHls() failed"}),Ge.error("startHls() | failed:%o",e.t0);case 13:null===(n=this._openTelemetry)||void 0===n||n.completeSpan({span:a,status:1,message:"startHlsSpan() End"});case 14:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return qt.apply(this,arguments)})},{key:"stopHls",value:(Ht=(0,a.Z)(l().mark((function e(){var t,r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopHls()"),n=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"stopHls() Start"}),e.prev=2,e.next=5,this._protoo.request("stopHls",{});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(a=this._videosdkLogs)||void 0===a||a.pushLogs({logText:"Error stopHls() failed",logType:"ERROR",attributes:{error:e.t0.message}}),null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:n,status:2,message:"Error stopHls() failed"});case 11:null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:n,status:1,message:"stopHls() End"});case 12:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return Ht.apply(this,arguments)})},{key:"startWhiteboard",value:(Vt=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("startWhiteboard()"),e.prev=1,e.next=4,this._protoo.request("startWhiteboard",{});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),Ge.error("startWhiteboard() | failed:%o",e.t0),this._emitError({code:3021,message:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return Vt.apply(this,arguments)})},{key:"stopWhiteboard",value:(Wt=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopWhiteboard()"),e.prev=1,e.next=4,this._protoo.request("stopWhiteboard",{});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),Ge.error("stopWhiteboard() | failed:%o",e.t0),this._emitError({code:3022,message:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return Wt.apply(this,arguments)})},{key:"pinStateChange",value:(zt=(0,a.Z)(l().mark((function e(t){var r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerId,a=t.state,null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Pin state Change for ".concat(n),attributes:{state:a?JSON.stringify(a):null},status:1}),e.prev=2,e.next=5,this._protoo.request("pinStateChanged",{peerId:n,state:a});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error pinStateChange() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("pinStateChange() | failed");case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return zt.apply(this,arguments)})},{key:"startVideo",value:(Ut=(0,a.Z)(l().mark((function e(t){var r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.link,Ge.debug("startVideo()"),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"startVideo() Calling",logType:"INFO"}),e.prev=3,e.next=6,this._protoo.request("startVideo",{link:n});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),null===(a=this._videosdkLogs)||void 0===a||a.pushLogs({logText:"Error startVideo() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("startVideo() | failed:%o",e.t0),this._emitError({code:3023,message:e.t0.message});case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return Ut.apply(this,arguments)})},{key:"stopVideo",value:(Ft=(0,a.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopVideo()"),null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"stopVideo() Calling",logType:"INFO"}),e.prev=2,e.next=5,this._protoo.request("stopVideo",{});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error stopVideo() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("stopVideo() | failed:%o",e.t0),this._emitError({code:3024,message:e.t0.message});case 12:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return Ft.apply(this,arguments)})},{key:"pauseVideo",value:(Bt=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("pauseVideo()"),e.prev=1,e.next=4,this._protoo.request("pauseVideo",{currentTime:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),Ge.error("pauseVideo() | failed:%o",e.t0),this._emitError({code:3025,message:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return Bt.apply(this,arguments)})},{key:"resumeVideo",value:(At=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("resumeVideo()"),e.prev=1,e.next=4,this._protoo.request("resumeVideo",{});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),Ge.error("resumeVideo() | failed:%o",e.t0),this._emitError({code:3026,message:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return At.apply(this,arguments)})},{key:"seekVideo",value:(Nt=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("seekVideo()"),e.prev=1,e.next=4,this._protoo.request("seekVideo",{currentTime:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),Ge.error("seekVideo() | failed:%o",e.t0),this._emitError({code:3031,message:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return Nt.apply(this,arguments)})},{key:"enablePeerMic",value:(Lt=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Enabling peer ".concat(t," Mic"),status:1}),Ge.debug("enablePeerMic()"),e.prev=2,e.next=5,this._protoo.request("enablePeerMic",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error enablePeerMic() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("enablePeerMic() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Lt.apply(this,arguments)})},{key:"disablePeerMic",value:(jt=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Disabling peer ".concat(t," Mic"),status:1}),Ge.debug("disablePeerMic()"),e.prev=2,e.next=5,this._protoo.request("disablePeerMic",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error disablePeerMic() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("disablePeerMic() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return jt.apply(this,arguments)})},{key:"consumeWebcamStreams",value:(Mt=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("consumeWebcamStreams()"),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"consumeWebcamStreams() Calling",logType:"INFO",attributes:{peerId:t}}),e.prev=2,e.next=5,this._protoo.request("consumeVideoStreams",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error consumeWebcamStreams() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("consumeWebcamStreams() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Mt.apply(this,arguments)})},{key:"consumeMicStreams",value:(It=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("consumeMicStreams()"),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"consumeMicStreams() Calling",logType:"INFO",attributes:{peerId:t}}),e.prev=2,e.next=5,this._protoo.request("consumeAudioStreams",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error consumeMicStreams() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("consumeMicStreams() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return It.apply(this,arguments)})},{key:"stopConsumingMicStreams",value:(Dt=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopConsumingAudioStreams()"),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error stopConsumingAudioStreams() Calling",logType:"INFO",attributes:{peerId:t}}),e.prev=2,e.next=5,this._protoo.request("stopConsumingAudioStreams",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error stopConsumingMicStreams() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("stopConsumingMicStreams() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Dt.apply(this,arguments)})},{key:"stopConsumingWebcamStreams",value:(Ot=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("stopConsumingWebcamStreams()"),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"stopConsumingWebcamStreams() Calling",logType:"INFO",attributes:{peerId:t}}),e.prev=2,e.next=5,this._protoo.request("stopConsumingVideoStreams",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error stopConsumingWebcamStreams() failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("stopConsumingWebcamStreams() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Ot.apply(this,arguments)})},{key:"changeMode",value:(Tt=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u,p,h,f,m,g,v,y,b,_,w,S,k,E,x,C,P,T,I,M,j=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"changeMode() Calling with mode : ".concat(t)}),a=this._mode,e.prev=2,a!==t){e.next=7;break}throw null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:n,status:2,message:"changeMode() Ending"}),null===(o=this._videosdkLogs)||void 0===o||o.pushLogs({logText:"You are already in ".concat(t," mode"),logType:"INFO"}),new Error("You are already in ".concat(t," mode"));case 7:if(this._mode=t,t!==ke.S.CONFERENCE){e.next=38;break}return this._consume=!0,this._produce=!0,this._mediasoupDevice=new d.Device({handlerName:this._handlerName}),e.next=14,this._protoo.request("getRouterRtpCapabilities");case 14:return u=e.sent,e.next=17,this._mediasoupDevice.load({routerRtpCapabilities:u});case 17:if(!this._produce){e.next=22;break}return e.next=20,this._protoo.request("createWebRtcTransport",{preferredProtocol:this._preferredProtocol,producing:!0,consuming:!1,sctpCapabilities:this._useDataChannel?this._mediasoupDevice.sctpCapabilities:void 0});case 20:p=e.sent,this.createProducerTransport(p,n);case 22:if(!this._consume){e.next=29;break}return e.next=25,this._protoo.request("createWebRtcTransport",{preferredProtocol:this._preferredProtocol,producing:!1,consuming:!0,sctpCapabilities:this._useDataChannel?this._mediasoupDevice.sctpCapabilities:void 0});case 25:h=e.sent,f=h.id,m=h.iceParameters,g=h.iceCandidates,v=h.dtlsParameters,y=h.sctpParameters,this._recvTransport=this._mediasoupDevice.createRecvTransport({id:f,iceParameters:m,iceCandidates:g,dtlsParameters:v,sctpParameters:y,iceServers:this._iceServers}),this._recvTransport.on("connect",(function(e,t,r){var n=e.dtlsParameters;j._protoo.request("connectWebRtcTransport",{transportId:j._recvTransport.id,dtlsParameters:n}).then(t).catch(r)}));case 29:return null===(s=this._openTelemetry)||void 0===s||s.traceAutoComplete({spanName:"Sending changeMode request to server",span:n,status:1}),e.next=32,this._protoo.request("changeMode",{mode:t});case 32:this._produce&&(Fe.dispatch(D({canSendMic:this._mediasoupDevice.canProduce("audio"),canSendWebcam:this._mediasoupDevice.canProduce("video")})),this._micEnabled&&this.enableMic(this.customMicrophoneAudioTrack),b=R(),this._webcamEnabled&&(!b||b.webcamEnabled||this._externalVideo)&&this.enableWebcam(this.customCameraVideoTrack,n),this.enableChatDataProducer()),window.SHOW_INFO&&(_=Fe.getState(),w=_.me,Fe.dispatch(O(w.id))),null===(c=this._openTelemetry)||void 0===c||c.traceAutoComplete({spanName:"Emitting PEER_MODE_CHANGED for Peer : ".concat(this._peerId," "),span:n,status:1}),this._eventEmitter.emit("PEER_MODE_CHANGED",{peerId:this._peerId,mode:"CONFERENCE"}),e.next=52;break;case 38:if(t!==ke.S.VIEWER){e.next=52;break}return null===(S=this._openTelemetry)||void 0===S||S.traceAutoComplete({spanName:"Sending changeMode request to server",span:n,status:1}),e.next=42,this._protoo.request("changeMode",{mode:t});case 42:this._consume=!1,this._produce=!1,this._dataConsumers.clear(),T=null===(k=this._openTelemetry)||void 0===k?void 0:k.trace({spanName:"Closing Trasnport",span:n}),null===(E=this._sendTransport)||void 0===E||E.close(),this._sendTransport=null,null===(x=this._recvTransport)||void 0===x||x.close(),this._recvTransport=null,null===(C=this._openTelemetry)||void 0===C||C.completeSpan({span:T,status:1,message:"Closed Trasnport"}),null===(P=this._openTelemetry)||void 0===P||P.completeSpan({span:T,status:1,message:"changeMode() Ending"});case 52:e.next=58;break;case 54:e.prev=54,e.t0=e.catch(2),null===(I=this._videosdkLogs)||void 0===I||I.pushLogs({logText:"Error changeMode(".concat(t,") | failed"),logType:"ERROR",attributes:{error:e.t0.message}}),null===(M=this._openTelemetry)||void 0===M||M.completeSpan({span:n,status:2,message:"changeMode(".concat(t,") | failed")});case 58:case"end":return e.stop()}}),e,this,[[2,54]])}))),function(e){return Tt.apply(this,arguments)})},{key:"enablePeerWebcam",value:(Pt=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Enabling peer ".concat(t," Webcam"),status:1}),Ge.debug("enablePeerWebcam()"),e.prev=2,e.next=5,this._protoo.request("enablePeerWebcam",{peerId:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error enablePeerWebcam | failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("enablePeerWebcam() | failed:%o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Pt.apply(this,arguments)})},{key:"disablePeerWebcam",value:(Ct=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Disabling peer ".concat(t," Webcam"),status:1}),Ge.debug("disablePeerWebcam()"),e.prev=2,e.next=5,this._protoo.request("disablePeerWebcam",{peerId:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error disablePeerWebcam | failed",logType:"ERROR",attributes:{error:e.t0.message}});case 10:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return Ct.apply(this,arguments)})},{key:"enableMic",value:(xt=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h,f,m,g,v,y,b,_,w,S,k,E,R,x,C,P,T,O,D,I,M,j,L,N,F,U,z,W,V=this,H=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=H.length>0&&void 0!==H[0]?H[0]:void 0,n=H.length>1&&void 0!==H[1]?H[1]:void 0,a=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"enableMic() Calling ".concat(r?"With Custom Audio Track":"Without Custom Audio Track "),attributes:{customAudioConfig:r?JSON.stringify(r):"Not Specify Custom Track"},span:n||null}),Ge.debug("enableMic()"),this._micEnabled=!0,!this._micProducer){e.next=20;break}return c=null===(i=this._openTelemetry)||void 0===i?void 0:i.trace({spanName:"Mic Producer found",span:a}),r&&(null===(u=this._openTelemetry)||void 0===u||u.traceAutoComplete({spanName:"Stopping customAudioTrack",span:a,status:1}),r.getTracks().forEach((function(e){e.stop()}))),null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:c,status:1,message:"Resuming Mic Producer"}),this._micProducer.resume(),d=this._micProducer,e.next=13,this._sendTransport.produce({track:this._micProducer.track,encodings:this._micProducer._appData.encodings,codecOptions:this._micProducer._appData.codecOptions});case 13:return this._micProducer=e.sent,p=A({id:this._micProducer.id,paused:this._micProducer.paused,track:this._micProducer.track,rtpParameters:this._micProducer.rtpParameters,codec:this._micProducer.rtpParameters.codecs[0].mimeType.split("/")[1],encodings:d._appData.encodings,codecOptions:d._appData.codecOptions,instance:this._micProducer}),this._micProducer.track.getConstraints().deviceId&&(this._mic.device=this._mics.get(this._micProducer.track.getConstraints().deviceId)),Fe.dispatch(p),this._eventEmitter.emit(p.type,p.payload),null===(s=this._openTelemetry)||void 0===s||s.completeSpan({span:a,status:1,message:"Enable Mic Successful"}),e.abrupt("return");case 20:if(this._mediasoupDevice.canProduce("audio")){e.next=24;break}return Ge.error("enableMic() | cannot produce audio"),null===(h=this._openTelemetry)||void 0===h||h.completeSpan({span:a,status:2,message:'enableMic() | cannot produce audio"'}),e.abrupt("return");case 24:if(e.prev=24,this._externalVideo){e.next=52;break}return Ge.debug("enableMic() | calling getUserMedia()"),e.next=29,this._updateMics(a);case 29:if(this._mic.device){e.next=33;break}throw null===(w=this._openTelemetry)||void 0===w||w.traceAutoComplete({spanName:"Mic Device Not Found",span:a,status:2}),null===(S=this._videosdkLogs)||void 0===S||S.pushLogs({logText:"Error Mic Device Not Found",logType:"ERROR"}),new Error("no mic devices");case 33:try{r&&"ended"==(f=r.getAudioTracks()[0]).readyState&&(f=null,null===(k=this._openTelemetry)||void 0===k||k.traceAutoComplete({spanName:"Dispose Audio Custom Track, it is in ended state",span:a,status:2}))}catch(e){null===(E=this._videosdkLogs)||void 0===E||E.pushLogs({logText:"Error Invalid Custom Audio Track Passed. Reverting to default Error",logType:"ERROR",attributes:{error:e.message}}),console.log("Invalid Custom Audio Track Passed. Reverting to default Error: ".concat(e))}if(f){e.next=50;break}return C=null===(R=this._openTelemetry)||void 0===R?void 0:R.trace({spanName:"Creating Track",span:a}),e.prev=36,e.next=39,navigator.mediaDevices.getUserMedia({audio:{deviceId:{ideal:this._mic.device.deviceId},channelCount:1,noiseSuppression:!0,echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0}});case 39:P=e.sent,e.next=48;break;case 42:return e.prev=42,e.t0=e.catch(36),null===(T=this._videosdkLogs)||void 0===T||T.pushLogs({logText:"Error in getUserMedia for audio",logType:"ERROR",attributes:{error:JSON.stringify(e.t0)}}),null===(O=this._openTelemetry)||void 0===O||O.completeSpan({span:a,status:2,message:"Error in getUserMedia for audio"}),"Permission denied"===e.t0.message||"NotAllowedError"===e.t0.name?(null===(D=this._videosdkLogs)||void 0===D||D.pushLogs({logText:"Error Invalid Custom Audio Track Passed. Reverting to default Error: ".concat(error),logType:"ERROR"}),this._emitError(_e.H.ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED)):this._emitError(_e.H.ERROR_GET_AUDIO_MEDIA),e.abrupt("return");case 48:f=P.getAudioTracks()[0],null===(x=this._openTelemetry)||void 0===x||x.completeSpan({message:"Audio Track Generated",span:C,status:1});case 50:e.next=56;break;case 52:return e.next=54,this._getExternalVideoStream();case 54:I=e.sent,f=I.getAudioTracks()[0].clone();case 56:return M=null===(m=this._openTelemetry)||void 0===m?void 0:m.trace({spanName:"Generating Producer Configuration",span:a}),j={opusStereo:1,opusDtx:1},r&&(L=r.encoderConfig?oe.v.audioProfiles[r.encoderConfig]:oe.v.audioProfiles.speech_standard,j={opusStereo:L.stereo?1:0,opusFec:L.fec?1:0,opusDtx:L.dtx?1:0,opusMaxPlaybackRate:L.maxPlaybackRate,opusPtime:L.packetTime}),F={encodings:N=[{networkPriority:"high"}],codecOptions:j},null===(g=this._openTelemetry)||void 0===g||g.traceAutoComplete({spanName:"Generated AppData",span:M,attributes:{appData:JSON.stringify(F)},status:1}),null===(v=this._openTelemetry)||void 0===v||v.completeSpan({span:M,status:1,message:"Producer Configuration Generated"}),M=null===(y=this._openTelemetry)||void 0===y?void 0:y.trace({spanName:"Creating Mic Producer",span:a}),e.next=67,this._sendTransport.produce({track:f,encodings:N,codecOptions:j,appData:F});case 67:this._micProducer=e.sent,f.getConstraints().deviceId&&(this._mic.device=this._mics.get(f.getConstraints().deviceId)),U=A({id:this._micProducer.id,paused:this._micProducer.paused,track:this._micProducer.track,rtpParameters:this._micProducer.rtpParameters,codec:this._micProducer.rtpParameters.codecs[0].mimeType.split("/")[1],encodings:N,codecOptions:j,instance:this._micProducer}),Fe.dispatch(U),this._eventEmitter.emit(U.type,U.payload),this._micProducer.on("transportclose",(function(){var e,t=B(V._micProducer.id);Fe.dispatch(t),V._eventEmitter.emit(t.type,t.payload),null===(e=V._micProducer)||void 0===e||e.close(),V._micProducer=null})),this._micProducer.on("trackended",(function(){var e;null===(e=V._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"this._micProducer trackended or Microphone disconnected!",span:M,status:2}),Fe.dispatch(ne({type:"error",text:"Microphone disconnected!"})),V.disableMic(!0,a).catch((function(){}))})),null===(b=this._openTelemetry)||void 0===b||b.completeSpan({span:M,status:1,message:"Mic Producer Created"}),null===(_=this._openTelemetry)||void 0===_||_.completeSpan({span:a,status:1,message:"Enable Mic Successful"}),e.next=87;break;case 78:return e.prev=78,e.t1=e.catch(24),null===(z=this._openTelemetry)||void 0===z||z.completeSpan({span:a,status:2,message:"Error enabling microphone: ".concat(e.t1)}),null===(W=this._videosdkLogs)||void 0===W||W.pushLogs({logText:"Error enabling microphone",logType:"ERROR",attributes:{error:e.t1.message}}),Ge.error("enableMic() | failed:%o",e.t1),Fe.dispatch(ne({type:"error",text:"Error enabling microphone: ".concat(e.t1)})),e.next=86,this._protoo.request("produceError",{mediaType:"audio",message:e.t1.message});case 86:f&&f.stop();case 87:case"end":return e.stop()}}),e,this,[[24,78],[36,42]])}))),function(){return xt.apply(this,arguments)})},{key:"disableMic",value:(Rt=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h,f,m,g,v,y,b,_,w,S=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=S.length>0&&void 0!==S[0]&&S[0],a=S.length>1&&void 0!==S[1]?S[1]:void 0,Ge.debug("disableMic()"),i=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"disableMic() Calling",status:1,span:a||null}),this._micProducer){e.next=7;break}return null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:i,status:2,message:"Mic Producer Not found"}),e.abrupt("return");case 7:if(s=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"Closing Mic Producer",span:i,status:1}),this._micEnabled=!1,!this._micProducer||n){e.next=29;break}return p=null===(c=this._openTelemetry)||void 0===c?void 0:c.trace({spanName:"Pausing Mic Producer",span:s,status:1}),this._micProducer.pause(),h=B(this._micProducer.id),null===(u=this._openTelemetry)||void 0===u||u.completeSpan({span:p,status:1,message:"Pause Mic Successfully"}),Fe.dispatch(h),this._eventEmitter.emit(h.type,h.payload),e.prev=16,e.next=19,this._protoo.request("closeProducer",{producerId:this._micProducer.id});case 19:null===(f=this._openTelemetry)||void 0===f||f.completeSpan({span:s,status:1,message:"Requested Server to Close Producer"}),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(16),Fe.dispatch(ne({type:"error",text:"Error closing server-side mic Producer: ".concat(e.t0)})),null===(m=this._openTelemetry)||void 0===m||m.completeSpan({span:i,status:2,message:"Error closing server-side mic Producer closeProducer :".concat(n)}),null===(g=this._videosdkLogs)||void 0===g||g.pushLogs({logText:"Error closing server-side mic Producer closeProducer :".concat(n),logType:"ERROR",attributes:{error:e.t0.message}});case 27:return null===(d=this._openTelemetry)||void 0===d||d.completeSpan({span:i,status:1,message:"Mic Disabled Successfully"}),e.abrupt("return");case 29:return this._micProducer.close(),v=B(this._micProducer.id),Fe.dispatch(v),this._eventEmitter.emit(v.type,v.payload),e.prev=33,e.next=36,this._protoo.request("closeProducer",{producerId:this._micProducer.id});case 36:null===(y=this._openTelemetry)||void 0===y||y.completeSpan({span:s,status:1,message:"Requested Server to Close Producer"}),null===(b=this._openTelemetry)||void 0===b||b.completeSpan({span:i,status:1,message:"Mic Disabled Successfully"}),e.next=45;break;case 40:e.prev=40,e.t1=e.catch(33),Fe.dispatch(ne({type:"error",text:"Error closing server-side mic Producer: ".concat(e.t1)})),null===(_=this._openTelemetry)||void 0===_||_.completeSpan({span:i,status:2,message:"Error closing server-side mic Producer closeProducer :".concat(n)}),null===(w=this._videosdkLogs)||void 0===w||w.pushLogs({logText:"Error closing server-side mic Producer closeProducer :".concat(n),logType:"ERROR",attributes:{error:e.t1.message}});case 45:this._micProducer=null;case 46:case"end":return e.stop()}}),e,this,[[16,22],[33,40]])}))),function(){return Rt.apply(this,arguments)})},{key:"muteMic",value:(Et=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("muteMic()"),this._micEnabled=!1,this._micProducer.pause(),e.prev=3,e.next=6,this._protoo.request("pauseProducer",{producerId:this._micProducer.id});case 6:Fe.dispatch({type:"SET_PRODUCER_PAUSED",payload:{producerId:this._micProducer.id}}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),Ge.error("muteMic() | failed: %o",e.t0),null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error pausing server-side mic Producer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error pausing server-side mic Producer: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return Et.apply(this,arguments)})},{key:"unmuteMic",value:(kt=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("unmuteMic()"),this._micEnabled=!0,this._micProducer.resume(),e.prev=3,e.next=6,this._protoo.request("resumeProducer",{producerId:this._micProducer.id});case 6:Fe.dispatch({type:"SET_PRODUCER_RESUMED",payload:{producerId:this._micProducer.id}}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),Ge.error("unmuteMic() | failed: %o",e.t0),null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error resuming server-side mic Producer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error resuming server-side mic Producer: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return kt.apply(this,arguments)})},{key:"enableWebcam",value:(St=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h,f,m,g,v,y,b,_,w,S,k,E,R,x,C,P,T,O,D,I,M,j,L,N,F,U,z,V,H,q,G=this,Z=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Z.length>0&&void 0!==Z[0]?Z[0]:void 0,n=Z.length>1&&void 0!==Z[1]?Z[1]:void 0,a=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"enableWebcam() Calling ".concat(r?"With Custom Video Track":"Without Custom Video Track "),attributes:{customVideoConfig:r?JSON.stringify(r):"Not Specify Custom Track"},span:n||null}),Ge.debug("enableWebcam()"),this._webcamEnabled=!0,!this._webcamProducer){e.next=8;break}return null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:a,status:2,message:"Webcam Producer found"}),e.abrupt("return");case 8:if(this._mediasoupDevice.canProduce("video")){e.next=12;break}return null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:a,status:2,message:"enableWebcam() | cannot produce video"}),Ge.error("enableWebcam() | cannot produce video"),e.abrupt("return");case 12:if(Fe.dispatch(W(!0)),u=this._webcam.resolution,e.prev=14,this._externalVideo){e.next=53;break}return e.next=18,this._updateWebcams(a);case 18:if(c=this._webcam.device){e.next=23;break}throw null===(v=this._openTelemetry)||void 0===v||v.traceAutoComplete({spanName:"Webcam Device Not Found",span:a,status:2}),null===(y=this._videosdkLogs)||void 0===y||y.pushLogs({logText:"Error Webcam Device Not Found",logType:"ERROR"}),new Error("no webcam devices");case 23:Ge.debug("enableWebcam() | calling getUserMedia()");try{r&&"ended"==(s=r.getVideoTracks()[0]).readyState&&(s=null,null===(b=this._openTelemetry)||void 0===b||b.traceAutoComplete({spanName:"Dispose Video Custom Track, it is in ended state",span:a,status:2}))}catch(e){null===(_=this._videosdkLogs)||void 0===_||_.pushLogs({logText:"Error Invalid Custom Track Passed. Reverting to default Error",logType:"ERROR",attributes:{error:e.message}}),console.log("Invalid Custom Track Passed. Reverting to default Error: ".concat(e))}if(s){e.next=51;break}if(S=null===(w=this._openTelemetry)||void 0===w?void 0:w.trace({spanName:"Creating Track",span:a}),k=null,e.prev=28,"hd"!=this._webcam.resolution){e.next=36;break}return e.next=32,we.VideoSDK.createCameraVideoTrack({cameraId:c.deviceId,encoderConfig:"h720p_w1280p",multiStream:this._useSimulcast,facingMode:c.facing});case 32:r=e.sent,k=JSON.stringify({encoderConfig:"h720p_w1280p",multiStream:this._useSimulcast}),e.next=40;break;case 36:return e.next=38,we.VideoSDK.createCameraVideoTrack({cameraId:c.deviceId,encoderConfig:"h540p_w960p",multiStream:this._useSimulcast,facingMode:c.facing});case 38:r=e.sent,k=JSON.stringify({encoderConfig:"h540p_w960p",multiStream:this._useSimulcast});case 40:s=r.getVideoTracks()[0],null===(E=this._openTelemetry)||void 0===E||E.completeSpan({message:"Video Track Generated",span:S,attributes:{customVideoTrackConfig:k},status:1}),e.next=51;break;case 44:return e.prev=44,e.t0=e.catch(28),null===(R=this._videosdkLogs)||void 0===R||R.pushLogs({logText:"Error Creating VideoTrack",logType:"ERROR",attributes:{error:e.t0.message}}),null===(x=this._openTelemetry)||void 0===x||x.completeSpan({message:"Error Creating VideoTrack",span:a,status:2}),console.log("Error Creating VideoTrack: ",e.t0),"Permission denied"===e.t0.message||"NotAllowedError"===e.t0.name?this._emitError(_e.H.ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED):this._emitError(_e.H.ERROR_GET_VIDEO_MEDIA),e.abrupt("return");case 51:e.next=58;break;case 53:return c={label:"external video"},e.next=56,this._getExternalVideoStream();case 56:C=e.sent,s=C.getVideoTracks()[0].clone();case 58:if(P=null===(d=this._openTelemetry)||void 0===d?void 0:d.trace({spanName:"Generating Producer Configuration",span:a}),D={videoGoogleStartBitrate:1e3},!this._forceH264){e.next=67;break}if(O=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video/h264"===e.mimeType.toLowerCase()}))){e.next=65;break}throw null===(I=this._videosdkLogs)||void 0===I||I.pushLogs({logText:"Error desired H264 codec+configuration is not supported",logType:"ERROR"}),new Error("desired H264 codec+configuration is not supported");case 65:e.next=72;break;case 67:if(!this._forceVP9){e.next=72;break}if(O=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video/vp9"===e.mimeType.toLowerCase()}))){e.next=72;break}throw null===(M=this._videosdkLogs)||void 0===M||M.pushLogs({logText:"Error desired VP9 codec+configuration is not supported",logType:"ERROR"}),new Error("desired VP9 codec+configuration is not supported");case 72:s?(j=s.getConstraints(),T=ye(!1,j.width,j.height,{simulcast:r.multiStream})):this._useSimulcast&&(L=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video"===e.kind})),T=this._forceVP9&&O||"video/vp9"===L.mimeType.toLowerCase()?Ve:We[this._webcam.resolution]),N={};try{N={encodings:T,width:r?null===(F=s)||void 0===F?void 0:F.getConstraints().width:ze[u].width.ideal,height:r?null===(U=s)||void 0===U?void 0:U.getConstraints().height:ze[u].height.ideal}}catch(e){null===(z=this._videosdkLogs)||void 0===z||z.pushLogs({logText:"Error Enable Webcam AppData",logType:"ERROR",attributes:{error:e.message}}),console.log(e)}return null===(p=this._openTelemetry)||void 0===p||p.traceAutoComplete({spanName:"Track Generated with height ".concat(N.height," and width ").concat(N.width," with multiStream ").concat(this._useSimulcast),attributes:{appData:JSON.stringify(N)},span:a,status:1}),null===(h=this._openTelemetry)||void 0===h||h.completeSpan({span:P,status:1,message:"Producer Configuration Generated"}),P=null===(f=this._openTelemetry)||void 0===f?void 0:f.trace({spanName:"Creating Webcam Producer",span:a}),e.next=80,this._sendTransport.produce({track:s,encodings:T,codecOptions:D,codec:O,appData:N});case 80:this._webcamProducer=e.sent,s.getConstraints().deviceId&&(this._webcam.device=this._webcams.get(s.getConstraints().deviceId)),V=A({id:this._webcamProducer.id,deviceLabel:c.label,type:this._getWebcamType(c),paused:this._webcamProducer.paused,track:this._webcamProducer.track,rtpParameters:this._webcamProducer.rtpParameters,codec:this._webcamProducer.rtpParameters.codecs[0].mimeType.split("/")[1],instance:this._webcamProducer}),Fe.dispatch(V),this._eventEmitter.emit(V.type,V.payload),this._webcamProducer.on("transportclose",(function(){var e,t=B(G._webcamProducer.id);Fe.dispatch(t),G._eventEmitter.emit(t.type,t.payload),null===(e=G._webcamProducer)||void 0===e||e.close(),G._webcamProducer=null})),this._webcamProducer.on("trackended",(function(){var e;null===(e=G._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"this._webcamProducer trackended or Webcam disconnected!",span:a,status:2}),Fe.dispatch(ne({type:"error",text:"Webcam disconnected!"})),G.disableWebcam(a).catch((function(){}))})),null===(m=this._openTelemetry)||void 0===m||m.completeSpan({span:P,status:1,message:"Webcam Producer Created"}),null===(g=this._openTelemetry)||void 0===g||g.completeSpan({span:a,status:1,message:"Enable Webcam Successful"}),e.next=100;break;case 91:return e.prev=91,e.t1=e.catch(14),console.log("enableWebcam() | failed:%o",e.t1),null===(H=this._videosdkLogs)||void 0===H||H.pushLogs({logText:"Error enabling webcam",logType:"ERROR",attributes:{error:e.t1.message}}),null===(q=this._openTelemetry)||void 0===q||q.completeSpan({span:a,status:2,message:"Error enabling webcam"}),Fe.dispatch(ne({type:"error",text:"Error enabling webcam: ".concat(e.t1)})),e.next=99,this._protoo.request("produceError",{mediaType:"video",message:e.t1.message});case 99:s&&s.stop();case 100:Fe.dispatch(W(!1));case 101:case"end":return e.stop()}}),e,this,[[14,91],[28,44]])}))),function(){return St.apply(this,arguments)})},{key:"disableWebcam",value:(wt=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>0&&void 0!==h[0]?h[0]:void 0,i=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"disableWebcam() Calling",status:1,span:a||null}),Ge.debug("disableWebcam()"),this._webcamEnabled=!1,this._webcamProducer){e.next=7;break}return null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:i,status:2,message:"Webcam Producer Not found"}),e.abrupt("return");case 7:return s=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"Closing Webcam Producer",span:i,status:1}),this._webcamProducer.close(),c=B(this._webcamProducer.id),Fe.dispatch(c),this._eventEmitter.emit(c.type,c.payload),e.prev=12,e.next=15,this._protoo.request("closeProducer",{producerId:this._webcamProducer.id});case 15:null===(u=this._openTelemetry)||void 0===u||u.completeSpan({span:s,status:1,message:"Requested Server to Close Producer"}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(12),null===(d=this._videosdkLogs)||void 0===d||d.pushLogs({logText:"Error closing server-side webcam Producer",logType:"ERROR",attributes:{error:e.t0.message}}),null===(p=this._openTelemetry)||void 0===p||p.completeSpan({span:i,status:2,message:"Error closing server-side webcam Producer: ".concat(e.t0)}),Fe.dispatch(ne({type:"error",text:"Error closing server-side webcam Producer: ".concat(e.t0)}));case 23:this._webcamProducer=null,null===(n=this._openTelemetry)||void 0===n||n.completeSpan({span:i,status:1,message:"Webcam Disabled Successfully"});case 25:case"end":return e.stop()}}),e,this,[[12,18]])}))),function(){return wt.apply(this,arguments)})},{key:"getMics",value:(_t=(0,a.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,this._updateMics();case 4:this._mics.forEach((function(e,r){t.push({deviceId:r,label:e.label})})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Ge.error("getMics() | Error",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error getMics() | Error",logType:"ERROR",attributes:{error:e.t0.message}});case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return _t.apply(this,arguments)})},{key:"changeMic",value:(bt=(0,a.Z)(l().mark((function e(t){var r,a,i,o,s,c,u,d,p,h,f,m,g,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"changeMic() Calling"}),e.prev=1,"object"!=(0,n.Z)(t)){e.next=9;break}return e.next=5,this.disableMic(!0,a);case 5:return e.next=7,this.enableMic(t,a);case 7:e.next=27;break;case 9:return c=t,e.next=12,this._updateMics();case 12:if(u=Array.from(this._mics.keys()),d=u.length,p=this._mic.device?this._mic.device.deviceId:void 0,null!=c&&null!=c?h=u.indexOf(c):(h=u.indexOf(p))<d-1?h++:h=0,this._mic.device=this._mics.get(u[h]),f=null===(i=this._openTelemetry)||void 0===i?void 0:i.trace({spanName:"Getting Selected Mic",span:a,attributes:{selectedWebcam:this._mic.device?JSON.stringify(this._mic.device):"No Mic devices"}}),this._mic.device){e.next=21;break}throw null===(m=this._videosdkLogs)||void 0===m||m.pushLogs({logText:"Error changeMic : No mic Found",logType:"ERROR"}),new Error("No mic Found");case 21:return e.next=23,this.disableMic(!0,a);case 23:return e.next=25,this.enableMic(void 0,a);case 25:null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:f,status:1,message:"Done"}),null===(s=this._openTelemetry)||void 0===s||s.completeSpan({span:a,status:1,message:"changeMic() Ending"});case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(1),null===(g=this._openTelemetry)||void 0===g||g.completeSpan({span:a,status:2,message:"changeMic() | Error ".concat(e.t0)}),null===(v=this._videosdkLogs)||void 0===v||v.pushLogs({logText:"Error changeMic() | Error",logType:"ERROR",attributes:{error:e.t0.message}});case 33:case"end":return e.stop()}}),e,this,[[1,29]])}))),function(e){return bt.apply(this,arguments)})},{key:"getWebcams",value:(yt=(0,a.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,this._updateWebcams();case 4:this._webcams.forEach((function(e,r){t.push({deviceId:r,label:e.label,facingMode:e.facing||"environment"})})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Ge.error("getWebcams() | failed %o",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error getWebcams() | failed",logType:"ERROR",attributes:{error:e.t0.message}});case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return yt.apply(this,arguments)})},{key:"replaceWebcamStream",value:(vt=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._webcamProducer){e.next=7;break}return r=t.getVideoTracks()[0],e.next=4,this._webcamProducer.replaceTrack({track:r});case 4:this._eventEmitter.emit("UPDATE_PRODUCER",{producer:this._webcamProducer}),e.next=11;break;case 7:return e.next=9,this.disableWebcam();case 9:return e.next=11,this.enableWebcam(t);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return vt.apply(this,arguments)})},{key:"changeWebcam",value:(gt=(0,a.Z)(l().mark((function e(t){var r,a,i,o,s,c,u,d,p,h,f,m,g,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"changeWebcam() Calling"}),Fe.dispatch(W(!0)),"object"!==(0,n.Z)(t)){e.next=17;break}return e.prev=3,e.next=6,this.disableWebcam(a);case 6:return e.next=8,this.enableWebcam(t,a);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),Ge.error("changeWebcam() | failed: %o",e.t0),null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error Could not change webcam",logType:"ERROR",attributes:{object:JSON.stringify(t),error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Could not change webcam: ".concat(e.t0)}));case 15:e.next=46;break;case 17:return e.prev=17,e.next=20,this._updateWebcams(a);case 20:if(u=Array.from(this._webcams.keys()),d=u.length,p=this._webcam.device?this._webcam.device.deviceId:void 0,null!=t&&null!=t?h=u.indexOf(t):(h=u.indexOf(p))<d-1?h++:h=0,this._webcam.device=this._webcams.get(u[h]),Ge.debug("changeWebcam() | new selected webcam [device:%o]",this._webcam.device),this._webcam.resolution=this._webcam.resolution||"hd",f=null===(o=this._openTelemetry)||void 0===o?void 0:o.trace({spanName:"Getting Selected Webcam",span:a,attributes:{selectedWebcam:this._webcam.device?JSON.stringify(this._webcam.device):"No webcam devices"}}),this._webcam.device){e.next=31;break}throw null===(m=this._videosdkLogs)||void 0===m||m.pushLogs({logText:"Error changeWebcam : No webcam Found",logType:"ERROR"}),new Error("no webcam devices");case 31:return e.next=33,this.disableWebcam(a);case 33:return e.next=35,this.enableWebcam(void 0,a);case 35:return null===(s=this._openTelemetry)||void 0===s||s.completeSpan({span:f,status:1,message:"Done"}),null===(c=this._openTelemetry)||void 0===c||c.completeSpan({span:a,status:1,message:"changeWebcam() Ending"}),e.abrupt("return");case 40:e.prev=40,e.t1=e.catch(17),Ge.error("changeWebcam() | failed: %o",e.t1),null===(g=this._videosdkLogs)||void 0===g||g.pushLogs({logText:"Error Could not change webcam",logType:"ERROR",attributes:{object:JSON.stringify(t),error:e.t1.message}}),null===(v=this._openTelemetry)||void 0===v||v.completeSpan({span:a,status:2,message:"Could not change webcam ".concat(e.t1)}),Fe.dispatch(ne({type:"error",text:"Could not change webcam: ".concat(e.t1)}));case 46:Fe.dispatch(W(!1));case 47:case"end":return e.stop()}}),e,this,[[3,10],[17,40]])}))),function(e){return gt.apply(this,arguments)})},{key:"changeWebcamResolution",value:(mt=(0,a.Z)(l().mark((function e(){var t,r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug("changeWebcamResolution()"),Fe.dispatch(W(!0)),e.prev=2,e.t0=this._webcam.resolution,e.next="qvga"===e.t0?6:"vga"===e.t0?8:"hd"===e.t0?10:12;break;case 6:return this._webcam.resolution="vga",e.abrupt("break",13);case 8:return this._webcam.resolution="hd",e.abrupt("break",13);case 10:return this._webcam.resolution="qvga",e.abrupt("break",13);case 12:this._webcam.resolution="hd";case 13:return Ge.debug("changeWebcamResolution() | calling getUserMedia()"),e.prev=14,e.next=17,navigator.mediaDevices.getUserMedia({video:Be({deviceId:{exact:this._webcam.device.deviceId}},ze[this._webcam.resolution])});case 17:t=e.sent,e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(14),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error in getUserMedia for changeWebcamResolution",logType:"ERROR",attributes:{error:JSON.stringify(e.t1)}}),"Permission denied"===e.t1.message||"NotAllowedError"===e.t1.name?this._emitError(_e.H.ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED):this._emitError(_e.H.ERROR_GET_VIDEO_MEDIA),e.abrupt("return");case 25:return n=t.getVideoTracks()[0],e.next=28,this._webcamProducer.replaceTrack({track:n});case 28:Fe.dispatch(F(this._webcamProducer.id,n)),e.next=36;break;case 31:e.prev=31,e.t2=e.catch(2),Ge.error("changeWebcamResolution() | failed: %o",e.t2),null===(a=this._videosdkLogs)||void 0===a||a.pushLogs({logText:"Error Could not change webcam resolution",logType:"ERROR",attributes:{error:e.t2.message}}),Fe.dispatch(ne({type:"error",text:"Could not change webcam resolution: ".concat(e.t2)}));case 36:Fe.dispatch(W(!1));case 37:case"end":return e.stop()}}),e,this,[[2,31],[14,20]])}))),function(){return mt.apply(this,arguments)})},{key:"enableShare",value:(ft=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h,f,m,g,v,y,b,_,w,S,k,E,R,x,C,P,T,O,D,I,M,j,L,N=this,F=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=F.length>0&&void 0!==F[0]?F[0]:void 0,n=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"enableShare() Calling ".concat(r?"With Custom Video Track":"Without Custom Video Track "),attributes:{customShareConfig:r?JSON.stringify(r):"Not Specify Custom Track"}}),Ge.debug("enableShare()"),!this._shareProducer){e.next=6;break}return null===(a=this._openTelemetry)||void 0===a||a.completeSpan({span:n,status:2,message:"Screen Share Producer found"}),e.abrupt("return");case 6:if(this._mediasoupDevice.canProduce("video")){e.next=10;break}return null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:n,status:2,message:"enableShare() | cannot produce video"}),Ge.error("enableShare() | cannot produce video"),e.abrupt("return");case 10:if(Fe.dispatch(V(!0)),e.prev=11,Ge.debug("enableShare() | calling getUserMedia()"),m=null===(c=this._openTelemetry)||void 0===c?void 0:c.trace({spanName:"Creating Track",span:n}),!r||!r.active){e.next=19;break}o=r.getVideoTracks()[0],s=r.getAudioTracks()[0],e.next=38;break;case 19:return e.prev=19,e.next=22,navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:{max:1920},height:{max:1080},frameRate:{max:10}}});case 22:v=e.sent,e.next=31;break;case 25:return e.prev=25,e.t0=e.catch(19),null===(y=this._videosdkLogs)||void 0===y||y.pushLogs({logText:"Error in getDisplayMedia for screen share",logType:"ERROR",attributes:{error:JSON.stringify(e.t0)}}),null===(b=this._openTelemetry)||void 0===b||b.completeSpan({span:n,status:2,message:"Error in getDisplayMedia for screen share ".concat(e.t0)}),"Permission denied"===e.t0.message||"NotAllowedError"===e.t0.name?this._emitError(_e.H.ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED):this._emitError(_e.H.ERROR_GET_DISPLAY_MEDIA),e.abrupt("return");case 31:if(v){e.next=35;break}return Fe.dispatch(V(!0)),null===(_=this._openTelemetry)||void 0===_||_.completeSpan({span:n,status:2,message:"Stream not found"}),e.abrupt("return");case 35:o=v.getVideoTracks()[0],s=v.getAudioTracks()[0],null===(g=this._openTelemetry)||void 0===g||g.completeSpan({message:"Track Generated with height ".concat(o.getSettings().height," and width ").concat(o.getSettings().width),span:m,status:1});case 38:if(w=null===(u=this._openTelemetry)||void 0===u?void 0:u.trace({spanName:"Generating Producer Configuration",span:n}),E={videoGoogleStartBitrate:1e3},!this._forceH264){e.next=47;break}if(k=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video/h264"===e.mimeType.toLowerCase()}))){e.next=45;break}throw null===(R=this._videosdkLogs)||void 0===R||R.pushLogs({logText:"Error EnableShare : desired H264 codec+configuration is not supported",logType:"ERROR"}),new Error("desired H264 codec+configuration is not supported");case 45:e.next=52;break;case 47:if(!this._forceVP9){e.next=52;break}if(k=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video/vp9"===e.mimeType.toLowerCase()}))){e.next=52;break}throw null===(x=this._videosdkLogs)||void 0===x||x.pushLogs({logText:"Error EnableShare :desired VP9 codec+configuration is not supported",logType:"ERROR"}),new Error("desired VP9 codec+configuration is not supported");case 52:return this._useSharingSimulcast&&(C=this._mediasoupDevice.rtpCapabilities.codecs.find((function(e){return"video"===e.kind})),S=this._forceVP9&&k||"video/vp9"===C.mimeType.toLowerCase()?qe:He.map((function(e){return Be(Be({},e),{},{dtx:!0})}))),null===(d=this._openTelemetry)||void 0===d||d.completeSpan({span:w,status:1,message:"Producer Configuration Generated"}),w=null===(p=this._openTelemetry)||void 0===p?void 0:p.trace({spanName:"Creating Share Producer",span:n}),e.next=57,this._sendTransport.produce({track:o,encodings:S,codecOptions:E,codec:k,appData:{share:!0}});case 57:if(this._shareProducer=e.sent,P=A({id:this._shareProducer.id,type:"share",paused:this._shareProducer.paused,track:this._shareProducer.track,rtpParameters:this._shareProducer.rtpParameters,codec:this._shareProducer.rtpParameters.codecs[0].mimeType.split("/")[1],appData:{share:!0},instance:this._shareProducer}),Fe.dispatch(P),this._eventEmitter.emit(P.type,P.payload),this._shareProducer.on("transportclose",(function(){var e,t=B(N._shareProducer.id);Fe.dispatch(t),N._eventEmitter.emit(t.type,t.payload),null===(e=N._shareProducer)||void 0===e||e.close(),N._shareProducer=null})),this._shareProducer.on("trackended",(function(){var e;null===(e=N._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"this._shareProducer trackended or Share disconnected!",span:n,status:2}),Fe.dispatch(ne({type:"error",text:"Share disconnected!"})),N.disableShare().catch((function(){}))})),null===(h=this._openTelemetry)||void 0===h||h.completeSpan({span:w,status:1,message:"Share Producer Created"}),!s){e.next=84;break}return e.prev=65,D={opusStereo:1,opusDtx:1},w=null===(T=this._openTelemetry)||void 0===T?void 0:T.trace({spanName:"Creating Share Audio Producer",span:n}),e.next=70,this._sendTransport.produce({track:s,codecOptions:D,appData:{share:!0}});case 70:this._shareAudioProducer=e.sent,I=A({id:this._shareAudioProducer.id,type:"share",paused:this._shareAudioProducer.paused,track:this._shareAudioProducer.track,rtpParameters:this._shareAudioProducer.rtpParameters,codec:this._shareAudioProducer.rtpParameters.codecs[0].mimeType.split("/")[1],appData:{share:!0},instance:this._shareAudioProducer}),Fe.dispatch(I),this._eventEmitter.emit(I.type,I.payload),this._shareAudioProducer.on("transportclose",(function(){var e,t=B(N._shareAudioProducer.id);Fe.dispatch(t),N._eventEmitter.emit(t.type,t.payload),null===(e=N._shareAudioProducer)||void 0===e||e.close(),N._shareAudioProducer=null})),this._shareAudioProducer.on("trackended",(function(){var e;null===(e=N._openTelemetry)||void 0===e||e.traceAutoComplete({spanName:"this._shareAudioProducer trackended",span:n,status:2}),Fe.dispatch(ne({type:"error",text:"Share disconnected!"}))})),null===(O=this._openTelemetry)||void 0===O||O.completeSpan({span:w,status:1,message:"Share Audio Producer Created"}),e.next=84;break;case 79:return e.prev=79,e.t1=e.catch(65),e.next=83,this._protoo.request("produceError",{mediaType:"shareAudio",message:e.t1.message});case 83:null===(M=this._videosdkLogs)||void 0===M||M.pushLogs({logText:"Error in shareAudio produceError",logType:"ERROR",attributes:{error:e.t1.message}});case 84:null===(f=this._openTelemetry)||void 0===f||f.completeSpan({span:n,status:1,message:"Enable Share Successful"}),e.next=98;break;case 87:return e.prev=87,e.t2=e.catch(11),Ge.error("enableShare() | failed:%o",e.t2),null===(j=this._openTelemetry)||void 0===j||j.completeSpan({span:n,status:2,attributes:{error:e.t2.message},message:"Error in enableShare video produceError"}),console.log("screen share catch",e.t2.message),null===(L=this._videosdkLogs)||void 0===L||L.pushLogs({logText:"Error in enableShare video produceError",logType:"ERROR",attributes:{error:e.t2.message}}),"NotAllowedError"!==e.t2.name&&Fe.dispatch(ne({type:"error",text:"Error sharing: ".concat(e.t2)})),e.next=96,this._protoo.request("produceError",{mediaType:"share",message:e.t2.message});case 96:o&&o.stop(),s&&s.stop();case 98:Fe.dispatch(V(!1));case 99:case"end":return e.stop()}}),e,this,[[11,87],[19,25],[65,79]])}))),function(){return ft.apply(this,arguments)})},{key:"disableShare",value:(ht=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("disableShare()"),a=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"disableShare() Calling",status:1}),this._shareProducer){e.next=5;break}return null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:a,status:2,message:"Share Producer Not found"}),e.abrupt("return");case 5:return o=null===(r=this._openTelemetry)||void 0===r?void 0:r.trace({spanName:"Closing Share Producer",span:a,status:1}),this._shareProducer.close(),s=B(this._shareProducer.id),Fe.dispatch(s),this._eventEmitter.emit(s.type,s.payload),this._shareAudioProducer&&(d=null===(c=this._openTelemetry)||void 0===c?void 0:c.trace({spanName:"Closing Share Audio Producer",span:a,status:1}),this._shareAudioProducer.close(),s=B(this._shareAudioProducer.id),Fe.dispatch(s),this._eventEmitter.emit(s.type,s.payload),null===(u=this._openTelemetry)||void 0===u||u.completeSpan({span:d,status:1,message:"Closed Share Audio Producer"})),e.prev=11,e.next=14,this._protoo.request("closeProducer",{producerId:this._shareProducer.id});case 14:if(!this._shareAudioProducer){e.next=17;break}return e.next=17,this._protoo.request("closeProducer",{producerId:this._shareAudioProducer.id});case 17:null===(p=this._openTelemetry)||void 0===p||p.completeSpan({span:o,status:1,message:"Requested Server to Close Producer"}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(11),Fe.dispatch(ne({type:"error",text:"Error closing server-side share Producer: ".concat(e.t0)})),null===(h=this._openTelemetry)||void 0===h||h.completeSpan({span:a,status:2,message:"Error closing server-side share Producer ".concat(e.t0)}),null===(f=this._videosdkLogs)||void 0===f||f.pushLogs({logText:"Error closing server-side share Producer",logType:"ERROR",attributes:{error:e.t0.message}});case 25:this._shareProducer=null,this._shareAudioProducer=null,null===(n=this._openTelemetry)||void 0===n||n.completeSpan({span:a,status:1,message:"Screen Share Disabled Successfully"});case 28:case"end":return e.stop()}}),e,this,[[11,20]])}))),function(){return ht.apply(this,arguments)})},{key:"enableAudioOnly",value:(pt=(0,a.Z)(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug("enableAudioOnly()"),Fe.dispatch(j(!0)),this.disableWebcam(),t=Le(this._consumers.values()),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=13;break}if("video"===(n=r.value).kind){e.next=10;break}return e.abrupt("continue",11);case 10:this._pauseConsumer(n);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:Fe.dispatch(M(!0)),Fe.dispatch(j(!1));case 23:case"end":return e.stop()}}),e,this,[[4,15,18,21]])}))),function(){return pt.apply(this,arguments)})},{key:"disableAudioOnly",value:(dt=(0,a.Z)(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug("disableAudioOnly()"),Fe.dispatch(j(!0)),!this._webcamProducer&&this._produce&&(R()||{}).webcamEnabled&&this.enableWebcam(),t=Le(this._consumers.values()),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=13;break}if("video"===(n=r.value).kind){e.next=10;break}return e.abrupt("continue",11);case 10:this._resumeConsumer(n);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:Fe.dispatch(M(!1)),Fe.dispatch(j(!1));case 23:case"end":return e.stop()}}),e,this,[[4,15,18,21]])}))),function(){return dt.apply(this,arguments)})},{key:"muteAudio",value:(ut=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug("muteAudio()"),Fe.dispatch(L(!0));case 2:case"end":return e.stop()}}),e)}))),function(){return ut.apply(this,arguments)})},{key:"unmuteAudio",value:(lt=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.debug("unmuteAudio()"),Fe.dispatch(L(!1));case 2:case"end":return e.stop()}}),e)}))),function(){return lt.apply(this,arguments)})},{key:"handleRemoteRestartIce",value:(ct=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.iceParameters,i=t.transportId,o=t.internalSpan,i===(null===(r=this._sendTransport)||void 0===r?void 0:r.id)&&this._sendTransport.restartIce({iceParameters:a}),i===(null===(n=this._recvTransport)||void 0===n?void 0:n.id)&&this._recvTransport.restartIce({iceParameters:a}),e.prev=3,e.next=6,this._protoo.request("iceRestarted",{transportId:i});case 6:null===(s=this._openTelemetry)||void 0===s||s.completeSpan({span:o,status:1,message:"iceRestarted"}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),null===(c=this._openTelemetry)||void 0===c||c.completeSpan({span:o,status:2,message:"handleRemoteRestartIce() ICE restart failed ".concat(e.t0)}),null===(u=this._videosdkLogs)||void 0===u||u.pushLogs({logText:"Error handleRemoteRestartIce() ICE restart failed",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"ICE restart failed: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e){return ct.apply(this,arguments)})},{key:"restartIce",value:(st=(0,a.Z)(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("restartIce()"),Fe.dispatch(N(!0)),e.prev=2,!this._sendTransport){e.next=9;break}return e.next=6,this._protoo.request("restartIce",{transportId:this._sendTransport.id});case 6:return t=e.sent,e.next=9,this._sendTransport.restartIce({iceParameters:t});case 9:if(!this._recvTransport){e.next=15;break}return e.next=12,this._protoo.request("restartIce",{transportId:this._recvTransport.id});case 12:return r=e.sent,e.next=15,this._recvTransport.restartIce({iceParameters:r});case 15:Fe.dispatch(ne({text:"ICE restarted"})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),Ge.error("restartIce() | failed:%o",e.t0),Fe.dispatch(ne({type:"error",text:"ICE restart failed: ".concat(e.t0)})),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error restartIce() ICE restart failed",logType:"ERROR",attributes:{error:e.t0.message}});case 23:Fe.dispatch(N(!1));case 24:case"end":return e.stop()}}),e,this,[[2,18]])}))),function(){return st.apply(this,arguments)})},{key:"setMaxSendingSpatialLayer",value:(ot=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("setMaxSendingSpatialLayer() [spatialLayer:%s]",t),e.prev=1,!this._webcamProducer){e.next=7;break}return e.next=5,this._webcamProducer.setMaxSpatialLayer(t);case 5:e.next=10;break;case 7:if(!this._shareProducer){e.next=10;break}return e.next=10,this._shareProducer.setMaxSpatialLayer(t);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),Ge.error("setMaxSendingSpatialLayer() | failed:%o",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error setting max sending video spatial layer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error setting max sending video spatial layer: ".concat(e.t0)}));case 17:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e){return ot.apply(this,arguments)})},{key:"setWebcamQuality",value:(it=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._webcamProducer){e.next=2;break}return e.abrupt("return");case 2:if(r=this._webcam.resolution,n=Ue[r][t].s,this._webcamProducer.maxSpatialLayer!=n){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this._webcamProducer.setMaxSpatialLayer(n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return it.apply(this,arguments)})},{key:"setConsumerQuality",value:(at=(0,a.Z)(l().mark((function e(t,r){var n,a,i,o,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._webcam.resolution,s=null===(n=this._openTelemetry)||void 0===n?void 0:n.trace({spanName:'Setting "'.concat(r,'" Quality')}),c=Ue[o][r].s,u=Ue[o][r].t,null===(a=this._openTelemetry)||void 0===a||a.traceAutoComplete({spanName:"Getting spatial & temporal layers",span:s,attributes:{spatialLayers:JSON.parse(c),temporalLayers:JSON.parse(u)},status:1}),e.next=7,this.setConsumerPreferredLayers(t,c,u);case 7:null===(i=this._openTelemetry)||void 0===i||i.completeSpan({message:"Done",span:s,status:1});case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return at.apply(this,arguments)})},{key:"setViewPort",value:(nt=(0,a.Z)(l().mark((function e(t,r,n){var a,i,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._consumers.get(t.id)){e.next=2;break}return e.abrupt("return");case 2:if(a=be(this._consumers.get(t.id),r,n),i=a.consumerId,o=a.newPreferredSpatialLayer,s=a.newPreferredTemporalLayer,!i){e.next=6;break}return e.next=6,this.setConsumerPreferredLayers(i,o,s);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return nt.apply(this,arguments)})},{key:"setConsumerPreferredLayers",value:(rt=(0,a.Z)(l().mark((function e(t,r,n){var a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("setConsumerPreferredLayers() [consumerId:%s, spatialLayer:%s, temporalLayer:%s]",t,r,n),e.prev=1,(a=this._consumers.get(t)).spatialLayers>1&&(a.preferredSpatialLayer=r,a.preferredTemporalLayer=n),e.next=6,this._protoo.request("setConsumerPreferredLayers",{consumerId:t,spatialLayer:r,temporalLayer:n});case 6:Fe.dispatch($(t,r,n)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),Ge.error("setConsumerPreferredLayers() | failed:%o",e.t0),null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error setting Consumer preferred layers:",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error setting Consumer preferred layers: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e,t,r){return rt.apply(this,arguments)})},{key:"setConsumerPriority",value:(tt=(0,a.Z)(l().mark((function e(t,r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("setConsumerPriority() [consumerId:%s, priority:%d]",t,r),e.prev=1,e.next=4,this._protoo.request("setConsumerPriority",{consumerId:t,priority:r});case 4:Fe.dispatch(X(t,r)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),Ge.error("setConsumerPriority() | failed:%o",e.t0),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error setting Consumer priority",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error setting Consumer priority: ".concat(e.t0)}));case 12:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return tt.apply(this,arguments)})},{key:"requestConsumerKeyFrame",value:(et=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("requestConsumerKeyFrame() [consumerId:%s]",t),e.prev=1,e.next=4,this._protoo.request("requestConsumerKeyFrame",{consumerId:t});case 4:Fe.dispatch(ne({text:"Keyframe requested for video consumer"})),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),Ge.error("requestConsumerKeyFrame() | failed:%o",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error requesting key frame for Consumer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error requesting key frame for Consumer: ".concat(e.t0)}));case 12:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return et.apply(this,arguments)})},{key:"enableChatDataProducer",value:(Xe=(0,a.Z)(l().mark((function e(){var t,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("enableChatDataProducer()"),this._useDataChannel){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this._sendTransport.produceData({ordered:!1,maxRetransmits:1,label:"chat",priority:"medium",appData:{info:"my-chat-DataProducer"}});case 6:this._chatDataProducer=e.sent,Fe.dispatch(z({id:this._chatDataProducer.id,sctpStreamParameters:this._chatDataProducer.sctpStreamParameters,label:this._chatDataProducer.label,protocol:this._chatDataProducer.protocol})),this._chatDataProducer.on("transportclose",(function(){r._chatDataProducer=null})),this._chatDataProducer.on("open",(function(){Ge.debug('chat DataProducer "open" event')})),this._chatDataProducer.on("close",(function(){Ge.error('chat DataProducer "close" event'),r._chatDataProducer=null,Fe.dispatch(ne({type:"error",text:"Chat DataProducer closed"}))})),this._chatDataProducer.on("error",(function(e){Ge.error('chat DataProducer "error" event:%o',e),Fe.dispatch(ne({type:"error",text:"Chat DataProducer error: ".concat(e)}))})),this._chatDataProducer.on("bufferedamountlow",(function(){Ge.debug('chat DataProducer "bufferedamountlow" event')})),e.next=21;break;case 15:throw e.prev=15,e.t0=e.catch(3),Ge.error("enableChatDataProducer() | failed:%o",e.t0),null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error enabling chat DataProducer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error enabling chat DataProducer: ".concat(e.t0)})),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,15]])}))),function(){return Xe.apply(this,arguments)})},{key:"enableBotDataProducer",value:($e=(0,a.Z)(l().mark((function e(){var t,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("enableBotDataProducer()"),this._useDataChannel){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this._sendTransport.produceData({ordered:!1,maxPacketLifeTime:2e3,label:"bot",priority:"medium",appData:{info:"my-bot-DataProducer"}});case 6:this._botDataProducer=e.sent,Fe.dispatch(z({id:this._botDataProducer.id,sctpStreamParameters:this._botDataProducer.sctpStreamParameters,label:this._botDataProducer.label,protocol:this._botDataProducer.protocol})),this._botDataProducer.on("transportclose",(function(){r._botDataProducer=null})),this._botDataProducer.on("open",(function(){Ge.debug('bot DataProducer "open" event')})),this._botDataProducer.on("close",(function(){Ge.error('bot DataProducer "close" event'),r._botDataProducer=null,Fe.dispatch(ne({type:"error",text:"Bot DataProducer closed"}))})),this._botDataProducer.on("error",(function(e){Ge.error('bot DataProducer "error" event:%o',e),Fe.dispatch(ne({type:"error",text:"Bot DataProducer error: ".concat(e)}))})),this._botDataProducer.on("bufferedamountlow",(function(){Ge.debug('bot DataProducer "bufferedamountlow" event')})),e.next=21;break;case 15:throw e.prev=15,e.t0=e.catch(3),Ge.error("enableBotDataProducer() | failed:%o",e.t0),null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error enabling bot DataProducer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error enabling bot DataProducer: ".concat(e.t0)})),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,15]])}))),function(){return $e.apply(this,arguments)})},{key:"sendChatMessage",value:(Ye=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug('sendChatMessage() [text:"%s]',t),this._chatDataProducer){e.next=4;break}return Fe.dispatch(ne({type:"error",text:"No chat DataProducer"})),e.abrupt("return");case 4:try{this._chatDataProducer.send(t)}catch(e){Ge.error("chat DataProducer.send() failed:%o",e),Fe.dispatch(ne({type:"error",text:"chat DataProducer.send() failed: ".concat(e)}))}case 5:case"end":return e.stop()}}),e,this)}))),function(e){return Ye.apply(this,arguments)})},{key:"sendBotMessage",value:(Qe=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug('sendBotMessage() [text:"%s]',t),this._botDataProducer){e.next=4;break}return Fe.dispatch(ne({type:"error",text:"No bot DataProducer"})),e.abrupt("return");case 4:try{this._botDataProducer.send(t)}catch(e){Ge.error("bot DataProducer.send() failed:%o",e),Fe.dispatch(ne({type:"error",text:"bot DataProducer.send() failed: ".concat(e)}))}case 5:case"end":return e.stop()}}),e,this)}))),function(e){return Qe.apply(this,arguments)})},{key:"changeDisplayName",value:(Je=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug('changeDisplayName() [displayName:"%s"]',t),E({displayName:t}),e.prev=2,e.next=5,this._protoo.request("changeDisplayName",{displayName:t});case 5:this._displayName=t,Fe.dispatch(I(t)),Fe.dispatch(ne({text:"Display name changed"})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),Ge.error("changeDisplayName() | failed: %o",e.t0),Fe.dispatch(ne({type:"error",text:"Could not change display name: ".concat(e.t0)})),Fe.dispatch(I());case 15:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e){return Je.apply(this,arguments)})},{key:"openConnection",value:(Ke=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,n=t.payload,e.next=3,this._protoo.request("openConnection",{roomId:r,payload:n}).catch((function(e){throw new Error(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Ke.apply(this,arguments)})},{key:"closeConnection",value:(Ze=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._protoo.request("closeConnection",{roomId:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return Ze.apply(this,arguments)})},{key:"switchTo",value:(Ae=(0,a.Z)(l().mark((function e(t){var r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,n=t.peerIds,a=t.payload,e.next=3,this._protoo.request("requestSwitchRoom",{roomId:r,peerIds:n,payload:a});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Ae.apply(this,arguments)})},{key:"switchPeerRoom",value:(Ne=(0,a.Z)(l().mark((function e(t){var r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.peerId,n=t.roomId,a=t.payload,i=t.token,e.next=3,this._protoo.request("switchPeerRoom",{roomId:n,peerId:r,payload:a,token:i});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Ne.apply(this,arguments)})},{key:"connectionSwitchPeerRoom",value:(Me=(0,a.Z)(l().mark((function e(t){var r,n,a,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,n=t.connectionRoomId,a=t.peerId,i=t.payload,o=t.token,e.next=3,this._protoo.request("connectionSwitchPeerRoom",{roomId:r,connectionRoomId:n,peerId:a,payload:i,token:o});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Me.apply(this,arguments)})},{key:"connectionSendChatMessage",value:(Ie=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,n=t.message,e.next=3,this._protoo.request("connectionSendChatMessage",{roomId:r,message:n});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Ie.apply(this,arguments)})},{key:"connectionEndMeeting",value:(Oe=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roomId,e.next=3,this._protoo.request("connectionCloseRoom",{roomId:r});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Oe.apply(this,arguments)})},{key:"pubsubPublish",value:(Te=(0,a.Z)(l().mark((function e(t,r,n,a){var i,o,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=n&&n.sendOnly){if(i=n.sendOnly,o=[],i){s=Le(i);try{for(s.s();!(c=s.n()).done;)(u=c.value)&&o.push(u.toString())}catch(e){s.e(e)}finally{s.f()}}n.sendOnly=o}return e.next=4,this._protoo.request("pubsubPublish",{topic:t,message:r,options:n,payload:a});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),null===(d=this._videosdkLogs)||void 0===d||d.pushLogs({logText:"Error pubsubPublish() | failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("pubsubPublish() | failed: %o",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r,n){return Te.apply(this,arguments)})},{key:"pubsubSubscribe",value:(Pe=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._protoo.request("pubsubSubscribe",{topic:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),null===(n=this._videosdkLogs)||void 0===n||n.pushLogs({logText:"Error pubsubSubscribe() | failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("pubsubSubscribe() | failed: %o",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return Pe.apply(this,arguments)})},{key:"pubsubUnsubscribe",value:(Ce=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._protoo.request("pubsubUnsubscribe",{topic:t});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error pubsubUnsubscribe() | failed",logType:"ERROR",attributes:{error:e.t0.message}}),Ge.error("pubsubUnsubscribe() | failed: %o",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return Ce.apply(this,arguments)})},{key:"closeRoom",value:(xe=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._protoo.request("closeRoom",{});case 2:case"end":return e.stop()}}),e,this)}))),function(){return xe.apply(this,arguments)})},{key:"removePeer",value:(Re=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this._openTelemetry)||void 0===r||r.traceAutoComplete({spanName:"Removing peer ".concat(t),status:1}),null!=t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._protoo.request("removePeer",{peerId:t});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return Re.apply(this,arguments)})},{key:"startPingPong",value:(ve=(0,a.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=this._pingWebsocketInterval&&clearInterval(this._pingWebsocketInterval),this._pingWebsocketInterval=setInterval((function(){t.pingWebSocket()}),2e3);case 2:case"end":return e.stop()}}),e,this)}))),function(){return ve.apply(this,arguments)})},{key:"pingWebSocket",value:(ge=(0,a.Z)(l().mark((function e(){var t,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}return e.abrupt("return");case 2:t=!1,this._protoo.request("ping").then((function(e){e&&(t=!0)})).catch((function(e){})),setTimeout((function(){t?(!r._isWebsocketAlive||r._pingWebsocketFailedCounter>1?(r._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"CONNECTED"}),r._isWebsocketAlive=!0,r._pingWebsocketFailedCounter=0,r.restartIce()):"failed"!=r._transportState&&"disconnected"!=r._transportState||(console.log("Calling Restart Ice based on transport state",r._transportState),r.restartIce()),r._pingWebsocketFailedCounter=0):(r._isWebsocketAlive&&r._pingWebsocketFailedCounter>1&&(r._eventEmitter.emit("MEETING_STATE_CHANGED",{state:"DISCONNECTED"}),r._isWebsocketAlive=!1,r.startInternetPingPong()),r._pingWebsocketFailedCounter=r._pingWebsocketFailedCounter+1)}),1e3);case 5:case"end":return e.stop()}}),e,this)}))),function(){return ge.apply(this,arguments)})},{key:"startInternetPingPong",value:(me=(0,a.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=this._pingInternetInterval&&clearInterval(this._pingInternetInterval),this._pingInternetInterval=setInterval((function(){t.pingInternet()}),2e3);case 2:case"end":return e.stop()}}),e,this)}))),function(){return me.apply(this,arguments)})},{key:"pingInternet",value:(fe=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}return e.abrupt("return");case 2:return null===(t=this._videosdkLogs)||void 0===t||t.pushLogs({logText:"pinging internet",logType:"INFO"}),r=new AbortController,n=r.signal,a=setTimeout((function(){r.abort()}),1e3),e.next=8,fetch("https://".concat(this._signalingBaseUrl,"/ping"),{method:"GET",signal:n}).then((function(e){return clearTimeout(a),e.text()})).catch((function(e){var t;return null===(t=s._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error pingInternet failed",logType:"ERROR",attributes:{error:e.message}}),"failed"}));case 8:if("pong"!=e.sent){e.next=19;break}if(null===(i=this._videosdkLogs)||void 0===i||i.pushLogs({logText:"Pong",logType:"INFO"}),!(this._pingWebsocketFailedCounter>5&&this._pongInternetCounter>3)||this._isWebsocketAlive){e.next=17;break}return this._pongInternetCounter=0,this.close({sendLeft:!1}),null===(o=this._videosdkLogs)||void 0===o||o.pushLogs({logText:"Re-join the meeting, after diconnect",logType:"INFO"}),e.next=17,this.join();case 17:this._pongInternetCounter=this._pongInternetCounter+1,this._isWebsocketAlive&&(this._pongInternetCounter=0,null!=this._pingInternetInterval&&(clearInterval(this._pingInternetInterval),this._pingInternetInterval=null));case 19:case"end":return e.stop()}}),e,this)}))),function(){return fe.apply(this,arguments)})},{key:"getSendTransportRemoteStats",value:(he=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getSendTransportRemoteStats()"),this._sendTransport){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._protoo.request("getTransportStats",{transportId:this._sendTransport.id}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return he.apply(this,arguments)})},{key:"getRecvTransportRemoteStats",value:(pe=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getRecvTransportRemoteStats()"),this._recvTransport){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._protoo.request("getTransportStats",{transportId:this._recvTransport.id}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return pe.apply(this,arguments)})},{key:"getAudioRemoteStats",value:(de=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getAudioRemoteStats()"),this._micProducer){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._latestStats[this._micProducer.id]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return de.apply(this,arguments)})},{key:"getVideoRemoteStats",value:(ue=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getVideoRemoteStats()"),t=this._webcamProducer){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",this._latestStats[t.id]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return ue.apply(this,arguments)})},{key:"getShareRemoteStats",value:(le=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getVideoRemoteStats()"),t=this._shareProducer){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",this._latestStats[t.id]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return le.apply(this,arguments)})},{key:"getConsumerRemoteStats",value:(ce=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getConsumerRemoteStats()"),r=this._consumers.get(t)){e.next=4;break}return e.abrupt("return");case 4:return this._latestStats[t]&&(this._latestStats[t][0].currentSpatialLayer=r.currentSpatialLayer,this._latestStats[t][0].currentTemporalLayer=r.currentTemporalLayer,this._latestStats[t][0].preferredSpatialLayer=r.preferredSpatialLayer,this._latestStats[t][0].preferredTemporalLayer=r.preferredTemporalLayer),e.abrupt("return",this._latestStats[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return ce.apply(this,arguments)})},{key:"getChatDataProducerRemoteStats",value:(se=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getChatDataProducerRemoteStats()"),t=this._chatDataProducer){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",this._protoo.request("getDataProducerStats",{dataProducerId:t.id}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return se.apply(this,arguments)})},{key:"getBotDataProducerRemoteStats",value:(ie=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getBotDataProducerRemoteStats()"),t=this._botDataProducer){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",this._protoo.request("getDataProducerStats",{dataProducerId:t.id}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return ie.apply(this,arguments)})},{key:"getDataConsumerRemoteStats",value:(C=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getDataConsumerRemoteStats()"),this._dataConsumers.get(t)){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",this._protoo.request("getDataConsumerStats",{dataConsumerId:t}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"getSendTransportLocalStats",value:(x=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getSendTransportLocalStats()"),this._sendTransport){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._sendTransport.getStats());case 4:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getRecvTransportLocalStats",value:(k=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getRecvTransportLocalStats()"),this._recvTransport){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._recvTransport.getStats());case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getAudioLocalStats",value:(S=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getAudioLocalStats()"),this._micProducer){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this._micProducer.getStats());case 4:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"getVideoLocalStats",value:(w=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.debug("getVideoLocalStats()"),t=this._webcamProducer||this._shareProducer){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",t.getStats());case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"getConsumerLocalStats",value:(_=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._consumers.get(t)){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r.getStats());case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"applyNetworkThrottle",value:(y=(0,a.Z)(l().mark((function e(t){var r,n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uplink,n=t.downlink,a=t.rtt,i=t.secret,Ge.debug("applyNetworkThrottle() [uplink:%s, downlink:%s, rtt:%s]",r,n,a),e.prev=2,e.next=5,this._protoo.request("applyNetworkThrottle",{uplink:r,downlink:n,rtt:a,secret:i});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),Ge.error("applyNetworkThrottle() | failed:%o",e.t0),Fe.dispatch(ne({type:"error",text:"Error applying network throttle: ".concat(e.t0)}));case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return y.apply(this,arguments)})},{key:"resetNetworkThrottle",value:(v=(0,a.Z)(l().mark((function e(t){var r,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.silent,n=void 0!==r&&r,a=t.secret,Ge.debug("resetNetworkThrottle()"),e.prev=2,e.next=5,this._protoo.request("resetNetworkThrottle",{secret:a});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n||(Ge.error("resetNetworkThrottle() | failed:%o",e.t0),Fe.dispatch(ne({type:"error",text:"Error resetting network throttle: ".concat(e.t0)})));case 10:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return v.apply(this,arguments)})},{key:"createProducerTransport",value:(g=(0,a.Z)(l().mark((function e(t,r){var n,i,o,s,c,u,d,p,h,f,m=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.id,s=t.iceParameters,c=t.iceCandidates,u=t.dtlsParameters,d=t.sctpParameters,p=null===(n=this._openTelemetry)||void 0===n?void 0:n.trace({spanName:"Creating Send Transport",span:r||null}),this._sendTransport=this._mediasoupDevice.createSendTransport({id:o,iceParameters:s,iceCandidates:c,dtlsParameters:u,sctpParameters:d,iceServers:this._iceServers}),this._sendTransport.on("connect",(function(e,t,r){var n,a=e.dtlsParameters;null===(n=m._openTelemetry)||void 0===n||n.traceAutoComplete({spanName:"this._sendTransport `connect` Event : Transport is about to establish the ICE+DTLS connection",span:p,status:1}),m._protoo.request("connectWebRtcTransport",{transportId:m._sendTransport.id,dtlsParameters:a}).then(t).catch(r)})),this._sendTransport.on("produce",function(){var e=(0,a.Z)(l().mark((function e(t,r,n){var a,i,o,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.kind,i=t.rtpParameters,o=t.appData,e.prev=1,null===(s=m._openTelemetry)||void 0===s||s.traceAutoComplete({spanName:"this._sendTransport `produce` Event : Transmit information about a new producer ",span:p,status:1}),e.next=5,m._protoo.request("produce",{transportId:m._sendTransport.id,kind:a,rtpParameters:i,appData:o});case 5:c=e.sent,u=c.id,r({id:u}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),null===(d=m._videosdkLogs)||void 0===d||d.pushLogs({logText:'Error this._sendTransport "produce" Event catch',logType:"ERROR",attributes:{error:e.t0.message}}),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()),this._sendTransport.on("producedata",function(){var e=(0,a.Z)(l().mark((function e(t,r,n){var a,i,o,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.sctpStreamParameters,i=t.label,o=t.protocol,s=t.appData,Ge.debug('"producedata" event: [sctpStreamParameters:%o, appData:%o]',a,s),e.prev=2,e.next=5,m._protoo.request("produceData",{transportId:m._sendTransport.id,sctpStreamParameters:a,label:i,protocol:o,appData:s});case 5:c=e.sent,u=c.id,r({id:u}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),null===(d=m._videosdkLogs)||void 0===d||d.pushLogs({logText:"Error producedata event catch",logType:"ERROR",attributes:{error:e.t0.message}}),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()),this._sendTransport.on("connectionstatechange",(function(e){var t;null===(t=m._openTelemetry)||void 0===t||t.traceAutoComplete({spanName:"_sendTransport Event connectionstatechange ".concat(e),span:p,status:1}),"failed"===e&&m.restartIce(),m._transportState=e})),h=0,(f=this._metrics.addNewProbe(this._sendTransport,"sendTransport")).onStatsCollected=function(e){try{var t,r,n,a;m._stats.producerStats||(m._stats.producerStats={}),m._stats.producerStats.audio||(m._stats.producerStats.audio=[]),m._stats.producerStats.shareAudio||(m._stats.producerStats.shareAudio=[]),m._micProducer&&(m._latestStats[null===(t=m._micProducer)||void 0===t?void 0:t.id]=[]),m._shareAudioProducer&&(m._latestStats[null===(r=m._shareAudioProducer)||void 0===r?void 0:r.id]=[]),e.audio.forEach((function(e){var t,r,n;if(m._micProducer&&e.trackId==(null===(t=m._micProducer)||void 0===t?void 0:t.track.id))m._latestStats[null===(n=m._micProducer)||void 0===n?void 0:n.id].push(e),h%5==0&&m._stats.producerStats.audio.push(e);else if(m._shareAudioProducer&&e.trackId==(null===(r=m._shareAudioProducer)||void 0===r?void 0:r.track.id)){var a;m._latestStats[null===(a=m._shareAudioProducer)||void 0===a?void 0:a.id].push(e),h%5==0&&m._stats.producerStats.shareAudio.push(e)}})),m._stats.producerStats.video||(m._stats.producerStats.video=[]),m._stats.producerStats.share||(m._stats.producerStats.share=[]),m._webcamProducer&&(m._latestStats[null===(n=m._webcamProducer)||void 0===n?void 0:n.id]=[]),m._shareProducer&&(m._latestStats[null===(a=m._shareProducer)||void 0===a?void 0:a.id]=[]),e.video.forEach((function(e){var t,r,n;if(m._webcamProducer&&e.trackId==(null===(t=m._webcamProducer)||void 0===t?void 0:t.track.id))m._latestStats[null===(n=m._webcamProducer)||void 0===n?void 0:n.id].push(e);else if(m._shareProducer&&e.trackId==(null===(r=m._shareProducer)||void 0===r?void 0:r.track.id)){var a;m._latestStats[null===(a=m._shareProducer)||void 0===a?void 0:a.id].push(e)}})),h%5==0&&null!=m._webcamProducer&&m._stats.producerStats.video.push({timestamp:new Date,stats:m._latestStats[m._webcamProducer.id]}),h%5==0&&null!=m._shareProducer&&m._stats.producerStats.share.push({timestamp:new Date,stats:m._latestStats[m._shareProducer.id]}),h++}catch(e){var i;null===(i=m._videosdkLogs)||void 0===i||i.pushLogs({logText:"Error PRODUCER Stats ERROR",logType:"ERROR",attributes:{error:e.message}}),console.log("PRODUCER ERROR",e)}},f.start(),this._sendTransport.observer.on("close",(function(){f.stop(),m._metrics.removeExistingProbe(f)})),null===(i=this._openTelemetry)||void 0===i||i.completeSpan({span:p,status:1,message:"Send Transport Created Successfully"});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"createConsumerTransport",value:(m=(0,a.Z)(l().mark((function e(t,r){var n,a,i,o,s,c,u,d,p,h,f=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.id,o=t.iceParameters,s=t.iceCandidates,c=t.dtlsParameters,u=t.sctpParameters,d=null===(n=this._openTelemetry)||void 0===n?void 0:n.trace({spanName:"Creating Recieve Transport",span:r||null}),this._recvTransport=this._mediasoupDevice.createRecvTransport({id:i,iceParameters:o,iceCandidates:s,dtlsParameters:c,sctpParameters:u,iceServers:this._iceServers}),this._recvTransport.on("connect",(function(e,t,r){var n,a=e.dtlsParameters;null===(n=f._openTelemetry)||void 0===n||n.traceAutoComplete({spanName:"this._recvTransport `connect` Event : Recieve Transport is about to establish the ICE+DTLS connection",span:d,status:1}),f._protoo.request("connectWebRtcTransport",{transportId:f._recvTransport.id,dtlsParameters:a}).then(t).catch(r)})),this._recvTransport.on("connectionstatechange",(function(e){var t;null===(t=f._openTelemetry)||void 0===t||t.traceAutoComplete({spanName:"_recvTransport Event connectionstatechange ".concat(e),span:d,status:1}),"failed"===e&&f.restartIce(),f._transportState=e})),p=0,(h=this._metrics.addNewProbe(this._recvTransport,"transport")).onStatsCollected=function(e){try{e.audio.forEach((function(e){var t=f._consumers.get(e.trackId);if(null!=t){var r=1==t.appData.share?"audio"==t.kind?"shareAudio":"share":t.kind;f._stats.consumerStats||(f._stats.consumerStats={}),f._stats.consumerStats[t.appData.peerId]||(f._stats.consumerStats[t.appData.peerId]={}),f._stats.consumerStats[t.appData.peerId][r]||(f._stats.consumerStats[t.appData.peerId][r]=[]),e.trackId==t.id&&(f._latestStats[t.id]=[],f._latestStats[t.id].push(e),p%5==0&&f._stats.consumerStats[t.appData.peerId][r].push(e))}})),e.video.forEach((function(e){var t=f._consumers.get(e.trackId);if(null!=t){var r=1==t.appData.share?"audio"==t.kind?"shareAudio":"share":t.kind;f._stats.consumerStats||(f._stats.consumerStats={}),f._stats.consumerStats[t.appData.peerId]||(f._stats.consumerStats[t.appData.peerId]={}),f._stats.consumerStats[t.appData.peerId][r]||(f._stats.consumerStats[t.appData.peerId][r]=[]),e.trackId==t.id&&(f._latestStats[t.id]=[],f._latestStats[t.id].push(e),p%5==0&&f._stats.consumerStats[t.appData.peerId][r].push(e))}})),p++}catch(e){var t;null===(t=f._videosdkLogs)||void 0===t||t.pushLogs({logText:"Error CONSUMER Stats ERROR",logType:"ERROR",attributes:{error:e.message}}),console.log("CONSUMER CATCH",e)}},h.start(),this._recvTransport.observer.on("close",(function(){h.stop(),f._metrics.removeExistingProbe(h)})),null===(a=this._openTelemetry)||void 0===a||a.completeSpan({span:d,status:1,message:"Recieve Transport Created Successfully"});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"joinRoom",value:(f=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,p,h,f,m,g,v,y,b,_,w,S,k,E,x,C,T;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.debug("joinRoom()"),e.prev=1,s=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"Loading Router Capabilities",span:this._joinSpan}),this._mediasoupDevice=new d.Device({handlerName:this._handlerName}),e.next=6,this._protoo.request("getRouterRtpCapabilities");case 6:return c=e.sent,e.next=9,this._mediasoupDevice.load({routerRtpCapabilities:c});case 9:if(null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:s,status:1,attributes:{routerRtpCapabilities:JSON.stringify(c).toString()},message:"Router Capabilities Loaded"}),!this._produce){e.next=15;break}return e.next=13,this._protoo.request("createWebRtcTransport",{preferredProtocol:this._preferredProtocol,producing:!0,consuming:!1,sctpCapabilities:this._useDataChannel?this._mediasoupDevice.sctpCapabilities:void 0});case 13:u=e.sent,this.createProducerTransport(u,this._joinSpan);case 15:if(!this._consume){e.next=20;break}return e.next=18,this._protoo.request("createWebRtcTransport",{preferredProtocol:this._preferredProtocol,producing:!1,consuming:!0,sctpCapabilities:this._useDataChannel?this._mediasoupDevice.sctpCapabilities:void 0});case 18:p=e.sent,this.createConsumerTransport(p,this._joinSpan);case 20:return e.next=22,this._protoo.request("join",{displayName:this._displayName,device:this._device,secret:this._secret,rtpCapabilities:null===(n=this._mediasoupDevice)||void 0===n?void 0:n.rtpCapabilities,sctpCapabilities:null===(a=this._mediasoupDevice)||void 0===a?void 0:a.sctpCapabilities,deviceInfo:this._deviceInfo,autoConsume:this._autoConsume,metaData:this._metaData});case 22:h=e.sent,f=h.peers,m=h.poll,g=h.messages,Fe.dispatch(P("connected")),null===(i=this._openTelemetry)||void 0===i||i.traceAutoComplete({spanName:"Emitted `MEETING_JOINED` Event",span:this._joinSpan,status:1}),this._eventEmitter.emit("MEETING_JOINED",{peers:f,poll:m,messages:g,baseUrl:this._baseUrl}),Fe.dispatch({type:"REMOVE_ALL_NOTIFICATIONS"}),Fe.dispatch(ne({text:"You are in the room!",timeout:3e3})),v=Le(f);try{for(v.s();!(y=v.n()).done;)b=y.value,_=H(Be(Be({},b),{},{consumers:[],dataConsumers:[]})),Fe.dispatch(_),this._eventEmitter.emit(_.type,_.payload)}catch(e){v.e(e)}finally{v.f()}this._produce&&(Fe.dispatch(D({canSendMic:this._mediasoupDevice.canProduce("audio"),canSendWebcam:this._mediasoupDevice.canProduce("video")})),this._micEnabled?this.enableMic(this.customMicrophoneAudioTrack,this._joinSpan):this.customMicrophoneAudioTrack&&(null===(w=this._openTelemetry)||void 0===w||w.traceAutoComplete({spanName:"Disposing Audio Track",span:this._joinSpan,status:2}),this.customMicrophoneAudioTrack.getTracks().forEach((function(e){e.stop()}))),S=R(),this._webcamEnabled&&(!S||S.webcamEnabled||this._externalVideo)?this.enableWebcam(this.customCameraVideoTrack,this._joinSpan):this.customCameraVideoTrack&&(null===(k=this._openTelemetry)||void 0===k||k.traceAutoComplete({spanName:"Disposing Video Track",span:this._joinSpan,status:2}),this.customCameraVideoTrack.getTracks().forEach((function(e){e.stop()}))),this.enableChatDataProducer()),window.SHOW_INFO&&(E=Fe.getState(),x=E.me,Fe.dispatch(O(x.id))),null===(o=this._openTelemetry)||void 0===o||o.completeSpan({span:this._joinSpan,status:1,message:"Room Joined"}),e.next=45;break;case 38:e.prev=38,e.t0=e.catch(1),Ge.error("joinRoom() failed:%o",e.t0),null===(C=this._videosdkLogs)||void 0===C||C.pushLogs({logText:"Error Could not join the room",logType:"ERROR",attributes:{error:e.t0.message}}),null===(T=this._openTelemetry)||void 0===T||T.completeSpan({span:this._joinSpan,status:2,message:"Could not join the room ".concat(e.t0)}),Fe.dispatch(ne({type:"error",text:"Could not join the room: ".concat(e.t0)})),this.close({sendLeft:!0});case 45:case"end":return e.stop()}}),e,this,[[1,38]])}))),function(){return f.apply(this,arguments)})},{key:"_updateMics",value:(h=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>0&&void 0!==h[0]?h[0]:void 0,this._mics=new Map,Ge.debug("_updateMics() |"),e.next=5,navigator.mediaDevices.enumerateDevices();case 5:a=e.sent,i=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"_updateMics() Calling for Getting System Mic list",attributes:{systemDevice:a?JSON.stringify(a):"Device not found"},span:n||null}),o=Le(a);try{for(o.s();!(s=o.n()).done;)"audioinput"==(c=s.value).kind&&this._mics.set(c.deviceId,c)}catch(e){o.e(e)}finally{o.f()}u=Array.from(this._mics.values()),d=u.length,p=this._mic.device?this._mic.device.deviceId:void 0,0===d?this._mic.device=null:this._mics.has(p)||(this._mic.device=u[0]),null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:i,status:1,message:"Update Mic"});case 14:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"_updateWebcams",value:(p=(0,a.Z)(l().mark((function e(){var t,r,n,a,i,o,s,c,u,d,p,h=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>0&&void 0!==h[0]?h[0]:void 0,Ge.debug("_updateWebcams()"),this._webcams=new Map,Ge.debug("_updateWebcams() | calling enumerateDevices()"),e.next=6,navigator.mediaDevices.enumerateDevices();case 6:a=e.sent,i=null===(t=this._openTelemetry)||void 0===t?void 0:t.trace({spanName:"_updateWebcams() Calling for Getting System Webcam list",attributes:{systemDevice:a?JSON.stringify(a):"Device not found"},span:n||null}),o=Le(a),e.prev=9,o.s();case 11:if((s=o.n()).done){e.next=18;break}if("videoinput"===(c=s.value).kind){e.next=15;break}return e.abrupt("continue",16);case 15:this._webcams.set(c.deviceId,c);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:u=Array.from(this._webcams.values()),d=u.length,(p=this._webcam.device?this._webcam.device.deviceId:void 0)&&(this._defaultCameraIndex=p),Ge.debug("_updateWebcams() [webcams:%o]",u),0===d?this._webcam.device=null:this._webcams.has(p)||(this._webcam.device=u[this._defaultCameraIndex]),null===(r=this._openTelemetry)||void 0===r||r.completeSpan({span:i,status:1,message:"Update Webcam"}),Fe.dispatch({type:"SET_CAN_CHANGE_WEBCAM",payload:this._webcams.size>1});case 34:case"end":return e.stop()}}),e,this,[[9,20,23,26]])}))),function(){return p.apply(this,arguments)})},{key:"_getWebcamType",value:function(e){return/(back|rear)/i.test(e.label)?(Ge.debug("_getWebcamType() | it seems to be a back camera"),"back"):(Ge.debug("_getWebcamType() | it seems to be a front camera"),"front")}},{key:"_pauseConsumer",value:(c=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.paused){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._protoo.request("pauseConsumer",{consumerId:t.id});case 5:t.pause(),Fe.dispatch(J(t.id,"local")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),Ge.error("_pauseConsumer() | failed:%o",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error pausing Consumer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error pausing Consumer: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return c.apply(this,arguments)})},{key:"_resumeConsumer",value:(r=(0,a.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.paused){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._protoo.request("resumeConsumer",{consumerId:t.id});case 5:t.resume(),Fe.dispatch(Q(t.id,"local")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),Ge.error("_resumeConsumer() | failed:%o",e.t0),null===(r=this._videosdkLogs)||void 0===r||r.pushLogs({logText:"Error resuming Consumer",logType:"ERROR",attributes:{error:e.t0.message}}),Fe.dispatch(ne({type:"error",text:"Error resuming Consumer: ".concat(e.t0)}));case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return r.apply(this,arguments)})},{key:"_getExternalVideoStream",value:(t=(0,a.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._externalVideoStream){e.next=2;break}return e.abrupt("return",this._externalVideoStream);case 2:if(!(this._externalVideo.readyState<3)){e.next=5;break}return e.next=5,new Promise((function(e){return t._externalVideo.addEventListener("canplay",e)}));case 5:if(!this._externalVideo.captureStream){e.next=9;break}this._externalVideoStream=this._externalVideo.captureStream(),e.next=14;break;case 9:if(!this._externalVideo.mozCaptureStream){e.next=13;break}this._externalVideoStream=this._externalVideo.mozCaptureStream(),e.next=14;break;case 13:throw new Error("video.captureStream() not supported");case 14:return e.abrupt("return",this._externalVideoStream);case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_emitError",value:function(e){this._eventEmitter.emit("ERROR",e)}}],[{key:"init",value:function(e){Fe=e.store}}]),e}()},1206:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var a=e.getVersionPrecision(t),i=e.getVersionPrecision(r),o=Math.max(a,i),s=0,c=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=o-Math.min(a,i)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var a=e[r];if(t(a,r))return a}},e.assign=function(e){for(var t,r,n=e,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,(r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}])&&o(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),a=c(r(93)),i=c(r(94)),o=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,a={},i=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(a[t]=o,i+=1):"object"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}var u=s.default.find(o,(function(e){return t.isPlatform(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}}if(i>0){var p=Object.keys(a),h=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(a[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),a=s.default.getBrowserTypeByAlias(n);return t&&a&&(n=a.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(a,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=a.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=a.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=a.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})},452:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,a=[],i=[],o=[],s=[],c=[],l=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,a[r]=f,i[f]=r;var m=e[r],g=e[m],v=e[g],y=257*e[f]^16843008*f;o[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,c[r]=y<<8|y>>>24,l[r]=y,y=16843009*v^65537*g^257*m^16843008*r,u[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,p[f]=y<<8|y>>>24,h[f]=y,r?(r=m^e[e[e[v^m]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<n;o++)o<r?i[o]=t[o]:(l=i[o-1],o%r?r>6&&o%r==4&&(l=a[l>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l]):(l=a[(l=l<<8|l>>>24)>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l],l^=f[o/r|0]<<24),i[o]=i[o-r]^l);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(o=n-c,c%4)var l=i[o];else l=i[o-4];s[c]=c<4||o<=4?l:u[a[l>>>24]]^d[a[l>>>16&255]]^p[a[l>>>8&255]]^h[a[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,a)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,a,i,o,s){for(var c=this._nRounds,l=e[t]^r[0],u=e[t+1]^r[1],d=e[t+2]^r[2],p=e[t+3]^r[3],h=4,f=1;f<c;f++){var m=n[l>>>24]^a[u>>>16&255]^i[d>>>8&255]^o[255&p]^r[h++],g=n[u>>>24]^a[d>>>16&255]^i[p>>>8&255]^o[255&l]^r[h++],v=n[d>>>24]^a[p>>>16&255]^i[l>>>8&255]^o[255&u]^r[h++],y=n[p>>>24]^a[l>>>16&255]^i[u>>>8&255]^o[255&d]^r[h++];l=m,u=g,d=v,p=y}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^r[h++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^r[h++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[h++],y=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^r[h++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),n.AES)},7407:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.BlockCipher,r=e.algo;const a=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function c(e,t){let r=t>>24&255,n=t>>16&255,a=t>>8&255,i=255&t,o=e.sbox[0][r]+e.sbox[1][n];return o^=e.sbox[2][a],o+=e.sbox[3][i],o}function l(e,t,r){let n,i=t,o=r;for(let s=0;s<a;++s)i^=e.pbox[s],o=c(e,i)^o,n=i,i=o,o=n;return n=i,i=o,o=n,o^=e.pbox[a],i^=e.pbox[a+1],{left:i,right:o}}var u=r.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4;!function(e,t,r){for(let a=0;a<4;a++){e.sbox[a]=[];for(let t=0;t<256;t++)e.sbox[a][t]=o[a][t]}let n=0;for(let o=0;o<a+2;o++)e.pbox[o]=i[o]^t[n],n++,n>=r&&(n=0);let s=0,c=0,u=0;for(let i=0;i<a+2;i+=2)u=l(e,s,c),s=u.left,c=u.right,e.pbox[i]=s,e.pbox[i+1]=c;for(let a=0;a<4;a++)for(let t=0;t<256;t+=2)u=l(e,s,c),s=u.left,c=u.right,e.sbox[a][t]=s,e.sbox[a][t+1]=c}(s,t,r)}},encryptBlock:function(e,t){var r=l(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},decryptBlock:function(e,t){var r=function(e,t,r){let n,i=t,o=r;for(let s=a+1;s>1;--s)i^=e.pbox[s],o=c(e,i)^o,n=i,i=o,o=n;return n=i,i=o,o=n,o^=e.pbox[1],i^=e.pbox[0],{left:i,right:o}}(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(u)}(),n.Blowfish)},5109:function(e,t,r){var n;e.exports=(n=r(8249),r(888),void(n.lib.Cipher||function(e){var t=n,r=t.lib,a=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=r.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:v}return function(t){return{encrypt:function(r,n,a){return e(n).encrypt(t,r,n,a)},decrypt:function(r,n,a){return e(n).decrypt(t,r,n,a)}}}}()}),d=(r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),p=r.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function t(e,t,r){var n,a=this._iv;a?(n=a,this._iv=void 0):n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);n.decryptBlock(e,r),t.call(this,e,r,a),this._prevBlock=i}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(a);var c=i.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),r.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(t):t).toString(c)},parse:function(e){var t,r=c.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),m.create({ciphertext:r,salt:t})}},v=r.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var a=e.createEncryptor(r,n),i=a.finalize(t),o=a.cfg;return m.create({ciphertext:i,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,r,n,a){if(n||(n=i.random(8)),a)o=l.create({keySize:t+r,hasher:a}).compute(e,n);else var o=l.create({keySize:t+r}).compute(e,n);var s=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,m.create({key:o,iv:s,salt:n})}},b=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,r,n){var a=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=a.iv;var i=v.encrypt.call(this,e,t,a.key,n);return i.mixIn(a),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var a=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=a.iv,v.decrypt.call(this,e,t,a.key,n)}})}()))},8249:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(2480)}catch(e){}var a=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},s=o.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var o=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=o<<24-(n+i)%4*8}else for(var s=0;s<a;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(a());return new l.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},p=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,a=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(a,d);r=a.splice(0,c),n.sigBytes-=u}return new l.init(r,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),o.algo={});return o}(Math),n)},8269:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var a=[],i=0,o=0;o<r;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2|n[e.charCodeAt(o)]>>>6-o%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)a.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,n=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<n.length;i++)a[n.charCodeAt(i)]=i}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return r(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},3786:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var a=[],i=0,o=0;o<r;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2|n[e.charCodeAt(o)]>>>6-o%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var r=e.words,n=e.sigBytes,a=t?this._safe_map:this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<n;c++)i.push(a.charAt(s>>>6*(3-c)&63));var l=a.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,a=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<a.length;o++)i[a.charCodeAt(o)]=o}var s=a.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(n=c)}return r(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},298:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray,r=e.enc;function a(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var i=t[a>>>2]>>>16-a%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var r=e.length,n=[],a=0;a<r;a++)n[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=a(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=a(e.charCodeAt(i)<<16-i%2*16);return t.create(n,2*r)}}}(),n.enc.Utf16)},888:function(e,t,r){var n,a,i,o,s,c,l,u;e.exports=(u=r(8249),r(2783),r(9824),i=(a=(n=u).lib).Base,o=a.WordArray,c=(s=n.algo).MD5,l=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,a=n.hasher.create(),i=o.create(),s=i.words,c=n.keySize,l=n.iterations;s.length<c;){r&&a.update(r),r=a.update(e).finalize(t),a.reset();for(var u=1;u<l;u++)r=a.finalize(r),a.reset();i.concat(r)}return i.sigBytes=4*c,i}}),n.EvpKDF=function(e,t,r){return l.create(r).compute(e,t)},u.EvpKDF)},2209:function(e,t,r){var n,a,i,o;e.exports=(o=r(8249),r(5109),a=(n=o).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return a.create({ciphertext:t})}},o.format.Hex)},9824:function(e,t,r){var n,a,i;e.exports=(a=(n=r(8249)).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},1354:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),r(4433),r(298),r(8269),r(3786),r(8214),r(2783),r(2153),r(7792),r(34),r(7460),r(3327),r(706),r(9824),r(2112),r(888),r(5109),r(8568),r(4242),r(9968),r(7660),r(1148),r(3615),r(2807),r(1077),r(6475),r(6991),r(2209),r(452),r(4253),r(1857),r(4454),r(3974),r(7407),n)},4433:function(e,t,r){var n;e.exports=(n=r(8249),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],a=0;a<r;a++)n[a>>>2]|=e[a]<<24-a%4*8;t.call(this,n,r)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)},8214:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],S=e[t+11],k=e[t+12],E=e[t+13],R=e[t+14],x=e[t+15],C=i[0],P=i[1],T=i[2],O=i[3];C=l(C,P,T,O,o,7,s[0]),O=l(O,C,P,T,c,12,s[1]),T=l(T,O,C,P,h,17,s[2]),P=l(P,T,O,C,f,22,s[3]),C=l(C,P,T,O,m,7,s[4]),O=l(O,C,P,T,g,12,s[5]),T=l(T,O,C,P,v,17,s[6]),P=l(P,T,O,C,y,22,s[7]),C=l(C,P,T,O,b,7,s[8]),O=l(O,C,P,T,_,12,s[9]),T=l(T,O,C,P,w,17,s[10]),P=l(P,T,O,C,S,22,s[11]),C=l(C,P,T,O,k,7,s[12]),O=l(O,C,P,T,E,12,s[13]),T=l(T,O,C,P,R,17,s[14]),C=u(C,P=l(P,T,O,C,x,22,s[15]),T,O,c,5,s[16]),O=u(O,C,P,T,v,9,s[17]),T=u(T,O,C,P,S,14,s[18]),P=u(P,T,O,C,o,20,s[19]),C=u(C,P,T,O,g,5,s[20]),O=u(O,C,P,T,w,9,s[21]),T=u(T,O,C,P,x,14,s[22]),P=u(P,T,O,C,m,20,s[23]),C=u(C,P,T,O,_,5,s[24]),O=u(O,C,P,T,R,9,s[25]),T=u(T,O,C,P,f,14,s[26]),P=u(P,T,O,C,b,20,s[27]),C=u(C,P,T,O,E,5,s[28]),O=u(O,C,P,T,h,9,s[29]),T=u(T,O,C,P,y,14,s[30]),C=d(C,P=u(P,T,O,C,k,20,s[31]),T,O,g,4,s[32]),O=d(O,C,P,T,b,11,s[33]),T=d(T,O,C,P,S,16,s[34]),P=d(P,T,O,C,R,23,s[35]),C=d(C,P,T,O,c,4,s[36]),O=d(O,C,P,T,m,11,s[37]),T=d(T,O,C,P,y,16,s[38]),P=d(P,T,O,C,w,23,s[39]),C=d(C,P,T,O,E,4,s[40]),O=d(O,C,P,T,o,11,s[41]),T=d(T,O,C,P,f,16,s[42]),P=d(P,T,O,C,v,23,s[43]),C=d(C,P,T,O,_,4,s[44]),O=d(O,C,P,T,k,11,s[45]),T=d(T,O,C,P,x,16,s[46]),C=p(C,P=d(P,T,O,C,h,23,s[47]),T,O,o,6,s[48]),O=p(O,C,P,T,y,10,s[49]),T=p(T,O,C,P,R,15,s[50]),P=p(P,T,O,C,g,21,s[51]),C=p(C,P,T,O,k,6,s[52]),O=p(O,C,P,T,f,10,s[53]),T=p(T,O,C,P,w,15,s[54]),P=p(P,T,O,C,c,21,s[55]),C=p(C,P,T,O,b,6,s[56]),O=p(O,C,P,T,x,10,s[57]),T=p(T,O,C,P,v,15,s[58]),P=p(P,T,O,C,E,21,s[59]),C=p(C,P,T,O,m,6,s[60]),O=p(O,C,P,T,S,10,s[61]),T=p(T,O,C,P,h,15,s[62]),P=p(P,T,O,C,_,21,s[63]),i[0]=i[0]+C|0,i[1]=i[1]+P|0,i[2]=i[2]+T|0,i[3]=i[3]+O|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;r[a>>>5]|=128<<24-a%32;var i=e.floor(n/4294967296),o=n;r[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,r,n,a,i,o){var s=e+(t&r|~t&n)+a+o;return(s<<i|s>>>32-i)+t}function u(e,t,r,n,a,i,o){var s=e+(t&n|r&~n)+a+o;return(s<<i|s>>>32-i)+t}function d(e,t,r,n,a,i,o){var s=e+(t^r^n)+a+o;return(s<<i|s>>>32-i)+t}function p(e,t,r,n,a,i,o){var s=e+(r^(t|~n))+a+o;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},8568:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,r,n){var a,i=this._iv;i?(a=i.slice(0),this._iv=void 0):a=this._prevBlock,n.encryptBlock(a,0);for(var o=0;o<r;o++)e[t+o]^=a[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a,n),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);t.call(this,e,r,a,n),this._prevBlock=i}}),e}(),n.mode.CFB)},9968:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function r(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var a=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0),r(o);var s=o.slice(0);n.encryptBlock(s,0);for(var c=0;c<a;c++)e[t+c]^=s[c]}});return e.Decryptor=a,e}(),n.mode.CTRGladman)},4242:function(e,t,r){var n,a,i;e.exports=(i=r(8249),r(5109),i.mode.CTR=(a=(n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._counter;a&&(i=this._counter=a.slice(0),this._iv=void 0);var o=i.slice(0);r.encryptBlock(o,0),i[n-1]=i[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}}),n.Decryptor=a,n),i.mode.CTR)},1148:function(e,t,r){var n,a;e.exports=(a=r(8249),r(5109),a.mode.ECB=((n=a.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),a.mode.ECB)},7660:function(e,t,r){var n,a,i;e.exports=(i=r(8249),r(5109),i.mode.OFB=(a=(n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._keystream;a&&(i=this._keystream=a.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var o=0;o<n;o++)e[t+o]^=i[o]}}),n.Decryptor=a,n),i.mode.OFB)},3615:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,a=n-r%n,i=r+a-1;e.clamp(),e.words[i>>>2]|=a<<24-i%4*8,e.sigBytes+=a},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)},2807:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.Iso10126={pad:function(e,t){var r=4*t,a=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(a-1)).concat(n.lib.WordArray.create([a<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)},1077:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)},6991:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},6475:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},n.pad.ZeroPadding)},2112:function(e,t,r){var n,a,i,o,s,c,l,u,d;e.exports=(d=r(8249),r(2153),r(9824),i=(a=(n=d).lib).Base,o=a.WordArray,c=(s=n.algo).SHA256,l=s.HMAC,u=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=l.create(r.hasher,e),a=o.create(),i=o.create([1]),s=a.words,c=i.words,u=r.keySize,d=r.iterations;s.length<u;){var p=n.update(t).finalize(i);n.reset();for(var h=p.words,f=h.length,m=p,g=1;g<d;g++){m=n.finalize(m),n.reset();for(var v=m.words,y=0;y<f;y++)h[y]^=v[y]}a.concat(p),c[0]++}return a.sigBytes=4*u,a}}),n.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)},d.PBKDF2)},3974:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=[],i=[],o=[],s=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)c.call(this);for(a=0;a<8;a++)n[a]^=r[a+4&7];if(t){var i=t.words,o=i[0],s=i[1],l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(n[0]^=l,n[1]^=d,n[2]^=u,n[3]^=p,n[4]^=l,n[5]^=d,n[6]^=u,n[7]^=p,a=0;a<4;a++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,l=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=c^l}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),n.RabbitLegacy)},4454:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=[],i=[],o=[],s=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)a[r]^=n[r+4&7];if(t){var i=t.words,o=i[0],s=i[1],l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(a[0]^=l,a[1]^=d,a[2]^=u,a[3]^=p,a[4]^=l,a[5]^=d,a[6]^=u,a[7]^=p,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,l=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=c^l}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),n.Rabbit)},1857:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],a=0;a<256;a++)n[a]=a;a=0;for(var i=0;a<256;a++){var o=a%r,s=t[o>>>2]>>>24-o%4*8&255;i=(i+n[a]+s)%256;var c=n[a];n[a]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,a=0;a<4;a++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*a}return this._i=t,this._j=r,n}e.RC4=t._createHelper(a);var o=r.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(o)}(),n.RC4)},706:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=a.create([0,1518500249,1859775393,2400959708,2840853838]),p=a.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=i.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i,o,h,_,w,S,k,E,R,x,C,P=this._hash.words,T=d.words,O=p.words,D=s.words,I=c.words,M=l.words,j=u.words;for(S=i=P[0],k=o=P[1],E=h=P[2],R=_=P[3],x=w=P[4],r=0;r<80;r+=1)C=i+e[t+D[r]]|0,C+=r<16?f(o,h,_)+T[0]:r<32?m(o,h,_)+T[1]:r<48?g(o,h,_)+T[2]:r<64?v(o,h,_)+T[3]:y(o,h,_)+T[4],C=(C=b(C|=0,M[r]))+w|0,i=w,w=_,_=b(h,10),h=o,o=C,C=S+e[t+I[r]]|0,C+=r<16?y(k,E,R)+O[0]:r<32?v(k,E,R)+O[1]:r<48?g(k,E,R)+O[2]:r<64?m(k,E,R)+O[3]:f(k,E,R)+O[4],C=(C=b(C|=0,j[r]))+x|0,S=x,x=R,R=b(E,10),E=k,k=C;C=P[1]+h+R|0,P[1]=P[2]+_+x|0,P[2]=P[3]+w+S|0,P[3]=P[4]+i+k|0,P[4]=P[0]+o+E|0,P[0]=C},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,i=a.words,o=0;o<5;o++){var s=i[o];i[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,r){return e^t^r}function m(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function v(e,t,r){return e&r|t&~r}function y(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(h),t.HmacRIPEMD160=i._createHmacHelper(h)}(Math),n.RIPEMD160)},2783:function(e,t,r){var n,a,i,o,s,c,l,u;e.exports=(a=(n=u=r(8249)).lib,i=a.WordArray,o=a.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var d=(n<<5|n>>>27)+s+c[l];d+=l<20?1518500249+(a&i|~a&o):l<40?1859775393+(a^i^o):l<60?(a&i|a&o|i&o)-1894007588:(a^i^o)-899497514,s=o,o=i,i=a<<30|a>>>2,a=n,n=d}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l),u.SHA1)},7792:function(e,t,r){var n,a,i,o,s,c;e.exports=(c=r(8249),r(2153),a=(n=c).lib.WordArray,i=n.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=o._createHelper(s),n.HmacSHA224=o._createHmacHelper(s),c.SHA224)},2153:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,a=0;a<64;)t(n)&&(a<8&&(s[a]=r(e.pow(n,.5))),c[a]=r(e.pow(n,1/3)),a++),n++}();var l=[],u=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],u=r[5],d=r[6],p=r[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=l[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[h]=m+l[h-7]+v+l[h-16]}var y=n&a^n&i^a&i,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];p=d,d=u,u=s,s=o+_|0,o=i,i=a,a=n,n=_+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=e.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),n.SHA256)},3327:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.x64.Word,s=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,i=0;i<24;i++){for(var s=0,d=0,p=0;p<7;p++){if(1&a){var h=(1<<p)-1;h<32?d^=1<<h:s^=1<<h-32}128&a?a=a<<1^113:a<<=1}u[i]=o.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=o.create()}();var p=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,a=0;a<n;a++){var i=e[t+2*a],o=e[t+2*a+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(P=r[a]).high^=o,P.low^=i}for(var s=0;s<24;s++){for(var p=0;p<5;p++){for(var h=0,f=0,m=0;m<5;m++)h^=(P=r[p+5*m]).high,f^=P.low;var g=d[p];g.high=h,g.low=f}for(p=0;p<5;p++){var v=d[(p+4)%5],y=d[(p+1)%5],b=y.high,_=y.low;for(h=v.high^(b<<1|_>>>31),f=v.low^(_<<1|b>>>31),m=0;m<5;m++)(P=r[p+5*m]).high^=h,P.low^=f}for(var w=1;w<25;w++){var S=(P=r[w]).high,k=P.low,E=c[w];E<32?(h=S<<E|k>>>32-E,f=k<<E|S>>>32-E):(h=k<<E-32|S>>>64-E,f=S<<E-32|k>>>64-E);var R=d[l[w]];R.high=h,R.low=f}var x=d[0],C=r[0];for(x.high=C.high,x.low=C.low,p=0;p<5;p++)for(m=0;m<5;m++){var P=r[w=p+5*m],T=d[w],O=d[(p+1)%5+5*m],D=d[(p+2)%5+5*m];P.high=T.high^~O.high&D.high,P.low=T.low^~O.low&D.low}P=r[0];var I=u[s];P.high^=I.high,P.low^=I.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=o[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(p)}return new a.init(l,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=i._createHelper(p),t.HmacSHA3=i._createHmacHelper(p)}(Math),n.SHA3)},7460:function(e,t,r){var n,a,i,o,s,c,l,u;e.exports=(u=r(8249),r(4938),r(34),a=(n=u).x64,i=a.Word,o=a.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l),u.SHA384)},34:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),function(){var e=n,t=e.lib.Hasher,r=e.x64,a=r.Word,i=r.WordArray,o=e.algo;function s(){return a.create.apply(a,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],u=r[5],d=r[6],p=r[7],h=n.high,f=n.low,m=a.high,g=a.low,v=i.high,y=i.low,b=o.high,_=o.low,w=s.high,S=s.low,k=u.high,E=u.low,R=d.high,x=d.low,C=p.high,P=p.low,T=h,O=f,D=m,I=g,M=v,j=y,L=b,N=_,A=w,B=S,F=k,U=E,z=R,W=x,V=C,H=P,q=0;q<80;q++){var G,Z,K=l[q];if(q<16)Z=K.high=0|e[t+2*q],G=K.low=0|e[t+2*q+1];else{var J=l[q-15],Q=J.high,Y=J.low,$=(Q>>>1|Y<<31)^(Q>>>8|Y<<24)^Q>>>7,X=(Y>>>1|Q<<31)^(Y>>>8|Q<<24)^(Y>>>7|Q<<25),ee=l[q-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ae=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=l[q-7],oe=ie.high,se=ie.low,ce=l[q-16],le=ce.high,ue=ce.low;Z=(Z=(Z=$+oe+((G=X+se)>>>0<X>>>0?1:0))+ne+((G+=ae)>>>0<ae>>>0?1:0))+le+((G+=ue)>>>0<ue>>>0?1:0),K.high=Z,K.low=G}var de,pe=A&F^~A&z,he=B&U^~B&W,fe=T&D^T&M^D&M,me=O&I^O&j^I&j,ge=(T>>>28|O<<4)^(T<<30|O>>>2)^(T<<25|O>>>7),ve=(O>>>28|T<<4)^(O<<30|T>>>2)^(O<<25|T>>>7),ye=(A>>>14|B<<18)^(A>>>18|B<<14)^(A<<23|B>>>9),be=(B>>>14|A<<18)^(B>>>18|A<<14)^(B<<23|A>>>9),_e=c[q],we=_e.high,Se=_e.low,ke=V+ye+((de=H+be)>>>0<H>>>0?1:0),Ee=ve+me;V=z,H=W,z=F,W=U,F=A,U=B,A=L+(ke=(ke=(ke=ke+pe+((de+=he)>>>0<he>>>0?1:0))+we+((de+=Se)>>>0<Se>>>0?1:0))+Z+((de+=G)>>>0<G>>>0?1:0))+((B=N+de|0)>>>0<N>>>0?1:0)|0,L=M,N=j,M=D,j=I,D=T,I=O,T=ke+(ge+fe+(Ee>>>0<ve>>>0?1:0))+((O=de+Ee|0)>>>0<de>>>0?1:0)|0}f=n.low=f+O,n.high=h+T+(f>>>0<O>>>0?1:0),g=a.low=g+I,a.high=m+D+(g>>>0<I>>>0?1:0),y=i.low=y+j,i.high=v+M+(y>>>0<j>>>0?1:0),_=o.low=_+N,o.high=b+L+(_>>>0<N>>>0?1:0),S=s.low=S+B,s.high=w+A+(S>>>0<B>>>0?1:0),E=u.low=E+U,u.high=k+F+(E>>>0<U>>>0?1:0),x=d.low=x+W,d.high=R+z+(x>>>0<W>>>0?1:0),P=p.low=P+H,p.high=C+V+(P>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),n.SHA512)},4253:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib,r=t.WordArray,a=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],i=0;i<16;i++){var l=a[i]=[],u=c[i];for(r=0;r<24;r++)l[r/6|0]|=t[(s[r]-1+u)%28]<<31-r%6,l[4+(r/6|0)]|=t[28+(s[r+24]-1+u)%28]<<31-r%6;for(l[0]=l[0]<<1|l[0]>>>31,r=1;r<7;r++)l[r]=l[r]>>>4*(r-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(r=0;r<16;r++)d[r]=a[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var n=0;n<16;n++){for(var a=r[n],i=this._lBlock,o=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((o^a[c])&u[c])>>>0];this._lBlock=o,this._rBlock=i^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=a._createHelper(d);var f=i.TripleDES=a.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),a=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(r.create(t)),this._des2=d.createEncryptor(r.create(n)),this._des3=d.createEncryptor(r.create(a))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=a._createHelper(f)}(),n.TripleDES)},4938:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,a=r.Base,i=r.WordArray,o=t.x64={};o.Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var a=e[n];r.push(a.high),r.push(a.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),n)},1227:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(a=n))})),t.splice(a,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_TOKEN_VSDK:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlrZXkiOiJiNDJhZThlMy03NjQ1LTRkOGYtYjAxMi03NjY2NjI1OTJkMTciLCJwZXJtaXNzaW9ucyI6WyJhbGxvd19qb2luIl0sImlhdCI6MTcwNzU3NDM4MywiZXhwIjoxODY1MzYyMzgzfQ.CmJzg2Swgtz8FvMZ0DNonxHkLhZQSBF75RO_pqAfZ5I",REACT_APP_SERVER_URL:"https://squadscript.onrender.com"}.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,a,i,o=null;function s(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!s.enabled)return;const i=s,o=Number(new Date),c=o-(r||o);i.diff=c,i.prev=r,i.curr=o,r=o,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");let l=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((e,r)=>{if("%%"===e)return"%";l++;const a=t.formatters[r];if("function"==typeof a){const t=n[l];e=a.call(i,t),n.splice(l,1),l--}return e})),t.formatArgs.call(i,n),(i.log||t.log).apply(i,n)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(a!==t.namespaces&&(a=t.namespaces,i=t.enabled(e)),i),set:e=>{o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(a),...t.skips.map(a).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},284:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,a)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var a,i,o,l;if(s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=u.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):f(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){n.once&&e.removeEventListener(t,a),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,a,i,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7764:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=n(r(1227)),i="h264-profile-level-id";t.Logger=class{constructor(e){e?(this._debug=(0,a.default)("".concat(i,":").concat(e)),this._warn=(0,a.default)("".concat(i,":WARN:").concat(e)),this._error=(0,a.default)("".concat(i,":ERROR:").concat(e))):(this._debug=(0,a.default)(i),this._warn=(0,a.default)("".concat(i,":WARN")),this._error=(0,a.default)("".concat(i,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},4115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateProfileLevelIdStringForAnswer=t.isSameProfile=t.parseSdpProfileLevelId=t.levelToString=t.profileToString=t.profileLevelIdToString=t.parseProfileLevelId=t.ProfileLevelId=t.Level=t.Profile=void 0;const n=new(r(7764).Logger);var a,i;!function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"}(a||(t.Profile=a={})),function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"}(i||(t.Level=i={}));class o{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=o;const s=new o(a.ConstrainedBaseline,i.L3_1);class c{constructor(e){this.mask=~f("x",e),this.masked_value=f("1",e)}isMatch(e){return this.masked_value===(e&this.mask)}}class l{constructor(e,t,r){this.profile_idc=e,this.profile_iop=t,this.profile=r}}const u=[new l(66,new c("x1xx0000"),a.ConstrainedBaseline),new l(77,new c("1xxx0000"),a.ConstrainedBaseline),new l(88,new c("11xx0000"),a.ConstrainedBaseline),new l(66,new c("x0xx0000"),a.Baseline),new l(88,new c("10xx0000"),a.Baseline),new l(77,new c("0x0x0000"),a.Main),new l(100,new c("00000000"),a.High),new l(100,new c("00001100"),a.ConstrainedHigh),new l(244,new c("00000000"),a.PredictiveHigh444)];function d(e){if("string"!=typeof e||6!==e.length)return;const t=parseInt(e,16);if(0===t)return;const r=255&t,a=t>>8&255,s=t>>16&255;let c;switch(r){case i.L1_1:c=0!=(16&a)?i.L1_b:i.L1_1;break;case i.L1:case i.L1_2:case i.L1_3:case i.L2:case i.L2_1:case i.L2_2:case i.L3:case i.L3_1:case i.L3_2:case i.L4:case i.L4_1:case i.L4_2:case i.L5:case i.L5_1:case i.L5_2:c=r;break;default:return void n.warn("parseProfileLevelId() | unrecognized level_idc [str:".concat(e,", level_idc:").concat(r,"]"))}for(const n of u)if(s===n.profile_idc&&n.profile_iop.isMatch(a))return new o(n.profile,c);n.warn("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:".concat(e,", profile_idc:").concat(s,", profile_iop:").concat(a,"]"))}function p(e){if(e.level==i.L1_b)switch(e.profile){case a.ConstrainedBaseline:return"42f00b";case a.Baseline:return"42100b";case a.Main:return"4d100b";default:return void n.warn("profileLevelIdToString() | Level 1_b not is allowed for profile ".concat(e.profile))}let t;switch(e.profile){case a.ConstrainedBaseline:t="42e0";break;case a.Baseline:t="4200";break;case a.Main:t="4d00";break;case a.ConstrainedHigh:t="640c";break;case a.High:t="6400";break;case a.PredictiveHigh444:t="f400";break;default:return void n.warn("profileLevelIdToString() | unrecognized profile ".concat(e.profile))}let r=e.level.toString(16);return 1===r.length&&(r="0".concat(r)),"".concat(t).concat(r)}function h(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["profile-level-id"];return e?d(e):s}function f(e,t){return Number(t[0]===e)<<7|Number(t[1]===e)<<6|Number(t[2]===e)<<5|Number(t[3]===e)<<4|Number(t[4]===e)<<3|Number(t[5]===e)<<2|Number(t[6]===e)<<1|Number(t[7]===e)<<0}function m(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["level-asymmetry-allowed"];return!0===e||1===e||"1"===e}t.parseProfileLevelId=d,t.profileLevelIdToString=p,t.profileToString=function(e){switch(e){case a.ConstrainedBaseline:return"ConstrainedBaseline";case a.Baseline:return"Baseline";case a.Main:return"Main";case a.ConstrainedHigh:return"ConstrainedHigh";case a.High:return"High";case a.PredictiveHigh444:return"PredictiveHigh444";default:return void n.warn("profileToString() | unrecognized profile ".concat(e))}},t.levelToString=function(e){switch(e){case i.L1_b:return"1b";case i.L1:return"1";case i.L1_1:return"1.1";case i.L1_2:return"1.2";case i.L1_3:return"1.3";case i.L2:return"2";case i.L2_1:return"2.1";case i.L2_2:return"2.2";case i.L3:return"3";case i.L3_1:return"3.1";case i.L3_2:return"3.2";case i.L4:return"4";case i.L4_1:return"4.1";case i.L4_2:return"4.2";case i.L5:return"5";case i.L5_1:return"5.1";case i.L5_2:return"5.2";default:return void n.warn("levelToString() | unrecognized level ".concat(e))}},t.parseSdpProfileLevelId=h,t.isSameProfile=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),r=h(e);return Boolean(t&&r&&t.profile===r.profile)},t.generateProfileLevelIdStringForAnswer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!t["profile-level-id"])return void n.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");const r=h(e),a=h(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!a)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==a.profile)throw new TypeError("H264 Profile mismatch");const s=m(e)&&m(t),c=r.level,l=function(e,t){return e===i.L1_b?t!==i.L1&&t!==i.L1_b:t===i.L1_b?e!==i.L1:e<t}(u=c,d=a.level)?u:d;var u,d;const f=s?c:l;return n.debug("generateProfileLevelIdStringForAnswer() | result [profile:".concat(r.profile,", level:").concat(f,"]")),p(new o(r.profile,f))}},4301:(e,t,r)=>{r(7147),e.exports=self.fetch.bind(self)},6808:(e,t,r)=>{var n,a,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function a(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function o(e,r){if("undefined"!=typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var s=i[o].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(a[l]=c,e===l)break}catch(e){}}return e?a[e]:a}}return a.set=i,a.get=function(e){return o(e,!1)},a.getJSON=function(e){return o(e,!0)},a.remove=function(t,r){i(t,"",e(r,{expires:-1}))},a.defaults={},a.withConverter=r,a}((function(){}))},void 0===(a="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=a),e.exports=i()},773:(e,t,r)=>{var n,a="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Array.prototype,p=Function.prototype,h=Object.prototype,f=u["__core-js_shared__"],m=(n=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",g=p.toString,v=h.hasOwnProperty,y=h.toString,b=RegExp("^"+g.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=d.splice,w=P(u,"Map"),S=P(Object,"create");function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e,t){for(var r,n,a=e.length;a--;)if((r=e[a][0])===(n=t)||r!=r&&n!=n)return a;return-1}function C(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function P(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!O(e)||m&&m in e)return!1;var t=function(e){var t=O(e)?y.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?b:s;return t.test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function T(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o),o};return r.cache=new(T.Cache||R),r}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}k.prototype.clear=function(){this.__data__=S?S(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(S){var r=t[e];return r===a?void 0:r}return v.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return S?void 0!==t[e]:v.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=S&&void 0===t?a:t,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(e){var t=this.__data__,r=x(t,e);return!(r<0)&&(r==t.length-1?t.pop():_.call(t,r,1),!0)},E.prototype.get=function(e){var t=this.__data__,r=x(t,e);return r<0?void 0:t[r][1]},E.prototype.has=function(e){return x(this.__data__,e)>-1},E.prototype.set=function(e,t){var r=this.__data__,n=x(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new k,map:new(w||E),string:new k}},R.prototype.delete=function(e){return C(this,e).delete(e)},R.prototype.get=function(e){return C(this,e).get(e)},R.prototype.has=function(e){return C(this,e).has(e)},R.prototype.set=function(e,t){return C(this,e).set(e,t),this},T.Cache=R,e.exports=T},9514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;const n=r(8562),a=r(4493),i=r(9992),o=new n.Logger("Consumer");class s extends a.EnhancedEventEmitter{constructor(e){let{id:t,localId:r,producerId:n,rtpReceiver:i,track:s,rtpParameters:c,appData:l}=e;super(),this._closed=!1,this._observer=new a.EnhancedEventEmitter,o.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=i,this._track=s,this._rtpParameters=c,this._paused=!s.enabled,this._appData=l||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(o.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new i.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){o.debug("pause()"),this._closed?o.error("pause() | Consumer closed"):this._paused?o.debug("pause() | Consumer is already paused"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}resume(){o.debug("resume()"),this._closed?o.error("resume() | Consumer closed"):this._paused?(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")):o.debug("resume() | Consumer is already resumed")}onTrackEnded(){o.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch(e){}}}t.Consumer=s},1623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;const n=r(8562),a=r(4493),i=new n.Logger("DataConsumer");class o extends a.EnhancedEventEmitter{constructor(e){let{id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:o,appData:s}=e;super(),this._closed=!1,this._observer=new a.EnhancedEventEmitter,i.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=o,this._appData=s||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(i.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(i.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(i.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?i.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):i.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(i.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(e=>{this._closed||this.safeEmit("message",e.data)}))}}t.DataConsumer=o},5504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;const n=r(8562),a=r(4493),i=r(9992),o=new n.Logger("DataProducer");class s extends a.EnhancedEventEmitter{constructor(e){let{id:t,dataChannel:r,sctpStreamParameters:n,appData:i}=e;super(),this._closed=!1,this._observer=new a.EnhancedEventEmitter,o.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=i||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(o.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(o.debug("send()"),this._closed)throw new i.InvalidStateError("closed");this._dataChannel.send(e)}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(o.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?o.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):o.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(o.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(()=>{this._closed||o.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(()=>{this._closed||this.safeEmit("bufferedamountlow")}))}}t.DataProducer=s},3120:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=t.detectDevice=void 0;const o=r(2238),s=r(8562),c=r(4493),l=r(9992),u=i(r(3347)),d=i(r(5280)),p=r(5202),h=r(2960),f=r(6656),m=r(5372),g=r(5697),v=r(564),y=r(1419),b=r(9862),_=r(2205),w=r(7392),S=r(3433),k=r(4770),E=new s.Logger("Device");function R(){if("object"==typeof navigator&&"ReactNative"===navigator.product)return E.debug("detectDevice() | React-Native detected"),"undefined"==typeof RTCPeerConnection?void E.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?"):"undefined"!=typeof RTCRtpTransceiver?(E.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(E.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative");if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)E.warn("detectDevice() | unknown device");else{var e,t,r,n,a,i;const s=navigator.userAgent,c=new o.UAParser(s);E.debug("detectDevice() | browser detected [ua:%s, parsed:%o]",s,c.getResult());const l=c.getBrowser(),u=null===(e=l.name)||void 0===e?void 0:e.toLowerCase(),d=parseInt(null!==(t=l.major)&&void 0!==t?t:"0"),p=null===(r=c.getEngine().name)||void 0===r?void 0:r.toLowerCase(),h=c.getOS(),f=null===(n=h.name)||void 0===n?void 0:n.toLowerCase(),m=parseFloat(null!==(a=h.version)&&void 0!==a?a:"0"),g=null===(i=c.getDevice().model)||void 0===i?void 0:i.toLowerCase(),v="ios"===f||"ipad"===g,y=u&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(u),b=u&&["firefox","mobile firefox","mobile focus"].includes(u),_=u&&["safari","mobile safari"].includes(u),w=u&&["edge"].includes(u);if((y||w)&&!v&&d>=111)return"Chrome111";if(y&&!v&&d>=74||w&&!v&&d>=88)return"Chrome74";if(y&&!v&&d>=70)return"Chrome70";if(y&&!v&&d>=67)return"Chrome67";if(y&&!v&&d>=55)return"Chrome55";if(b&&!v&&d>=60)return"Firefox60";if(b&&v&&m>=14.3)return"Safari12";if(_&&d>=12&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(_&&d>=11)return"Safari11";if(w&&!v&&d>=11&&d<=18)return"Edge11";if("webkit"===p&&v&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if("blink"===p){const e=s.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(e){const t=Number(e[1]);return t>=111?"Chrome111":t>=74?"Chrome74":t>=70?"Chrome70":t>=67?"Chrome67":"Chrome55"}return"Chrome111"}E.warn("detectDevice() | browser not supported [name:%s, version:%s]",u,d)}}t.detectDevice=R,t.Device=class{constructor(){let{handlerName:e,handlerFactory:t,Handler:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._loaded=!1,this._observer=new c.EnhancedEventEmitter,E.debug("constructor()"),r){if(E.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!=typeof r)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");e=r}if(e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)E.debug("constructor() | handler given: %s",e);else{if(!(e=R()))throw new l.UnsupportedError("device not supported");E.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome111":this._handlerFactory=h.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=f.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=m.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=g.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=v.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=y.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=b.Safari12.createFactory();break;case"Safari11":this._handlerFactory=_.Safari11.createFactory();break;case"Edge11":this._handlerFactory=w.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=S.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=k.ReactNative.createFactory();break;default:throw new TypeError('unknown handlerName "'.concat(e,'"'))}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new l.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new l.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load(e){let t,{routerRtpCapabilities:r}=e;E.debug("load() [routerRtpCapabilities:%o]",r),r=u.clone(r);try{if(this._loaded)throw new l.InvalidStateError("already loaded");d.validateRtpCapabilities(r),t=this._handlerFactory();const e=await t.getNativeRtpCapabilities();E.debug("load() | got native RTP capabilities:%o",e),d.validateRtpCapabilities(e),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(e,r),E.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),E.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),E.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),E.debug("load() succeeded"),this._loaded=!0,t.close()}catch(r){throw t&&t.close(),r}}canProduce(e){if(!this._loaded)throw new l.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError('invalid kind "'.concat(e,'"'));return this._canProduceByKind[e]}createSendTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,appData:u}=e;return E.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,appData:u})}createRecvTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,appData:u}=e;return E.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,appData:u})}createTransport(e){let{direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:d,appData:h}=e;if(!this._loaded)throw new l.InvalidStateError("not loaded");if("string"!=typeof r)throw new TypeError("missing id");if("object"!=typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(a))throw new TypeError("missing iceCandidates");if("object"!=typeof i)throw new TypeError("missing dtlsParameters");if(o&&"object"!=typeof o)throw new TypeError("wrong sctpParameters");if(h&&"object"!=typeof h)throw new TypeError("if given, appData must be an object");const f=new p.Transport({direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:d,appData:h,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}},4493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;const n=r(7187),a=new(r(8562).Logger)("EnhancedEventEmitter");class i extends n.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return super.emit(e,...r)}safeEmit(e){const t=super.listenerCount(e);try{for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return super.emit(e,...n)}catch(n){return a.error("safeEmit() | event listener threw an error [eventName:%s]:%o",e,n),Boolean(t)}}on(e,t){return super.on(e,t),this}off(e,t){return super.off(e,t),this}addListener(e,t){return super.on(e,t),this}prependListener(e,t){return super.prependListener(e,t),this}once(e,t){return super.once(e,t),this}prependOnceListener(e,t){return super.prependOnceListener(e,t),this}removeListener(e,t){return super.off(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}}t.EnhancedEventEmitter=i},8562:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=n(r(1227)),i="mediasoup-client";t.Logger=class{constructor(e){e?(this._debug=(0,a.default)("".concat(i,":").concat(e)),this._warn=(0,a.default)("".concat(i,":WARN:").concat(e)),this._error=(0,a.default)("".concat(i,":ERROR:").concat(e))):(this._debug=(0,a.default)(i),this._warn=(0,a.default)("".concat(i,":WARN")),this._error=(0,a.default)("".concat(i,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;const n=r(8562),a=r(4493),i=r(9992),o=new n.Logger("Producer");class s extends a.EnhancedEventEmitter{constructor(e){let{id:t,localId:r,rtpSender:n,track:i,rtpParameters:s,stopTracks:c,disableTrackOnPause:l,zeroRtpOnPause:u,appData:d}=e;super(),this._closed=!1,this._observer=new a.EnhancedEventEmitter,o.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=i,this._kind=i.kind,this._rtpParameters=s,this._paused=!!l&&!i.enabled,this._maxSpatialLayer=void 0,this._stopTracks=c,this._disableTrackOnPause=l,this._zeroRtpOnPause=u,this._appData=d||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(o.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new i.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){o.debug("pause()"),this._closed?o.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@pause",e,t)})).catch((()=>{})),this._observer.safeEmit("pause"))}resume(){o.debug("resume()"),this._closed?o.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@resume",e,t)})).catch((()=>{})),this._observer.safeEmit("resume"))}async replaceTrack(e){let{track:t}=e;if(o.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch(t){}throw new i.InvalidStateError("closed")}if(t&&"ended"===t.readyState)throw new i.InvalidStateError("track ended");t!==this._track?(await new Promise(((e,r)=>{this.safeEmit("@replacetrack",t,e,r)})),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()):o.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new i.InvalidStateError("closed");if("video"!==this._kind)throw new i.UnsupportedError("not a video Producer");if("number"!=typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await new Promise(((t,r)=>{this.safeEmit("@setmaxspatiallayer",e,t,r)})).catch((()=>{})),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new i.InvalidStateError("closed");if("object"!=typeof e)throw new TypeError("invalid params");await new Promise(((t,r)=>{this.safeEmit("@setrtpencodingparameters",e,t,r)}))}onTrackEnded(){o.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}t.Producer=s},4879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const s=r(2186),c=o(r(4375)),l=r(8562),u=r(4493),d=r(9992),p=i(r(3347)),h=i(r(5280)),f=r(6569),m=r(9514),g=r(5504),v=r(1623),y=new l.Logger("Transport");class b{constructor(e){this.consumerOptions=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _ extends u.EnhancedEventEmitter{constructor(e){let{direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:c,iceTransportPolicy:l,additionalSettings:d,proprietaryConstraints:h,appData:f,handlerFactory:m,extendedRtpCapabilities:g,canProduceByKind:v}=e;super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new s.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new u.EnhancedEventEmitter,y.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=g,this._canProduceByKind=v,this._maxSctpMessageSize=o?o.maxMessageSize:null,delete(d=p.clone(d)||{}).iceServers,delete d.iceTransportPolicy,delete d.bundlePolicy,delete d.rtcpMuxPolicy,delete d.sdpSemantics,this._handler=m(),this._handler.run({direction:t,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:c,iceTransportPolicy:l,additionalSettings:d,proprietaryConstraints:h,extendedRtpCapabilities:g}),this._appData=f||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){if(!this._closed){y.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce(e){let{iceParameters:t}=e;if(y.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push((async()=>await this._handler.restartIce(t)),"transport.restartIce()")}async updateIceServers(){let{iceServers:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(y.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push((async()=>this._handler.updateIceServers(e)),"transport.updateIceServers()")}async produce(){let{track:e,encodings:t,codecOptions:r,codec:n,stopTracks:a=!0,disableTrackOnPause:i=!0,zeroRtpOnPause:o=!1,appData:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(y.debug("produce() [track:%o]",e),this._closed)throw new d.InvalidStateError("closed");if(!e)throw new TypeError("missing track");if("send"!==this._direction)throw new d.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new d.UnsupportedError("cannot produce ".concat(e.kind));if("ended"===e.readyState)throw new d.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(s&&"object"!=typeof s)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push((async()=>{let c;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?c=void 0:t&&(c=t.map((e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"==typeof e.dtx&&(t.dtx=e.dtx),"string"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"==typeof e.priority&&(t.priority=e.priority),"string"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));const{localId:l,rtpParameters:u,rtpSender:d}=await this._handler.send({track:e,encodings:c,codecOptions:r,codec:n});try{h.validateRtpParameters(u);const{id:t}=await new Promise(((t,r)=>{this.safeEmit("produce",{kind:e.kind,rtpParameters:u,appData:s},t,r)})),r=new f.Producer({id:t,localId:l,rtpSender:d,track:e,rtpParameters:u,stopTracks:a,disableTrackOnPause:i,zeroRtpOnPause:o,appData:s});return this._producers.set(r.id,r),this.handleProducer(r),this._observer.safeEmit("newproducer",r),r}catch(e){throw this._handler.stopSending(l).catch((()=>{})),e}}),"transport.produce()").catch((t=>{if(a)try{e.stop()}catch(e){}throw t}))}async consume(e){let{id:t,producerId:r,kind:n,rtpParameters:a,streamId:i,appData:o={}}=e;if(y.debug("consume()"),a=p.clone(a),this._closed)throw new d.InvalidStateError("closed");if("recv"!==this._direction)throw new d.UnsupportedError("not a receiving Transport");if("string"!=typeof t)throw new TypeError("missing id");if("string"!=typeof r)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError("invalid kind '".concat(n,"'"));if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(o&&"object"!=typeof o)throw new TypeError("if given, appData must be an object");if(!h.canReceive(a,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const s=new b({id:t,producerId:r,kind:n,rtpParameters:a,streamId:i,appData:o});return this._pendingConsumerTasks.push(s),(0,c.default)((()=>{this._closed||!1===this._consumerCreationInProgress&&this.createPendingConsumers()})),s.promise}async produceData(){let{ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:r,label:n="",protocol:a="",appData:i={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(y.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if("send"!==this._direction)throw new d.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new d.UnsupportedError("SCTP not enabled by remote Transport");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(i&&"object"!=typeof i)throw new TypeError("if given, appData must be an object");return(t||r)&&(e=!1),this._awaitQueue.push((async()=>{const{dataChannel:o,sctpStreamParameters:s}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:n,protocol:a});h.validateSctpStreamParameters(s);const{id:c}=await new Promise(((e,t)=>{this.safeEmit("producedata",{sctpStreamParameters:s,label:n,protocol:a,appData:i},e,t)})),l=new g.DataProducer({id:c,dataChannel:o,sctpStreamParameters:s,appData:i});return this._dataProducers.set(l.id,l),this.handleDataProducer(l),this._observer.safeEmit("newdataproducer",l),l}),"transport.produceData()")}async consumeData(e){let{id:t,dataProducerId:r,sctpStreamParameters:n,label:a="",protocol:i="",appData:o={}}=e;if(y.debug("consumeData()"),n=p.clone(n),this._closed)throw new d.InvalidStateError("closed");if("recv"!==this._direction)throw new d.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new d.UnsupportedError("SCTP not enabled by remote Transport");if("string"!=typeof t)throw new TypeError("missing id");if("string"!=typeof r)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(o&&"object"!=typeof o)throw new TypeError("if given, appData must be an object");return h.validateSctpStreamParameters(n),this._awaitQueue.push((async()=>{const{dataChannel:e}=await this._handler.receiveDataChannel({sctpStreamParameters:n,label:a,protocol:i}),s=new v.DataConsumer({id:t,dataProducerId:r,dataChannel:e,sctpStreamParameters:n,appData:o});return this._dataConsumers.set(s.id,s),this.handleDataConsumer(s),this._observer.safeEmit("newdataconsumer",s),s}),"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingConsumerTasks.length)return void y.debug("createPendingConsumers() | there is no Consumer to be created");const e=[...this._pendingConsumerTasks];let t;this._pendingConsumerTasks=[];const r=[];for(const n of e){const{id:e,kind:t,rtpParameters:a,streamId:i}=n.consumerOptions;r.push({trackId:e,kind:t,rtpParameters:a,streamId:i})}try{const n=await this._handler.receive(r);for(let r=0;r<n.length;++r){const a=e[r],i=n[r],{id:o,producerId:s,kind:c,rtpParameters:l,appData:u}=a.consumerOptions,{localId:d,rtpReceiver:p,track:h}=i,f=new m.Consumer({id:o,localId:d,producerId:s,rtpReceiver:p,track:h,rtpParameters:l,appData:u});this._consumers.set(f.id,f),this.handleConsumer(f),this._probatorConsumerCreated||t||"video"!==c||(t=f),this._observer.safeEmit("newconsumer",f),a.resolve(f)}}catch(t){for(const r of e)r.reject(t)}if(t)try{const e=h.generateProbatorRtpParameters(t.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:e}]),y.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(e){y.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",e)}}),"transport.createPendingConsumers()").then((()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()})).catch((()=>{}))}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingPauseConsumers.size)return void y.debug("pausePendingConsumers() | there is no Consumer to be paused");const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.pauseReceiving(t)}catch(e){y.error("pausePendingConsumers() | failed to pause Consumers:",e)}}),"transport.pausePendingConsumers").then((()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()})).catch((()=>{}))}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingResumeConsumers.size)return void y.debug("resumePendingConsumers() | there is no Consumer to be resumed");const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.resumeReceiving(t)}catch(e){y.error("resumePendingConsumers() | failed to resume Consumers:",e)}}),"transport.resumePendingConsumers").then((()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()})).catch((()=>{}))}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingCloseConsumers.size)return void y.debug("closePendingConsumers() | there is no Consumer to be closed");const e=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(e.map((e=>e.localId)))}catch(e){y.error("closePendingConsumers() | failed to close Consumers:",e)}}),"transport.closePendingConsumers").then((()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()})).catch((()=>{}))}handleHandler(){const e=this._handler;e.on("@connect",((e,t,r)=>{let{dtlsParameters:n}=e;this._closed?r(new d.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:n},t,r)})),e.on("@icegatheringstatechange",(e=>{e!==this._iceGatheringState&&(y.debug("ICE gathering state changed to %s",e),this._iceGatheringState=e,this._closed||this.safeEmit("icegatheringstatechange",e))})),e.on("@connectionstatechange",(e=>{e!==this._connectionState&&(y.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))}))}handleProducer(e){e.on("@close",(()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push((async()=>await this._handler.stopSending(e.localId)),"producer @close event").catch((e=>y.warn("producer.close() failed:%o",e)))})),e.on("@pause",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.pauseSending(e.localId)),"producer @pause event").then(t).catch(r)})),e.on("@resume",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.resumeSending(e.localId)),"producer @resume event").then(t).catch(r)})),e.on("@replacetrack",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.replaceTrack(e.localId,t)),"producer @replacetrack event").then(r).catch(n)})),e.on("@setmaxspatiallayer",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setMaxSpatialLayer(e.localId,t)),"producer @setmaxspatiallayer event").then(r).catch(n)})),e.on("@setrtpencodingparameters",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setRtpEncodingParameters(e.localId,t)),"producer @setrtpencodingparameters event").then(r).catch(n)})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new d.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(r)}))}handleConsumer(e){e.on("@close",(()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),this._closed||(this._pendingCloseConsumers.set(e.id,e),!1===this._consumerCloseInProgress&&this.closePendingConsumers())})),e.on("@pause",(()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),(0,c.default)((()=>{this._closed||!1===this._consumerPauseInProgress&&this.pausePendingConsumers()}))})),e.on("@resume",(()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),(0,c.default)((()=>{this._closed||!1===this._consumerResumeInProgress&&this.resumePendingConsumers()}))})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new d.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(r)}))}handleDataProducer(e){e.on("@close",(()=>{this._dataProducers.delete(e.id)}))}handleDataConsumer(e){e.on("@close",(()=>{this._dataConsumers.delete(e.id)}))}}t.Transport=_},9992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;class r extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.UnsupportedError=r;class n extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.InvalidStateError=n},2960:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome111=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9072)),p=i(r(8954)),h=r(9992),f=r(9316),m=r(7910),g=r(2770),v=new s.Logger("Chrome111"),y={OS:1024,MIS:1024};class b extends f.HandlerInterface{static createFactory(){return()=>new b}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome111"}close(){if(v.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const r=o.parse(t.sdp),n=u.extractRtpCapabilities({sdpObject:r});return p.addNackSuppportForOpus(n),n}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:y}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;this.assertNotClosed(),v.debug("run()"),this._direction=t,this._remoteSdp=new m.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),v.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),v.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;if(this.assertNotClosed(),this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),n&&n.length>1){n.forEach(((e,t)=>{e.rid="r".concat(t)}));let e=1,t=1;for(const r of n){const e=r.scalabilityMode?(0,g.parse)(r.scalabilityMode).temporalLayers:3;e>t&&(t=e)}for(const r of n)r.rid="r"+e++,r.scalabilityMode="L1T".concat(t)}const s=c.clone(this._sendingRtpParametersByKind[r.kind]);s.codecs=l.reduceCodecs(s.codecs,i);const p=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);p.codecs=l.reduceCodecs(p.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n}),m=await this._pc.createOffer();let y=o.parse(m.sdp);this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:y}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const b=f.mid;s.mid=b,y=o.parse(this._pc.localDescription.sdp);const _=y.media[h.idx];if(s.rtcp.cname=u.getCname({offerMediaObject:_}),n)if(1===n.length){const e=d.getRtpEncodings({offerMediaObject:_});Object.assign(e[0],n[0]),s.encodings=e}else s.encodings=n;else s.encodings=d.getRtpEncodings({offerMediaObject:_});this._remoteSdp.send({offerMediaObject:_,reuseMid:h.reuseMid,offerRtpParameters:s,answerRtpParameters:p,codecOptions:a,extmapAllowMixed:!0});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(b,f),{localId:b,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){if(this.assertSendDirection(),v.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}const r=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();v.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();v.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?v.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):v.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};v.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%y.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=o;v.debug("receive() [trackId:%s, kind:%s]",e,t);const i=r.mid||String(this._mapMidTransceiver.size);n.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a||r.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,r=n.get(e),a=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{trackId:e}=o,t=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===t));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(t,a),r.push({localId:t,track:a.receiver.track,rtpReceiver:a.receiver})}return r}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){v.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};v.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new h.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome111=b},564:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;const o=i(r(766)),s=r(8562),c=r(9992),l=i(r(3347)),u=i(r(5280)),d=i(r(2267)),p=i(r(9875)),h=r(9316),f=r(7910),m=new s.Logger("Chrome55"),g={OS:1024,MIS:1024};class v extends h.HandlerInterface{static createFactory(){return()=>new v}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const r=o.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}=e;m.debug("run()"),this._direction=t,this._remoteSdp=new f.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",d),video:u.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",d),video:u.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(m.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),i&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream);let s,c=await this._pc.createOffer(),h=o.parse(c.sdp);const f=l.clone(this._sendingRtpParametersByKind[r.kind]);f.codecs=u.reduceCodecs(f.codecs);const g=l.clone(this._sendingRemoteRtpParametersByKind[r.kind]);if(g.codecs=u.reduceCodecs(g.codecs),this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:h}),"video"===r.kind&&n&&n.length>1&&(m.debug("send() | enabling simulcast"),h=o.parse(c.sdp),s=h.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:n.length}),c={type:"offer",sdp:o.write(h)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c),h=o.parse(this._pc.localDescription.sdp),s=h.media.find((e=>e.type===r.kind)),f.rtcp.cname=d.getCname({offerMediaObject:s}),f.encodings=p.getRtpEncodings({offerMediaObject:s,track:r}),n)for(let o=0;o<f.encodings.length;++o)n[o]&&Object.assign(f.encodings[o],n[o]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const o of f.encodings)o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:g,codecOptions:a});const v={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,r),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not supported")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertRecvDirection();const r=[];for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:n}=o;m.debug("receive() [trackId:%s, kind:%s]",e,t);const a=t;this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:r,streamId:n||r.rtcp.cname,trackId:e})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let a=await this._pc.createAnswer();const i=o.parse(a.sdp);for(const o of e){const{kind:e,rtpParameters:t}=o,r=e,n=i.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})}a={type:"answer",sdp:o.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:i}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const o of e){const{kind:e,trackId:t,rtpParameters:n}=o,a=e,i=t,s=o.streamId||n.rtcp.cname,c=this._pc.getRemoteStreams().find((e=>e.id===s)).getTrackById(i);if(!c)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(i,{mid:a,rtpParameters:n}),r.push({localId:i,track:c})}return r}async stopReceiving(e){this.assertRecvDirection();for(const n of e){m.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)||{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=v},5697:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9875)),p=r(9316),h=r(7910),f=new s.Logger("Chrome67"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{static createFactory(){return()=>new g}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(f.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const r=o.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;f.debug("run()"),this._direction=t,this._remoteSdp=new h.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),i&&f.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream);let s,p=await this._pc.createOffer(),h=o.parse(p.sdp);const m=c.clone(this._sendingRtpParametersByKind[r.kind]);m.codecs=l.reduceCodecs(m.codecs);const g=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);if(g.codecs=l.reduceCodecs(g.codecs),this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:h}),"video"===r.kind&&n&&n.length>1&&(f.debug("send() | enabling simulcast"),h=o.parse(p.sdp),s=h.media.find((e=>"video"===e.type)),d.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:n.length}),p={type:"offer",sdp:o.write(h)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=o.parse(this._pc.localDescription.sdp),s=h.media.find((e=>e.type===r.kind)),m.rtcp.cname=u.getCname({offerMediaObject:s}),m.encodings=d.getRtpEncodings({offerMediaObject:s,track:r}),n)for(let o=0;o<m.encodings.length;++o)n[o]&&Object.assign(m.encodings[o],n[o]);if(m.encodings.length>1&&"video/vp8"===m.codecs[0].mimeType.toLowerCase())for(const o of m.encodings)o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:m,answerRtpParameters:g,codecOptions:a});const v={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===r));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:m,rtpSender:b}}async stopSending(e){this.assertSendDirection(),f.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void f.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};f.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertRecvDirection();const r=[];for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:n}=o;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=t;this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:r,streamId:n||r.rtcp.cname,trackId:e})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let a=await this._pc.createAnswer();const i=o.parse(a.sdp);for(const o of e){const{kind:e,rtpParameters:t}=o,r=e,n=i.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})}a={type:"answer",sdp:o.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:i}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const o of e){const{kind:e,trackId:t,rtpParameters:n}=o,a=t,i=e,s=this._pc.getReceivers().find((e=>e.track&&e.track.id===a));if(!s)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(a,{mid:i,rtpParameters:n,rtpReceiver:s}),r.push({localId:a,track:s.track,rtpReceiver:s})}return r}async stopReceiving(e){this.assertRecvDirection();for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)||{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:c,protocol:n};f.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=g},5372:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9072)),p=r(9316),h=r(7910),f=r(2770),m=new s.Logger("Chrome70"),g={OS:1024,MIS:1024};class v extends p.HandlerInterface{static createFactory(){return()=>new v}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const r=o.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;m.debug("run()"),this._direction=t,this._remoteSdp=new h.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(m.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",r.kind,r.id);const s=c.clone(this._sendingRtpParametersByKind[r.kind]);s.codecs=l.reduceCodecs(s.codecs,i);const p=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);p.codecs=l.reduceCodecs(p.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]});let v,y=await this._pc.createOffer(),b=o.parse(y.sdp);this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:b}),n&&n.length>1&&(m.debug("send() | enabling legacy simulcast"),b=o.parse(y.sdp),v=b.media[h.idx],d.addLegacySimulcast({offerMediaObject:v,numStreams:n.length}),y={type:"offer",sdp:o.write(b)});let _=!1;const w=(0,f.parse)((n||[{}])[0].scalabilityMode);if(n&&1===n.length&&w.spatialLayers>1&&"video/vp9"===s.codecs[0].mimeType.toLowerCase()&&(m.debug("send() | enabling legacy simulcast for VP9 SVC"),_=!0,b=o.parse(y.sdp),v=b.media[h.idx],d.addLegacySimulcast({offerMediaObject:v,numStreams:w.spatialLayers}),y={type:"offer",sdp:o.write(b)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y),n){m.debug("send() | applying given encodings");const e=g.sender.getParameters();for(let t=0;t<(e.encodings||[]).length;++t){const r=e.encodings[t],a=n[t];if(!a)break;e.encodings[t]=Object.assign(r,a)}await g.sender.setParameters(e)}const S=g.mid;if(s.mid=S,b=o.parse(this._pc.localDescription.sdp),v=b.media[h.idx],s.rtcp.cname=u.getCname({offerMediaObject:v}),s.encodings=d.getRtpEncodings({offerMediaObject:v}),n)for(let o=0;o<s.encodings.length;++o)n[o]&&Object.assign(s.encodings[o],n[o]);if(_&&(s.encodings=[s.encodings[0]]),s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const o of s.encodings)o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:v,reuseMid:h.reuseMid,offerRtpParameters:s,answerRtpParameters:p,codecOptions:a});const k={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.set(S,g),{localId:S,rtpParameters:s,rtpSender:g.sender}}async stopSending(e){this.assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}const r=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();m.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();m.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=o;m.debug("receive() [trackId:%s, kind:%s]",e,t);const i=r.mid||String(this._mapMidTransceiver.size);n.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a||r.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,r=n.get(e),a=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{trackId:e}=o,t=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===t));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(t,a),r.push({localId:t,track:a.receiver.track,rtpReceiver:a.receiver})}return r}async stopReceiving(e){this.assertRecvDirection();for(const n of e){m.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=v},6656:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9072)),p=i(r(8954)),h=r(9992),f=r(9316),m=r(7910),g=r(2770),v=new s.Logger("Chrome74"),y={OS:1024,MIS:1024};class b extends f.HandlerInterface{static createFactory(){return()=>new b}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if(v.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const r=o.parse(t.sdp),n=u.extractRtpCapabilities({sdpObject:r});return p.addNackSuppportForOpus(n),n}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:y}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;v.debug("run()"),this._direction=t,this._remoteSdp=new m.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),v.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),v.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertNotClosed(),this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),n&&n.length>1&&n.forEach(((e,t)=>{e.rid="r".concat(t)}));const s=c.clone(this._sendingRtpParametersByKind[r.kind]);s.codecs=l.reduceCodecs(s.codecs,i);const p=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);p.codecs=l.reduceCodecs(p.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let m,y=await this._pc.createOffer(),b=o.parse(y.sdp);this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:b});let _=!1;const w=(0,g.parse)((n||[{}])[0].scalabilityMode);n&&1===n.length&&w.spatialLayers>1&&"video/vp9"===s.codecs[0].mimeType.toLowerCase()&&(v.debug("send() | enabling legacy simulcast for VP9 SVC"),_=!0,b=o.parse(y.sdp),m=b.media[h.idx],d.addLegacySimulcast({offerMediaObject:m,numStreams:w.spatialLayers}),y={type:"offer",sdp:o.write(b)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const S=f.mid;if(s.mid=S,b=o.parse(this._pc.localDescription.sdp),m=b.media[h.idx],s.rtcp.cname=u.getCname({offerMediaObject:m}),n)if(1===n.length){let e=d.getRtpEncodings({offerMediaObject:m});Object.assign(e[0],n[0]),_&&(e=[e[0]]),s.encodings=e}else s.encodings=n;else s.encodings=d.getRtpEncodings({offerMediaObject:m});if(s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const o of s.encodings)o.scalabilityMode?o.scalabilityMode="L1T".concat(w.temporalLayers):o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:h.reuseMid,offerRtpParameters:s,answerRtpParameters:p,codecOptions:a,extmapAllowMixed:!0});const k={type:"answer",sdp:this._remoteSdp.getSdp()};return v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.set(S,f),{localId:S,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){if(this.assertSendDirection(),v.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}const r=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();v.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();v.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?v.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):v.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};v.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%y.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=o;v.debug("receive() [trackId:%s, kind:%s]",e,t);const i=r.mid||String(this._mapMidTransceiver.size);n.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a||r.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,r=n.get(e),a=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{trackId:e}=o,t=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===t));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(t,a),r.push({localId:t,track:a.receiver.track,rtpReceiver:a.receiver})}return r}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){v.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};v.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new h.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=b},7392:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;const o=r(8562),s=r(9992),c=i(r(3347)),l=i(r(5280)),u=i(r(3635)),d=r(9316),p=new o.Logger("Edge11");class h extends d.HandlerInterface{static createFactory(){return()=>new h}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){p.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){return p.debug("getNativeRtpCapabilities()"),u.getCapabilities()}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:u,proprietaryConstraints:d,extendedRtpCapabilities:h}=e;p.debug("run()"),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",h),video:l.getSendingRtpParameters("video",h)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=a,this._cname="CNAME-".concat(c.generateRandomNumber()),this.setIceGatherer({iceServers:o,iceTransportPolicy:s}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(e){throw new s.UnsupportedError("not supported")}async restartIce(e){if(p.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){p.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send(e){let{track:t,encodings:r,codecOptions:n,codec:a}=e;p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),p.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(t,this._dtlsTransport),o=c.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=l.reduceCodecs(o.codecs,a);const s=o.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));r||(r=[{}]);for(const l of r)l.ssrc=c.generateRandomNumber(),s&&(l.rtx={ssrc:c.generateRandomNumber()});o.encodings=r,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const d=u.mangleRtpParameters(o);p.debug("send() | calling rtpSender.send() [params:%o]",d),await i.send(d);const h=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(h,i),{localId:h,rtpParameters:o,rtpSender:i}}async stopSending(e){p.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{p.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(e){throw p.warn("stopSending() | rtpSender.stop() failed:%o",e),e}}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){t?p.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):p.debug("replaceTrack() [localId:%s, no track]",e);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(t)}async setMaxSpatialLayer(e,t){p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new s.UnsupportedError("not implemented")}async receive(e){const t=[];for(const r of e){const{trackId:e,kind:t}=r;p.debug("receive() [trackId:%s, kind:%s]",e,t)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of e){const{trackId:e,kind:n,rtpParameters:a}=r;p.debug("receive() | calling new RTCRtpReceiver()");const i=new RTCRtpReceiver(this._dtlsTransport,n);i.addEventListener("error",(e=>{p.error('rtpReceiver "error" event [event:%o]',e)}));const o=u.mangleRtpParameters(a);p.debug("receive() | calling rtpReceiver.receive() [params:%o]",o),await i.receive(o);const s=e;this._rtpReceivers.set(s,i),t.push({localId:s,track:i.track,rtpReceiver:i})}return t}async stopReceiving(e){for(const t of e){p.debug("stopReceiving() [localId:%s]",t);const r=this._rtpReceivers.get(t);if(!r)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(t);try{p.debug("stopReceiving() | calling rtpReceiver.stop()"),r.stop()}catch(e){p.warn("stopReceiving() | rtpReceiver.stop() failed:%o",e)}}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new s.UnsupportedError("not implemented")}setIceGatherer(e){let{iceServers:t,iceTransportPolicy:r}=e;const n=new RTCIceGatherer({iceServers:t||[],gatherPolicy:r||"all"});n.addEventListener("error",(e=>{p.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(t){p.debug("setIceGatherer() | iceGatherer.gather() failed: %s",t.toString())}this._iceGatherer=n}setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("icestatechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("candidatepairchange",(e=>{p.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=e}setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",(()=>{p.debug('dtlsTransport "statechange" event [state:%s]',e.state)})),e.addEventListener("dtlsstatechange",(()=>{p.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")})),e.addEventListener("error",(e=>{p.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=e}async setupTransport(e){let{localDtlsRole:t}=e;p.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:r},e,t)})),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm)),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=h},1419:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;const o=i(r(766)),s=r(8562),c=r(9992),l=i(r(3347)),u=i(r(5280)),d=i(r(2267)),p=i(r(9072)),h=r(9316),f=r(7910),m=r(2770),g=new s.Logger("Firefox60"),v={OS:16,MIS:2048};class y extends h.HandlerInterface{static createFactory(){return()=>new y}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(g.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){g.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const n=e.addTransceiver(r,{direction:"sendrecv"}),a=n.sender.getParameters(),i=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];a.encodings=i,await n.sender.setParameters(a);const s=await e.createOffer();try{t.remove()}catch(e){}try{r.stop()}catch(e){}try{e.close()}catch(e){}const c=o.parse(s.sdp);return d.extractRtpCapabilities({sdpObject:c})}catch(n){try{t.remove()}catch(e){}try{r.stop()}catch(e){}try{e.close()}catch(e){}throw n}}async getNativeSctpCapabilities(){return g.debug("getNativeSctpCapabilities()"),{numStreams:v}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}=e;this.assertNotClosed(),g.debug("run()"),this._direction=t,this._remoteSdp=new f.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",d),video:u.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",d),video:u.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(g.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw this.assertNotClosed(),new c.UnsupportedError("not supported")}async restartIce(e){if(this.assertNotClosed(),g.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});g.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();g.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:n,codec:a}=e;this.assertNotClosed(),this.assertSendDirection(),g.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=l.clone(r)).length>1&&(r.forEach(((e,t)=>{e.rid="r".concat(t)})),r.reverse());const i=l.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=u.reduceCodecs(i.codecs,a);const s=l.clone(this._sendingRemoteRtpParametersByKind[t.kind]);s.codecs=u.reduceCodecs(s.codecs,a);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const e=c.sender.getParameters();e.encodings=r,await c.sender.setParameters(e)}const h=await this._pc.createOffer();let f=o.parse(h.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:f});const v=(0,m.parse)((r||[{}])[0].scalabilityMode);g.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const y=c.mid;i.mid=y,f=o.parse(this._pc.localDescription.sdp);const b=f.media[f.media.length-1];if(i.rtcp.cname=d.getCname({offerMediaObject:b}),r)if(1===r.length){const e=p.getRtpEncodings({offerMediaObject:b});Object.assign(e[0],r[0]),i.encodings=e}else i.encodings=r.reverse();else i.encodings=p.getRtpEncodings({offerMediaObject:b});if(i.encodings.length>1&&("video/vp8"===i.codecs[0].mimeType.toLowerCase()||"video/h264"===i.codecs[0].mimeType.toLowerCase()))for(const o of i.encodings)o.scalabilityMode?o.scalabilityMode="L1T".concat(v.temporalLayers):o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:b,offerRtpParameters:i,answerRtpParameters:s,codecOptions:n,extmapAllowMixed:!0});const _={type:"answer",sdp:this._remoteSdp.getSdp()};return g.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(y,c),{localId:y,rtpParameters:i,rtpSender:c.sender}}async stopSending(e){if(this.assertSendDirection(),g.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();g.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),g.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();g.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),g.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();g.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?g.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):g.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),g.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");const n=r.sender.getParameters();t=n.encodings.length-1-t,n.encodings.forEach(((e,r)=>{e.active=r>=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();g.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),g.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();g.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};g.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%v.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:t}),g.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:n,streamId:a}=o;g.debug("receive() [trackId:%s, kind:%s]",e,t);const i=n.mid||String(this._mapMidTransceiver.size);r.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:n,streamId:a||n.rtcp.cname,trackId:e})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let a=await this._pc.createAnswer();const i=o.parse(a.sdp);for(const s of e){const{trackId:e,rtpParameters:t}=s,n=r.get(e),c=i.media.find((e=>String(e.mid)===n));d.applyCodecParameters({offerRtpParameters:t,answerMediaObject:c}),a={type:"answer",sdp:o.write(i)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:i}),g.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const o of e){const{trackId:e}=o,n=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===n));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(n,a),t.push({localId:n,track:a.receiver.track,rtpReceiver:a.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){g.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();g.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){g.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();g.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){g.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();g.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};g.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:e})}g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new c.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=y},9316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;const n=r(4493);class a extends n.EnhancedEventEmitter{constructor(){super()}}t.HandlerInterface=a},4770:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;const o=i(r(766)),s=r(8562),c=r(9992),l=i(r(3347)),u=i(r(5280)),d=i(r(2267)),p=i(r(9875)),h=r(9316),f=r(7910),m=new s.Logger("ReactNative"),g={OS:1024,MIS:1024};class v extends h.HandlerInterface{static createFactory(){return()=>new v}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(m.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const r=o.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}=e;m.debug("run()"),this._direction=t,this._remoteSdp=new f.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",d),video:u.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",d),video:u.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(m.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),i&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream);let s,c=await this._pc.createOffer(),h=o.parse(c.sdp);const f=l.clone(this._sendingRtpParametersByKind[r.kind]);f.codecs=u.reduceCodecs(f.codecs);const g=l.clone(this._sendingRemoteRtpParametersByKind[r.kind]);if(g.codecs=u.reduceCodecs(g.codecs),this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:h}),"video"===r.kind&&n&&n.length>1&&(m.debug("send() | enabling simulcast"),h=o.parse(c.sdp),s=h.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:n.length}),c={type:"offer",sdp:o.write(h)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c),h=o.parse(this._pc.localDescription.sdp),s=h.media.find((e=>e.type===r.kind)),f.rtcp.cname=d.getCname({offerMediaObject:s}),f.encodings=p.getRtpEncodings({offerMediaObject:s,track:r}),n)for(let o=0;o<f.encodings.length;++o)n[o]&&Object.assign(f.encodings[o],n[o]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase()))for(const o of f.encodings)o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:g,codecOptions:a});const v={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,r),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not implemented")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r}=o;m.debug("receive() [trackId:%s, kind:%s]",e,t);const a=t;let i=o.streamId||r.rtcp.cname;m.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),i+="-hack-".concat(l.generateRandomNumber()),n.set(e,i),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:r,streamId:i,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{kind:e,rtpParameters:t}=o,r=e,n=s.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{kind:e,trackId:t,rtpParameters:a}=o,i=t,s=e,c=n.get(t),l=this._pc.getRemoteStreams().find((e=>e.id===c)).getTrackById(i);if(!l)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(i,{mid:s,rtpParameters:a}),r.push({localId:i,track:l})}return r}async stopReceiving(e){this.assertRecvDirection();for(const n of e){m.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)||{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=v},3433:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeUnifiedPlan=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9072)),p=i(r(8954)),h=r(9992),f=r(9316),m=r(7910),g=r(2770),v=new s.Logger("ReactNativeUnifiedPlan"),y={OS:1024,MIS:1024};class b extends f.HandlerInterface{static createFactory(){return()=>new b}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(v.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const r=o.parse(t.sdp),n=u.extractRtpCapabilities({sdpObject:r});return p.addNackSuppportForOpus(n),n}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:y}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;this.assertNotClosed(),v.debug("run()"),this._direction=t,this._remoteSdp=new m.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),v.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),v.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){var t,r;let{track:n,encodings:a,codecOptions:i,codec:s}=e;this.assertNotClosed(),this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),a&&a.length>1&&a.forEach(((e,t)=>{e.rid="r".concat(t)}));const p=c.clone(this._sendingRtpParametersByKind[n.kind]);p.codecs=l.reduceCodecs(p.codecs,s);const h=c.clone(this._sendingRemoteRtpParametersByKind[n.kind]);h.codecs=l.reduceCodecs(h.codecs,s);const f=this._remoteSdp.getNextMediaSectionIdx(),m=this._pc.addTransceiver(n,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a});let y,b=await this._pc.createOffer(),_=o.parse(b.sdp);this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:_});let w=!1;const S=(0,g.parse)((a||[{}])[0].scalabilityMode);a&&1===a.length&&S.spatialLayers>1&&"video/vp9"===p.codecs[0].mimeType.toLowerCase()&&(v.debug("send() | enabling legacy simulcast for VP9 SVC"),w=!0,_=o.parse(b.sdp),y=_.media[f.idx],d.addLegacySimulcast({offerMediaObject:y,numStreams:S.spatialLayers}),b={type:"offer",sdp:o.write(_)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);let k=null!==(r=m.mid)&&void 0!==r?r:void 0;if(k||v.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),p.mid=k,_=o.parse(this._pc.localDescription.sdp),y=_.media[f.idx],p.rtcp.cname=u.getCname({offerMediaObject:y}),a)if(1===a.length){let e=d.getRtpEncodings({offerMediaObject:y});Object.assign(e[0],a[0]),w&&(e=[e[0]]),p.encodings=e}else p.encodings=a;else p.encodings=d.getRtpEncodings({offerMediaObject:y});if(p.encodings.length>1&&("video/vp8"===p.codecs[0].mimeType.toLowerCase()||"video/h264"===p.codecs[0].mimeType.toLowerCase()))for(const o of p.encodings)o.scalabilityMode?o.scalabilityMode="L1T".concat(S.temporalLayers):o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,reuseMid:f.reuseMid,offerRtpParameters:p,answerRtpParameters:h,codecOptions:i,extmapAllowMixed:!0});const E={type:"answer",sdp:this._remoteSdp.getSdp()};return v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E),k||(k=m.mid,p.mid=k),this._mapMidTransceiver.set(k,m),{localId:k,rtpParameters:p,rtpSender:m.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;v.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}const r=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();v.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();v.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?v.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):v.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};v.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%y.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=o;v.debug("receive() [trackId:%s, kind:%s]",e,t);const i=r.mid||String(this._mapMidTransceiver.size);n.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a||r.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,r=n.get(e),a=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{trackId:e}=o,t=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===t));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(t,a),r.push({localId:t,track:a.receiver.track,rtpReceiver:a.receiver})}return r}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){v.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};v.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new h.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNativeUnifiedPlan=b},2205:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9875)),p=r(9316),h=r(7910),f=new s.Logger("Safari11"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{static createFactory(){return()=>new g}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(f.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const r=o.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;f.debug("run()"),this._direction=t,this._remoteSdp=new h.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),i&&f.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream);let s,p=await this._pc.createOffer(),h=o.parse(p.sdp);const m=c.clone(this._sendingRtpParametersByKind[r.kind]);m.codecs=l.reduceCodecs(m.codecs);const g=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);if(g.codecs=l.reduceCodecs(g.codecs),this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:h}),"video"===r.kind&&n&&n.length>1&&(f.debug("send() | enabling simulcast"),h=o.parse(p.sdp),s=h.media.find((e=>"video"===e.type)),d.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:n.length}),p={type:"offer",sdp:o.write(h)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=o.parse(this._pc.localDescription.sdp),s=h.media.find((e=>e.type===r.kind)),m.rtcp.cname=u.getCname({offerMediaObject:s}),m.encodings=d.getRtpEncodings({offerMediaObject:s,track:r}),n)for(let o=0;o<m.encodings.length;++o)n[o]&&Object.assign(m.encodings[o],n[o]);if(m.encodings.length>1&&"video/vp8"===m.codecs[0].mimeType.toLowerCase())for(const o of m.encodings)o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:m,answerRtpParameters:g,codecOptions:a});const v={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===r));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:m,rtpSender:b}}async stopSending(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void f.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};f.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertRecvDirection();const r=[];for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:n}=o;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=t;this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:r,streamId:n||r.rtcp.cname,trackId:e})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let a=await this._pc.createAnswer();const i=o.parse(a.sdp);for(const o of e){const{kind:e,rtpParameters:t}=o,r=e,n=i.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})}a={type:"answer",sdp:o.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:i}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const o of e){const{kind:e,trackId:t,rtpParameters:n}=o,a=e,i=t,s=this._pc.getReceivers().find((e=>e.track&&e.track.id===i));if(!s)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(i,{mid:a,rtpParameters:n,rtpReceiver:s}),r.push({localId:i,track:s.track,rtpReceiver:s})}return r}async stopReceiving(e){this.assertRecvDirection();for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)||{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};f.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=g},9862:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;const o=i(r(766)),s=r(8562),c=i(r(3347)),l=i(r(5280)),u=i(r(2267)),d=i(r(9072)),p=i(r(8954)),h=r(9992),f=r(9316),m=r(7910),g=r(2770),v=new s.Logger("Safari12"),y={OS:1024,MIS:1024};class b extends f.HandlerInterface{static createFactory(){return()=>new b}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(v.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const r=o.parse(t.sdp),n=u.extractRtpCapabilities({sdpObject:r});return p.addNackSuppportForOpus(n),n}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:y}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}=e;this.assertNotClosed(),v.debug("run()"),this._direction=t,this._remoteSdp=new m.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),v.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),v.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){var t;let{track:r,encodings:n,codecOptions:a,codec:i}=e;this.assertNotClosed(),this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",r.kind,r.id);const s=c.clone(this._sendingRtpParametersByKind[r.kind]);s.codecs=l.reduceCodecs(s.codecs,i);const p=c.clone(this._sendingRemoteRtpParametersByKind[r.kind]);p.codecs=l.reduceCodecs(p.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]});let m,y=await this._pc.createOffer(),b=o.parse(y.sdp);this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:b});const _=(0,g.parse)((n||[{}])[0].scalabilityMode);n&&n.length>1&&(v.debug("send() | enabling legacy simulcast"),b=o.parse(y.sdp),m=b.media[h.idx],d.addLegacySimulcast({offerMediaObject:m,numStreams:n.length}),y={type:"offer",sdp:o.write(b)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const w=f.mid;if(s.mid=w,b=o.parse(this._pc.localDescription.sdp),m=b.media[h.idx],s.rtcp.cname=u.getCname({offerMediaObject:m}),s.encodings=d.getRtpEncodings({offerMediaObject:m}),n)for(let o=0;o<s.encodings.length;++o)n[o]&&Object.assign(s.encodings[o],n[o]);if(s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const o of s.encodings)o.scalabilityMode?o.scalabilityMode="L1T".concat(_.temporalLayers):o.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:h.reuseMid,offerRtpParameters:s,answerRtpParameters:p,codecOptions:a});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,f),{localId:w,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;v.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}const r=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();v.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),v.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();v.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?v.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):v.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();v.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};v.debug("sendDataChannel() [options:%o]",s);const c=this._pc.createDataChannel(a,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%y.MIS,!this._hasDataChannelMediaSection){var l;const e=await this._pc.createOffer(),t=o.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:null!==(l=this._forcedLocalDtlsRole)&&void 0!==l?l:"client",localSdpObject:t}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const n={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){var t;this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const o of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=o;v.debug("receive() [trackId:%s, kind:%s]",e,t);const i=r.mid||String(this._mapMidTransceiver.size);n.set(e,i),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a||r.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=o.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,r=n.get(e),a=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:o.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of e){const{trackId:e}=o,t=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===t));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(t,a),r.push({localId:t,track:a.receiver.track,rtpReceiver:a.receiver})}return r}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){v.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){v.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();v.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c}=t,l={negotiated:!0,id:a,ordered:i,maxPacketLifeTime:s,maxRetransmits:c,protocol:n};v.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){var d;const e=o.parse(t.sdp);await this.setupTransport({localDtlsRole:null!==(d=this._forcedLocalDtlsRole)&&void 0!==d?d:"client",localSdpObject:e})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=o.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:n},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new h.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=b},3635:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mangleRtpParameters=t.getCapabilities=void 0;const o=i(r(3347));t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=o.clone(e);for(const n of null!==(r=t.codecs)&&void 0!==r?r:[]){var r;if(n.channels=n.numChannels,delete n.numChannels,n.mimeType=n.mimeType||"".concat(n.kind,"/").concat(n.name),n.parameters){const e=n.parameters;e.apt&&(e.apt=Number(e.apt)),e["packetization-mode"]&&(e["packetization-mode"]=Number(e["packetization-mode"]))}for(const e of n.rtcpFeedback||[])e.parameter||(e.parameter="")}return t},t.mangleRtpParameters=function(e){const t=o.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t}},8954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNackSuppportForOpus=void 0,t.addNackSuppportForOpus=function(e){for(const r of e.codecs||[]){var t;"audio/opus"!==r.mimeType.toLowerCase()&&"audio/multiopus"!==r.mimeType.toLowerCase()||(null===(t=r.rtcpFeedback)||void 0===t?void 0:t.some((e=>"nack"===e.type&&!e.parameter)))||(r.rtcpFeedback||(r.rtcpFeedback=[]),r.rtcpFeedback.push({type:"nack"}))}}},6698:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;const o=i(r(766)),s=i(r(3347));class c{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:a=!1}=e;if(this._mediaObject={},this._planB=a,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const e of r){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}function l(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.MediaSection=c,t.AnswerMediaSection=class extends c{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:a,plainRtpParameters:i,planB:o=!1,offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:d,codecOptions:p,extmapAllowMixed:h=!1}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(c.mid),this._mediaObject.type=c.type,this._mediaObject.protocol=c.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),c.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of d.codecs){var f,m;const t={payload:e.payloadType,codec:l(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const r=null!==(f=s.clone(e.parameters))&&void 0!==f?f:{};let n=null!==(m=s.clone(e.rtcpFeedback))&&void 0!==m?m:[];if(p){const{opusStereo:t,opusFec:a,opusDtx:i,opusMaxPlaybackRate:o,opusMaxAverageBitrate:s,opusPtime:c,opusNack:l,videoGoogleStartBitrate:d,videoGoogleMaxBitrate:h,videoGoogleMinBitrate:f}=p,m=u.codecs.find((t=>t.payloadType===e.payloadType));switch(e.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":void 0!==t&&(m.parameters["sprop-stereo"]=t?1:0,r.stereo=t?1:0),void 0!==a&&(m.parameters.useinbandfec=a?1:0,r.useinbandfec=a?1:0),void 0!==i&&(m.parameters.usedtx=i?1:0,r.usedtx=i?1:0),void 0!==o&&(r.maxplaybackrate=o),void 0!==s&&(r.maxaveragebitrate=s),void 0!==c&&(m.parameters.ptime=c,r.ptime=c),l||(m.rtcpFeedback=m.rtcpFeedback.filter((e=>"nack"!==e.type||e.parameter)),n=n.filter((e=>"nack"!==e.type||e.parameter)));break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==d&&(r["x-google-start-bitrate"]=d),void 0!==h&&(r["x-google-max-bitrate"]=h),void 0!==f&&(r["x-google-min-bitrate"]=f)}}const a={payload:e.payloadType,config:""};for(const e of Object.keys(r))a.config&&(a.config+=";"),a.config+="".concat(e,"=").concat(r[e]);a.config&&this._mediaObject.fmtp.push(a);for(const i of n)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:i.type,subtype:i.parameter})}this._mediaObject.payloads=d.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of d.headerExtensions)(c.ext||[]).some((t=>t.uri===e.uri))&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(h&&"extmap-allow-mixed"===c.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),c.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:c.simulcast.list1},this._mediaObject.rids=[];for(const e of c.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(c.simulcast_03){this._mediaObject.simulcast_03={value:c.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of c.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"==typeof c.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=a.port,this._mediaObject.maxMessageSize=a.maxMessageSize):c.sctpmap&&(this._mediaObject.payloads=a.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:a.port,maxMessageSize:a.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(e){if(!this._mediaObject.simulcast||!this._mediaObject.simulcast.list1)return;const t={};for(const i of e)i.rid&&(t[i.rid]=i);const r=this._mediaObject.simulcast.list1,n=o.parseSimulcastStreamList(r);for(const i of n)for(const e of i){var a;e.paused=!(null!==(a=t[e.scid])&&void 0!==a&&a.active)}this._mediaObject.simulcast.list1=n.map((e=>e.map((e=>"".concat(e.paused?"~":"").concat(e.scid))).join(","))).join(";")}},t.OfferMediaSection=class extends c{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:a,plainRtpParameters:i,planB:o=!1,mid:s,kind:c,offerRtpParameters:u,streamId:d,trackId:p,oldDataChannelSpec:h=!1}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(s),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=a?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid="".concat(d||"-"," ").concat(p));for(const n of u.codecs){const e={payload:n.payloadType,codec:l(n),rate:n.clockRate};n.channels>1&&(e.encoding=n.channels),this._mediaObject.rtp.push(e);const t={payload:n.payloadType,config:""};for(const r of Object.keys(n.parameters))t.config&&(t.config+=";"),t.config+="".concat(r,"=").concat(n.parameters[r]);t.config&&this._mediaObject.fmtp.push(t);for(const r of n.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:n.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads=u.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const n of u.headerExtensions)this._mediaObject.ext.push({uri:n.uri,value:n.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=u.encodings[0],t=e.ssrc,r=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],u.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:u.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:"".concat(d||"-"," ").concat(p)}),r&&(u.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:"cname",value:u.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:r,attribute:"msid",value:"".concat(d||"-"," ").concat(p)}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(t," ").concat(r)}));break}case"application":h?(this._mediaObject.payloads=a.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:a.port,maxMessageSize:a.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=a.port,this._mediaObject.maxMessageSize=a.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive(e){let{offerRtpParameters:t,streamId:r,trackId:n}=e;const a=t.encodings[0],i=a.ssrc,o=a.rtx&&a.rtx.ssrc?a.rtx.ssrc:void 0,s=this._mediaObject.payloads.split(" ");for(const c of t.codecs){if(s.includes(String(c.payloadType)))continue;const e={payload:c.payloadType,codec:l(c),rate:c.clockRate};c.channels>1&&(e.encoding=c.channels),this._mediaObject.rtp.push(e);const t={payload:c.payloadType,config:""};for(const r of Object.keys(c.parameters))t.config&&(t.config+=";"),t.config+="".concat(r,"=").concat(c.parameters[r]);t.config&&this._mediaObject.fmtp.push(t);for(const r of c.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:c.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads+=" ".concat(t.codecs.filter((e=>!this._mediaObject.payloads.includes(e.payloadType))).map((e=>e.payloadType)).join(" ")),this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:"".concat(r||"-"," ").concat(n)}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:"".concat(r||"-"," ").concat(n)}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(i," ").concat(o)}))}planBStopReceiving(e){let{offerRtpParameters:t}=e;const r=t.encodings[0],n=r.ssrc,a=r.rtx&&r.rtx.ssrc?r.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((e=>e.id!==n&&e.id!==a)),a&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((e=>e.ssrcs!=="".concat(n," ").concat(a))))}}},7910:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;const o=i(r(766)),s=r(8562),c=r(6698),l=new s.Logger("RemoteSdp");t.RemoteSdp=class{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:a,plainRtpParameters:i,planB:o=!1}=e;if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=a,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(e){l.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){l.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send(e){let{offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:a,codecOptions:i,extmapAllowMixed:o=!1}=e;const s=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:a,codecOptions:i,extmapAllowMixed:o});r?this._replaceMediaSection(s,r):this._midToIndex.has(s.mid)?this._replaceMediaSection(s):this._addMediaSection(s)}receive(e){let{mid:t,kind:r,offerRtpParameters:n,streamId:a,trackId:i}=e;const o=this._midToIndex.get(t);let s;if(void 0!==o&&(s=this._mediaSections[o]),s)s.planBReceive({offerRtpParameters:n,streamId:a,trackId:i}),this._replaceMediaSection(s);else{s=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:a,trackId:i});const e=this._mediaSections.find((e=>e.closed));e?this._replaceMediaSection(s,e.mid):this._addMediaSection(s)}}pauseMediaSection(e){this._findMediaSection(e).pause()}resumeSendingMediaSection(e){this._findMediaSection(e).resume()}resumeReceivingMediaSection(e){this._findMediaSection(e).resume()}disableMediaSection(e){this._findMediaSection(e).disable()}closeMediaSection(e){const t=this._findMediaSection(e);return e===this._firstMid?(l.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),this.disableMediaSection(e),!1):(t.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(e,t){const r=this._findMediaSection(e);r.muxSimulcastStreams(t),this._replaceMediaSection(r)}planBStopReceiving(e){let{mid:t,offerRtpParameters:r}=e;const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation(e){let{offerMediaObject:t}=e;const r=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation(){let{oldDataChannelSpec:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,o.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"==typeof t){const r=this._midToIndex.get(t);if(void 0===r)throw new Error("no media section found for reuseMid '".concat(t,"'"));const n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error("no media section found with mid '".concat(e.mid,"'"));this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_findMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));return this._mediaSections[t]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((e=>!e.closed)).map((e=>e.mid)).join(" "))}}},2267:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodecParameters=t.getCname=t.extractDtlsParameters=t.extractRtpCapabilities=void 0;const o=i(r(766));t.extractRtpCapabilities=function(e){let{sdpObject:t}=e;const r=new Map,n=[];let a=!1,i=!1;for(const s of t.media){const e=s.type;switch(e){case"audio":if(a)continue;a=!0;break;case"video":if(i)continue;i=!0;break;default:continue}for(const t of s.rtp){const n={kind:e,mimeType:"".concat(e,"/").concat(t.codec),preferredPayloadType:t.payload,clockRate:t.rate,channels:t.encoding,parameters:{},rtcpFeedback:[]};r.set(n.preferredPayloadType,n)}for(const t of s.fmtp||[]){const e=o.parseParams(t.config),n=r.get(t.payload);n&&(e&&e.hasOwnProperty("profile-level-id")&&(e["profile-level-id"]=String(e["profile-level-id"])),n.parameters=e)}for(const t of s.rtcpFb||[]){const n={type:t.type,parameter:t.subtype};if(n.parameter||delete n.parameter,"*"!==t.payload){const e=r.get(t.payload);if(!e)continue;e.rtcpFeedback.push(n)}else for(const t of r.values())t.kind!==e||/.+\/rtx$/i.test(t.mimeType)||t.rtcpFeedback.push(n)}for(const t of s.ext||[]){if(t["encrypt-uri"])continue;const r={kind:e,uri:t.uri,preferredId:t.value};n.push(r)}}return{codecs:Array.from(r.values()),headerExtensions:n}},t.extractDtlsParameters=function(e){let t,{sdpObject:r}=e,n=r.setup,a=r.fingerprint;if(!n||!a){var i,o;const e=(r.media||[]).find((e=>0!==e.port));e&&(null!==(i=n)&&void 0!==i||(n=e.setup),null!==(o=a)&&void 0!==o||(a=e.fingerprint))}if(!n)throw new Error("no a=setup found at SDP session or media level");if(!a)throw new Error("no a=fingerprint found at SDP session or media level");switch(n){case"active":t="client";break;case"passive":t="server";break;case"actpass":t="auto"}return{role:t,fingerprints:[{algorithm:a.type,value:a.hash}]}},t.getCname=function(e){let{offerMediaObject:t}=e;const r=(t.ssrcs||[]).find((e=>"cname"===e.attribute));return r?r.value:""},t.applyCodecParameters=function(e){let{offerRtpParameters:t,answerMediaObject:r}=e;for(const n of t.codecs){const e=n.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(r.rtp||[]).find((e=>e.payload===n.payloadType)))continue;r.fmtp=r.fmtp||[];let t=r.fmtp.find((e=>e.payload===n.payloadType));t||(t={payload:n.payloadType,config:""},r.fmtp.push(t));const a=o.parseParams(t.config);switch(e){case"audio/opus":{const e=n.parameters["sprop-stereo"];void 0!==e&&(a.stereo=e?1:0);break}}t.config="";for(const r of Object.keys(a))t.config&&(t.config+=";"),t.config+="".concat(r,"=").concat(a[r])}}},9875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){let t,{offerMediaObject:r,track:n}=e;const a=new Set;for(const s of r.ssrcs||[])if("msid"===s.attribute&&s.value.split(" ")[1]===n.id){const e=s.id;a.add(e),t||(t=e)}if(0===a.size)throw new Error("a=ssrc line with msid information not found [track.id:".concat(n.id,"]"));const i=new Map;for(const s of r.ssrcGroups||[]){if("FID"!==s.semantics)continue;let[e,t]=s.ssrcs.split(/\s+/);e=Number(e),t=Number(t),a.has(e)&&(a.delete(e),a.delete(t),i.set(e,t))}for(const s of a)i.set(s,null);const o=[];for(const[s,c]of i){const e={ssrc:s};c&&(e.rtx={ssrc:c}),o.push(e)}return o},t.addLegacySimulcast=function(e){let t,r,n,{offerMediaObject:a,track:i,numStreams:o}=e;if(o<=1)throw new TypeError("numStreams must be greater than 1");if(!(a.ssrcs||[]).find((e=>"msid"===e.attribute&&e.value.split(" ")[1]===i.id&&(t=e.id,n=e.value.split(" ")[0],!0))))throw new Error("a=ssrc line with msid information not found [track.id:".concat(i.id,"]"));(a.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const n=e.ssrcs.split(/\s+/);return Number(n[0])===t&&(r=Number(n[1]),!0)}));const s=a.ssrcs.find((e=>"cname"===e.attribute&&e.id===t));if(!s)throw new Error("a=ssrc line with cname information not found [track.id:".concat(i.id,"]"));const c=s.value,l=[],u=[];for(let d=0;d<o;++d)l.push(t+d),r&&u.push(r+d);a.ssrcGroups=a.ssrcGroups||[],a.ssrcs=a.ssrcs||[],a.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let d=0;d<l.length;++d){const e=l[d];a.ssrcs.push({id:e,attribute:"cname",value:c}),a.ssrcs.push({id:e,attribute:"msid",value:"".concat(n," ").concat(i.id)})}for(let d=0;d<u.length;++d){const e=l[d],t=u[d];a.ssrcs.push({id:t,attribute:"cname",value:c}),a.ssrcs.push({id:t,attribute:"msid",value:"".concat(n," ").concat(i.id)}),a.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(e," ").concat(t)})}}},9072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){let{offerMediaObject:t}=e;const r=new Set;for(const i of t.ssrcs||[]){const e=i.id;r.add(e)}if(0===r.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const i of t.ssrcGroups||[]){if("FID"!==i.semantics)continue;let[e,t]=i.ssrcs.split(/\s+/);e=Number(e),t=Number(t),r.has(e)&&(r.delete(e),r.delete(t),n.set(e,t))}for(const i of r)n.set(i,null);const a=[];for(const[i,o]of n){const e={ssrc:i};o&&(e.rtx={ssrc:o}),a.push(e)}return a},t.addLegacySimulcast=function(e){let{offerMediaObject:t,numStreams:r}=e;if(r<=1)throw new TypeError("numStreams must be greater than 1");const n=(t.ssrcs||[]).find((e=>"msid"===e.attribute));if(!n)throw new Error("a=ssrc line with msid information not found");const[a,i]=n.value.split(" "),o=n.id;let s;(t.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===o&&(s=Number(t[1]),!0)}));const c=t.ssrcs.find((e=>"cname"===e.attribute));if(!c)throw new Error("a=ssrc line with cname information not found");const l=c.value,u=[],d=[];for(let p=0;p<r;++p)u.push(o+p),s&&d.push(s+p);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:u.join(" ")});for(let p=0;p<u.length;++p){const e=u[p];t.ssrcs.push({id:e,attribute:"cname",value:l}),t.ssrcs.push({id:e,attribute:"msid",value:"".concat(a," ").concat(i)})}for(let p=0;p<d.length;++p){const e=u[p],r=d[p];t.ssrcs.push({id:r,attribute:"cname",value:l}),t.ssrcs.push({id:r,attribute:"msid",value:"".concat(a," ").concat(i)}),t.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(e," ").concat(r)})}}},960:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;const s=o(r(1227));t.debug=s.default;const c=r(3120);Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=i(r(53));t.types=l,t.version="3.7.2";var u=r(2770);Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return u.parse}})},5280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canReceive=t.canSend=t.generateProbatorRtpParameters=t.reduceCodecs=t.getSendingRemoteRtpParameters=t.getSendingRtpParameters=t.getRecvRtpCapabilities=t.getExtendedRtpCapabilities=t.validateSctpStreamParameters=t.validateSctpParameters=t.validateNumSctpStreams=t.validateSctpCapabilities=t.validateRtcpParameters=t.validateRtpEncodingParameters=t.validateRtpHeaderExtensionParameters=t.validateRtpCodecParameters=t.validateRtpParameters=t.validateRtpHeaderExtension=t.validateRtcpFeedback=t.validateRtpCodecCapability=t.validateRtpCapabilities=void 0;const o=i(r(4115)),s=i(r(3347));function c(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&"number"!=typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!=typeof t&&"number"!=typeof t)throw new TypeError("invalid codec parameter [key:".concat(n,"s, value:").concat(t,"]"));if("apt"===n&&"number"!=typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)l(n)}function l(e){if("object"!=typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!=typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"==typeof e.parameter||(e.parameter="")}function u(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!=typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!=typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function d(e){if("object"!=typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!=typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)p(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)h(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)f(t);if(e.rtcp&&"object"!=typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),m(e.rtcp)}function p(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if("number"!=typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===r[1].toLowerCase()?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!=typeof t&&"number"!=typeof t)throw new TypeError("invalid codec parameter [key:".concat(n,"s, value:").concat(t,"]"));if("apt"===n&&"number"!=typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)l(n)}function h(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!=typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(void 0===r&&(e.parameters[t]="",r=""),"string"!=typeof r&&"number"!=typeof r)throw new TypeError("invalid header extension parameter")}}function f(e){if("object"!=typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!=typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!=typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!=typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!=typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!=typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){if("object"!=typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!=typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"==typeof e.reducedSize||(e.reducedSize=!0)}function g(e){if("object"!=typeof e)throw new TypeError("numStreams is not an object");if("number"!=typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!=typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function v(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function y(e,t){let{strict:r=!1,modify:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.mimeType.toLowerCase();if(a!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(a){case"video/h264":if(r){if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(!o.isSameProfile(e.parameters,t.parameters))return!1;let r;try{r=o.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch(e){return!1}n&&(r?(e.parameters["profile-level-id"]=r,t.parameters["profile-level-id"]=r):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(r&&(e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function b(e,t){return(!e.kind||!t.kind||e.kind===t.kind)&&e.uri===t.uri}function _(e,t){const r=[];for(const n of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find((e=>e.type===n.type&&(e.parameter===n.parameter||!e.parameter&&!n.parameter)));e&&r.push(e)}return r}t.validateRtpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)c(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)u(t)},t.validateRtpCodecCapability=c,t.validateRtcpFeedback=l,t.validateRtpHeaderExtension=u,t.validateRtpParameters=d,t.validateRtpCodecParameters=p,t.validateRtpHeaderExtensionParameters=h,t.validateRtpEncodingParameters=f,t.validateRtcpParameters=m,t.validateSctpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!=typeof e.numStreams)throw new TypeError("missing caps.numStreams");g(e.numStreams)},t.validateNumSctpStreams=g,t.validateSctpParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.port)throw new TypeError("missing params.port");if("number"!=typeof e.OS)throw new TypeError("missing params.OS");if("number"!=typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!=typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;if("boolean"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!=typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!=typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.label&&"string"!=typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!=typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs||[]){if(v(n))continue;const t=(e.codecs||[]).find((e=>y(e,n,{strict:!0,modify:!0})));if(!t)continue;const a={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:n.parameters,rtcpFeedback:_(t,n)};r.codecs.push(a)}for(const n of r.codecs){const r=e.codecs.find((e=>v(e)&&e.parameters.apt===n.localPayloadType)),a=t.codecs.find((e=>v(e)&&e.parameters.apt===n.remotePayloadType));r&&a&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=a.preferredPayloadType)}for(const n of t.headerExtensions){const t=e.headerExtensions.find((e=>b(e,n)));if(!t)continue;const a={kind:n.kind,uri:n.uri,sendId:t.preferredId,recvId:n.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":a.direction="sendrecv";break;case"recvonly":a.direction="sendonly";break;case"sendonly":a.direction="recvonly";break;case"inactive":a.direction="inactive"}r.headerExtensions.push(a)}return r},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const e={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(e),!r.remoteRtxPayloadType)continue;const n={mimeType:"".concat(r.kind,"/rtx"),kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(n)}for(const r of e.headerExtensions){if("sendrecv"!==r.direction&&"recvonly"!==r.direction)continue;const e={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(e)}return t},t.getSendingRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:"".concat(n.kind,"/rtx"),payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}return r},t.getSendingRemoteRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:"".concat(n.kind,"/rtx"),payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}if(r.headerExtensions.some((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter((e=>"goog-remb"!==e.type));else if(r.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type));else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type&&"goog-remb"!==e.type));return r},t.reduceCodecs=function(e,t){const r=[];if(t){for(let n=0;n<e.length;++n)if(y(e[n],t)){r.push(e[n]),v(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError("no matching codec found")}else r.push(e[0]),v(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){d(e=s.clone(e));const t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((t=>t.kind===e))},t.canReceive=function(e,t){if(d(e),0===e.codecs.length)return!1;const r=e.codecs[0];return t.codecs.some((e=>e.remotePayloadType===r.payloadType))}},2770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const r=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){const t=r.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},53:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(3120),t),a(r(5202),t),a(r(6569),t),a(r(9514),t),a(r(5504),t),a(r(1623),t),a(r(4879),t),a(r(7669),t),a(r(9316),t),a(r(9992),t)},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumber=t.clone=void 0,t.clone=function(e){return void 0===e?void 0:Number.isNaN(e)?NaN:"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},7824:e=>{var t=1e3,r=60*t,n=60*r,a=24*n;function i(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,o){o=o||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===s&&isFinite(e))return o.long?function(e){var o=Math.abs(e);return o>=a?i(e,o,a,"day"):o>=n?i(e,o,n,"hour"):o>=r?i(e,o,r,"minute"):o>=t?i(e,o,t,"second"):e+" ms"}(e):function(e){var i=Math.abs(e);return i>=a?Math.round(e/a)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7576:(e,t,r)=>{const{EventEmitter:n}=r(7187),a=r(3417);e.exports=class extends n{constructor(e){super(),this.setMaxListeners(1/0),this._logger=e||new a("EnhancedEventEmitter")}safeEmit(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit(e,...r)}catch(r){this._logger.error("safeEmit() | event listener threw an error [event:%s]:%o",e,r)}}async safeEmitAsPromise(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{this.safeEmit(e,...r,t,n)}))}}},3417:(e,t,r)=>{const n=r(1227),a="protoo-client";e.exports=class{constructor(e){e?(this._debug=n("".concat(a,":").concat(e)),this._warn=n("".concat(a,":WARN:").concat(e)),this._error=n("".concat(a,":ERROR:").concat(e))):(this._debug=n(a),this._warn=n("".concat(a,":WARN")),this._error=n("".concat(a,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6508:(e,t,r)=>{const n=r(3417),{generateRandomNumber:a}=r(5654),i=new n("Message");e.exports=class{static parse(e){let t;const r={};try{t=JSON.parse(e)}catch(e){return void i.error("parse() | invalid JSON: %s",e)}if("object"==typeof t&&!Array.isArray(t)){if(t.request){if(r.request=!0,"string"!=typeof t.method)return void i.error("parse() | missing/invalid method field");if("number"!=typeof t.id)return void i.error("parse() | missing/invalid id field");r.id=t.id,r.method=t.method,r.data=t.data||{}}else if(t.response){if(r.response=!0,"number"!=typeof t.id)return void i.error("parse() | missing/invalid id field");r.id=t.id,t.ok?(r.ok=!0,r.data=t.data||{}):(r.ok=!1,r.errorCode=t.errorCode,r.errorReason=t.errorReason)}else{if(!t.notification)return void i.error("parse() | missing request/response field");if(r.notification=!0,"string"!=typeof t.method)return void i.error("parse() | missing/invalid method field");r.method=t.method,r.data=t.data||{}}return r}i.error("parse() | not an object")}static createRequest(e,t){return{request:!0,id:a(),method:e,data:t||{}}}static createSuccessResponse(e,t){return{response:!0,id:e.id,ok:!0,data:t||{}}}static createErrorResponse(e,t,r){return{response:!0,id:e.id,ok:!1,errorCode:t,errorReason:r}}static createNotification(e,t){return{notification:!0,method:e,data:t||{}}}}},7502:(e,t,r)=>{const n=r(3417),a=r(7576),i=r(6508),o=new n("Peer");e.exports=class extends a{constructor(e){super(o),o.debug("constructor()"),this._closed=!1,this._transport=e,this._connected=!1,this._data={},this._sents=new Map,this._handleTransport()}get closed(){return this._closed}get connected(){return this._connected}get data(){return this._data}set data(e){throw new Error("cannot override data object")}close(){if(!this._closed){o.debug("close()"),this._closed=!0,this._connected=!1,this._transport.close();for(const e of this._sents.values())e.close();this.safeEmit("close")}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=i.createRequest(e,t);return this._logger.debug("request() [method:%s, id:%s]",e,r.id),await this._transport.send(r),new Promise(((e,t)=>{const n=1500*(15+.1*this._sents.size),a={id:r.id,method:r.method,resolve:t=>{this._sents.delete(r.id)&&(clearTimeout(a.timer),e(t))},reject:e=>{this._sents.delete(r.id)&&(clearTimeout(a.timer),t(e))},timer:setTimeout((()=>{this._sents.delete(r.id)&&t(new Error("request timeout"))}),n),close:()=>{clearTimeout(a.timer),t(new Error("peer closed"))}};this._sents.set(r.id,a)}))}async notify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=i.createNotification(e,t);this._logger.debug("notify() [method:%s]",e),await this._transport.send(r)}_handleTransport(){if(this._transport.closed)return this._closed=!0,void setTimeout((()=>{this._closed||(this._connected=!1,this.safeEmit("close"))}));this._transport.on("open",(()=>{this._closed||(o.debug('emit "open"'),this._connected=!0,this.safeEmit("open"))})),this._transport.on("disconnected",(()=>{this._closed||(o.debug('emit "disconnected"'),this._connected=!1,this.safeEmit("disconnected"))})),this._transport.on("failed",(e=>{this._closed||(o.debug('emit "failed" [currentAttempt:%s]',e),this._connected=!1,this.safeEmit("failed",e))})),this._transport.on("close",(()=>{this._closed||(this._closed=!0,o.debug('emit "close"'),this._connected=!1,this.safeEmit("close"))})),this._transport.on("message",(e=>{e.request?this._handleRequest(e):e.response?this._handleResponse(e):e.notification&&this._handleNotification(e)}))}_handleRequest(e){try{this.emit("request",e,(t=>{const r=i.createSuccessResponse(e,t);this._transport.send(r).catch((()=>{}))}),((t,r)=>{t instanceof Error?(r=t.message,t=500):"number"==typeof t&&r instanceof Error&&(r=r.message);const n=i.createErrorResponse(e,t,r);this._transport.send(n).catch((()=>{}))}))}catch(t){const n=i.createErrorResponse(e,500,String(t));this._transport.send(n).catch((()=>{}))}}_handleResponse(e){const t=this._sents.get(e.id);if(t)if(e.ok)t.resolve(e.data);else{const r=new Error(e.errorReason);r.code=e.errorCode,t.reject(r)}else o.error("received response does not match any sent request [id:%s]",e.id)}_handleNotification(e){this.safeEmit("notification",e)}}},9293:(e,t,r)=>{const{version:n}=r(7002),a=r(7502),i=r(2165);t._z=a,t.qo=i},2165:(e,t,r)=>{const n=r(5840).w3cwebsocket,a=r(9353),i=r(3417),o=r(7576),s=r(6508),c={retries:10,factor:2,minTimeout:1e3,maxTimeout:8e3},l=new i("WebSocketTransport");e.exports=class extends o{constructor(e,t){super(l),l.debug("constructor() [url:%s, options:%o]",e,t),this._closed=!1,this._url=e,this._options=t||{},this._ws=null,this._runWebSocket()}get closed(){return this._closed}close(){if(!this._closed){l.debug("close()"),this._closed=!0,this.safeEmit("close");try{this._ws.onopen=null,this._ws.onclose=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.close()}catch(e){l.error("close() | error closing the WebSocket: %o",e)}}}async send(e){if(this._closed)throw new Error("transport closed");try{this._ws.send(JSON.stringify(e))}catch(e){throw l.warn("send() failed:%o",e),e}}_runWebSocket(){const e=a.operation(this._options.retry||c);let t=!1;e.attempt((r=>{this._closed?e.stop():(l.debug("_runWebSocket() [currentAttempt:%s]",r),this._ws=new n(this._url,"protoo",this._options.origin,this._options.headers,this._options.requestOptions,this._options.clientConfig),this._ws.onopen=()=>{this._closed||(t=!0,this.safeEmit("open"))},this._ws.onclose=n=>{if(!this._closed){if(l.warn('WebSocket "close" event [wasClean:%s, code:%s, reason:"%s"]',n.wasClean,n.code,n.reason),4e3!==n.code){if(t){if(e.stop(),this.safeEmit("disconnected"),this._closed)return;return void this._runWebSocket()}if(this.safeEmit("failed",r),this._closed)return;if(e.retry(!0))return}this._closed=!0,this.safeEmit("close")}},this._ws.onerror=()=>{this._closed||l.error('WebSocket "error" event')},this._ws.onmessage=e=>{if(this._closed)return;const t=s.parse(e.data);t&&(0!==this.listenerCount("message")?this.safeEmit("message",t):l.error('no listeners for WebSocket "message" event, ignoring received message'))})}))}}},5654:(e,t)=>{t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},4375:(e,t,r)=>{let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},3196:e=>{"use strict";e.exports=function(e){var t,r,n="",a=(e=function(e){return e||(e={}),{length:e.length||8,numeric:"boolean"!=typeof e.numeric||e.numeric,letters:"boolean"!=typeof e.letters||e.letters,special:"boolean"==typeof e.special&&e.special,exclude:Array.isArray(e.exclude)?e.exclude:[]}}(e)).length,i=(e.exclude,function(e){var t="";e.numeric&&(t+="0123456789"),e.letters&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e.special&&(t+="!$%^&*()_+|~-=`{}[]:;<>?,./");for(var r=0;r<=e.exclude.length;r++)t=t.replace(e.exclude[r],"");return t}(e));for(t=1;t<=a;t++)n+=i.substring(r=Math.floor(Math.random()*i.length),r+1);return n}},9353:(e,t,r)=>{e.exports=r(1846)},1846:(e,t,r)=>{var n=r(1960);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],a=0;a<t.retries;a++)n.push(this.createTimeout(a,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(a,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var a in n=[],e)"function"==typeof e[a]&&n.push(a);for(var i=0;i<n.length;i++){var o=n[i],s=e[o];e[o]=function(n){var a=t.operation(r),i=Array.prototype.slice.call(arguments,1),o=i.pop();i.push((function(e){a.retry(e)||(e&&(arguments[0]=a.mainError()),o.apply(this,arguments))})),a.attempt((function(){n.apply(e,i)}))}.bind(e,s),e[o].options=r}}},1960:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,a=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&a.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var a=this._errors[n],i=a.message,o=(e[i]||0)+1;e[i]=o,o>=r&&(t=a,r=o)}return t}},6692:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},766:(e,t,r)=>{var n=r(962),a=r(5776);t.write=a,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},962:(e,t,r)=>{var n=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,r){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,r,a){if(a&&!r)t[a]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(6692),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(o))return a(c,n,o)}})),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),a=0;a<r.length;a+=3)t.push({component:r[a],ip:r[a+1],port:r[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},5776:(e,t,r)=>{var n=r(6692),a=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(a,(function(e){if(t>=n)return e;var a=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?n.push(r[t.name][o]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||s,a=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))})),e.media.forEach((function(e){i.push(o("m",n.m[0],e)),a.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"}},2238:function(e,t,r){var n;!function(a,i){"use strict";var o="function",s="undefined",c="object",l="string",u="major",d="model",p="name",h="type",f="vendor",m="version",g="architecture",v="console",y="mobile",b="tablet",_="smarttv",w="wearable",S="embedded",k="Amazon",E="Apple",R="ASUS",x="BlackBerry",C="Browser",P="Chrome",T="Firefox",O="Google",D="Huawei",I="LG",M="Microsoft",j="Motorola",L="Opera",N="Samsung",A="Sharp",B="Sony",F="Xiaomi",U="Zebra",z="Facebook",W="Chromium OS",V="Mac OS",H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===l&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},K=function(e,t){for(var r,n,a,s,l,u,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(r=n=0;r<p.length&&!l&&p[r];)if(l=p[r++].exec(e))for(a=0;a<h.length;a++)u=l[++n],typeof(s=h[a])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):i:this[s[0]]=u?s[1].call(this,u,s[2]):i:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):i):this[s]=u||i;d+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(q(t[r][n],e))return"?"===r?i:r}else if(q(t[r],e))return"?"===r?i:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[p,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],m],[/\bfocus\/([\w\.]+)/i],[m,[p,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[m,[p,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+C]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+C],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,N+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,z],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,P+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,G]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,N],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,N],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,E],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,E],[h,b]],[/(macintosh);/i],[d,[f,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,A],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,D],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,D],[h,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,F],[h,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,F],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[h,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,j],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,j],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,I],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,I],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[h,y]],[/(pixel c)\b/i],[d,[f,O],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,O],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,B],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,B],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,k],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,k],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,x],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,R],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,R],[h,y]],[/(nexus 9)/i],[d,[f,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[h,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[h,b]],[/(surface duo)/i],[d,[f,M],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[h,y]],[/(u304aa)/i],[d,[f,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[h,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[h,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[h,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[f,d,[h,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,M],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,U],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,U],[h,y]],[/smart-tv.+(samsung)/i],[f,[h,_]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,N],[h,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,I],[h,_]],[/(apple) ?tv/i],[f,[d,E+" TV"],[h,_]],[/crkey/i],[[d,P+"cast"],[f,O],[h,_]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,k],[h,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,A],[h,_]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,B],[h,_]],[/(mitv-\w{5}) bui/i],[d,[f,F],[h,_]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[h,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Z],[d,Z],[h,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[h,v]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[h,v]],[/(playstation [345portablevi]+)/i],[d,[f,B],[h,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,M],[h,v]],[/((pebble))app/i],[f,d,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,E],[h,w]],[/droid.+; (glass) \d/i],[d,[f,O],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,U],[h,w]],[/(quest( 2| pro)?)/i],[d,[f,z],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,S]],[/(aeobc)\b/i],[d,[f,k],[h,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,J,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,J,Q],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,V],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},$=function(e,t){if(typeof e===c&&(t=e,e=i),!(this instanceof $))return new $(e,t).getResult();var r=typeof a!==s&&a.navigator?a.navigator:i,n=e||(r&&r.userAgent?r.userAgent:""),v=r&&r.userAgentData?r.userAgentData:i,_=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Y,t):Y,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=i,t[m]=i,K.call(t,n,_.browser),t[u]=typeof(e=t[m])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=i,K.call(e,n,_.cpu),e},this.getDevice=function(){var e={};return e[f]=i,e[d]=i,e[h]=i,K.call(e,n,_.device),w&&!e[h]&&v&&v.mobile&&(e[h]=y),w&&"Macintosh"==e[d]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[p]=i,e[m]=i,K.call(e,n,_.engine),e},this.getOS=function(){var e={};return e[p]=i,e[m]=i,K.call(e,n,_.os),w&&!e[p]&&v&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,W).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>500?Z(e,500):e,this},this.setUA(n),this};$.VERSION="1.0.37",$.BROWSER=H([p,m,u]),$.CPU=H([g]),$.DEVICE=H([d,f,h,v,y,_,b,w,S]),$.ENGINE=$.OS=H([p,m]),typeof t!==s?(e.exports&&(t=e.exports=$),t.UAParser=$):r.amdO?(n=function(){return $}.call(t,r,t,e))===i||(e.exports=n):typeof a!==s&&(a.UAParser=$);var X=typeof a!==s&&(a.jQuery||a.Zepto);if(X&&!X.ua){var ee=new $;X.ua=ee.getResult(),X.ua.get=function(){return ee.getUA()},X.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)X.ua[r]=t[r]}}}("object"==typeof window?window:this)},5840:(e,t,r)=>{var n;if("object"==typeof globalThis)n=globalThis;else try{n=r(284)}catch(e){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw new Error("Could not determine global this")}var a=n.WebSocket||n.MozWebSocket,i=r(9387);function o(e,t){return t?new a(e,t):new a(e)}a&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return a[e]}})})),e.exports={w3cwebsocket:a?o:null,version:i}},9387:(e,t,r)=>{e.exports=r(9794).version},7147:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DOMException:()=>w,Headers:()=>u,Request:()=>v,Response:()=>b,fetch:()=>S});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},a={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(a.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function h(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a.arrayBuffer&&a.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(a.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,a,i=d(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=p(t=new FileReader),a=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,a),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=c(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},a.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,a,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(a=(r=t.method||this.method||"GET").toUpperCase(),g.indexOf(a)>-1?a:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var w=n.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function S(e,t){return new Promise((function(r,i){var o=new v(e,t);if(o.signal&&o.signal.aborted)return i(new w("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var a=r.join(":").trim();try{t.append(n,a)}catch(e){console.warn("Response "+e.message)}}})),t)};0===o.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var a="response"in l?l.response:l.responseText;setTimeout((function(){r(new b(a,n))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){i(new w("Aborted","AbortError"))}),0)},l.open(o.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&(a.blob?l.responseType="blob":a.arrayBuffer&&(l.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof u||n.Headers&&t.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){p.push(s(e)),l.setRequestHeader(e,c(t.headers[e]))})),o.headers.forEach((function(e,t){-1===p.indexOf(t)&&l.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&o.signal.removeEventListener("abort",d)}),l.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,n.fetch||(n.fetch=S,n.Headers=u,n.Request=v,n.Response=b)},2480:()=>{},7061:(e,t,r)=>{var n=r(8698).default;function a(){"use strict";e.exports=a=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),o=new M(n||[]);return s(i,"_invoke",{value:T(e,r,o)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=h;var m="suspendedStart",g="suspendedYield",v="executing",y="completed",b={};function _(){}function w(){}function S(){}var k={};p(k,l,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(j([])));R&&R!==i&&o.call(R,l)&&(k=R);var x=S.prototype=_.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,s,c){var l=f(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var a;s(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}})}function T(e,r,n){var a=m;return function(i,o){if(a===v)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?y:g,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=y,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(o.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=S,s(x,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:w,configurable:!0}),w.displayName=p(S,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,p(e,d,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},C(P.prototype),p(P.prototype,u,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,a,i){void 0===i&&(i=Promise);var o=new P(h(e,t,n,a),i);return r.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(x),p(x,d,"Generator"),p(x,l,(function(){return this})),p(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=j,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;I(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:(e,t,r)=>{var n=r(7061)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},907:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:()=>n})},5861:(e,t,r)=>{"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)}))}}r.d(t,{Z:()=>a})},5671:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})},3144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(9142);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,n.Z)(a.key),a)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(9142);function a(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},885:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(907),a=r(181);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(1002);function a(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=(0,n.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,n.Z)(t)?t:String(t)}},1002:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>n})},181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(907);function a(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},7002:e=>{"use strict";e.exports=JSON.parse('{"name":"protoo-client","version":"4.0.6","description":"protoo JavaScript client module","author":"I\xf1aki Baz Castillo <ibc@aliax.net>","homepage":"https://protoo.versatica.com","license":"MIT","repository":{"type":"git","url":"https://github.com/ibc/protoo.git"},"main":"lib/index.js","keywords":["nodejs","browser","websocket"],"engines":{"node":">=8.0.0"},"scripts":{"lint":"eslint -c .eslintrc.js lib"},"dependencies":{"debug":"^4.3.1","events":"^3.2.0","retry":"^0.12.0"},"devDependencies":{"eslint":"^5.16.0"},"optionalDependencies":{"websocket":"^1.0.33"}}')},9794:e=>{"use strict";e.exports={version:"1.0.34"}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(8225)})(),e.exports=t()},948:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(r){return!1}}function s(e,t,r){var a={};return r.isMergeableObject(e)&&i(e).forEach((function(t){a[t]=n(e[t],r)})),i(t).forEach((function(i){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(o(e,i)&&r.isMergeableObject(t[i])?a[i]=function(e,t){if(!t.customMerge)return c;var r=t.customMerge(e);return"function"===typeof r?r:c}(i,r)(e[i],t[i],r):a[i]=n(t[i],r))})),a}function c(e,r,i){(i=i||{}).arrayMerge=i.arrayMerge||a,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=n;var o=Array.isArray(r);return o===Array.isArray(e)?o?i.arrayMerge(e,r,i):s(e,r,i):n(r,i)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return c(e,r,t)}),{})};var l=c;e.exports=l},465:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,a,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var a,i,o,l;if(s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if("function"===typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=u.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"===typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):f(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){n.once&&e.removeEventListener(t,a),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,a,i,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},802:function(e,t,r){var n,a,i;a=[],void 0===(i="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,r){var s=o.URL||o.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):a(c.href)?n(e,t,r):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,o){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),r);else if(a(e))n(e,r,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var i="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=c.saveAs=c,e.exports=c})?n.apply(t,a):n)||(e.exports=i)},102:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,n,a){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof n&&(a=n,n={}),n=n||{},a=a||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async=!("async"in n)||!!n.async,o.src=e,n.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(o,n.attrs),n.text&&(o.text=""+n.text),("onload"in o?t:r)(o,a),o.onload||t(o,a),i.appendChild(o)}},781:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(a=e[r],i=t[r],!(a===i||n(a)&&n(i)))return!1;var a,i;return!0}const i=function(e,t){var r;void 0===t&&(t=a);var n,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&r===this&&t(a,i)||(n=e.apply(this,a),o=!0,r=this,i=a),n}}},888:(e,t,r)=>{"use strict";var n=r(47);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},7:(e,t,r)=>{e.exports=r(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,r)=>{"use strict";var n=r(791),a=r(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var N,A=Object.assign;function B(e){if(void 0===N)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var c="\n"+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case R:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return W(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ie(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Re(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function xe(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Oe=!1;function De(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Pe(e,t,r)}finally{Oe=!1,(null!==ke||null!==Ee)&&(Te(),Ce())}}function Ie(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Me=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Me=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){Me=!1}function Le(e,t,r,n,a,i,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var Ne=!1,Ae=null,Be=!1,Fe=null,Ue={onError:function(e){Ne=!0,Ae=e}};function ze(e,t,r,n,a,i,o,s,c){Ne=!1,Ae=null,Le.apply(Ue,arguments)}function We(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return He(a),e;if(o===n)return He(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=o;break}if(c===n){s=!0,n=a,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=a;break}if(c===n){s=!0,n=o,r=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,Rt,xt=!1,Ct=[],Pt=null,Tt=null,Ot=null,Dt=new Map,It=new Map,Mt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Nt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function At(e){var t=ya(e.target);if(null!==t){var r=We(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void Rt(e.priority,(function(){kt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&St(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);_e=n,r.target.dispatchEvent(n),_e=null,t.shift()}return!0}function Ft(e,t,r){Bt(e)&&r.delete(t)}function Ut(){xt=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Ot&&Bt(Ot)&&(Ot=null),Dt.forEach(Ft),It.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Wt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),null!==Ot&&zt(Ot,e),Dt.forEach(t),It.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)At(r),null===r.blockedOn&&Mt.shift()}var Vt=_.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,r,n){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Zt(e,t,r,n)}finally{bt=a,Vt.transition=i}}function Gt(e,t,r,n){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Zt(e,t,r,n)}finally{bt=a,Vt.transition=i}}function Zt(e,t,r,n){if(Ht){var a=Jt(e,t,r,n);if(null===a)Hn(e,t,n,Kt,r),Lt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Pt=Nt(Pt,e,t,r,n,a),!0;case"dragenter":return Tt=Nt(Tt,e,t,r,n,a),!0;case"mouseover":return Ot=Nt(Ot,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dt.set(i,Nt(Dt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Nt(It.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<jt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Jt(e,t,r,n))&&Hn(e,t,n,Kt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Kt=null;function Jt(e,t,r,n){if(Kt=null,null!==(e=ya(e=we(n))))if(null===(t=We(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=$t,n=r.length,a="value"in Yt?Yt.value:Yt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ar(cr),ur=A({},cr,{view:0,detail:0}),dr=ar(ur),pr=A({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),hr=ar(pr),fr=ar(A({},pr,{dataTransfer:0})),mr=ar(A({},ur,{relatedTarget:0})),gr=ar(A({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=A({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(vr),br=ar(A({},cr,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Er(){return kr}var Rr=A({},ur,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xr=ar(Rr),Cr=ar(A({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(A({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Tr=ar(A({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=A({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=ar(Or),Ir=[9,13,27,32],Mr=u&&"CompositionEvent"in window,jr=null;u&&"documentMode"in document&&(jr=document.documentMode);var Lr=u&&"TextEvent"in window&&!jr,Nr=u&&(!Mr||jr&&8<jr&&11>=jr),Ar=String.fromCharCode(32),Br=!1;function Fr(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function Hr(e,t,r,n){xe(n),0<(t=Gn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,Gr=null;function Zr(e){Bn(e,0)}function Kr(e){if(Z(_a(e)))return e}function Jr(e,t){if("change"===e)return t}var Qr=!1;if(u){var Yr;if(u){var $r="oninput"in document;if(!$r){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),$r="function"===typeof Xr.oninput}Yr=$r}else Yr=!1;Qr=Yr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),Gr=qr=null)}function tn(e){if("value"===e.propertyName&&Kr(Gr)){var t=[];Hr(t,Gr,e,we(e)),De(Zr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Gr)}function an(e,t){if("click"===e)return Kr(t)}function on(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var o=un(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,bn=!1;function _n(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==K(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&cn(yn,n)||(yn=n,0<(n=Gn(vn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},kn={},En={};function Rn(e){if(kn[e])return kn[e];if(!Sn[e])return e;var t,r=Sn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return kn[e]=r[t];return e}u&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var xn=Rn("animationend"),Cn=Rn("animationiteration"),Pn=Rn("animationstart"),Tn=Rn("transitionend"),On=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){On.set(e,t),c(t,[e])}for(var Mn=0;Mn<Dn.length;Mn++){var jn=Dn[Mn];In(jn.toLowerCase(),"on"+(jn[0].toUpperCase()+jn.slice(1)))}In(xn,"onAnimationEnd"),In(Cn,"onAnimationIteration"),In(Pn,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Tn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function An(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,c,l){if(ze.apply(this,arguments),Ne){if(!Ne)throw Error(i(198));var u=Ae;Ne=!1,Ae=null,Be||(Be=!0,Fe=u)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;An(a,s,l),i=c}else for(o=0;o<n.length;o++){if(c=(s=n[o]).instance,l=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;An(a,s,l),i=c}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[zn]){e[zn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Nn.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Un("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Zt}r=a.bind(null,t,r,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(c=o.tag)||6===c){n=i=o;continue e}s=s.parentNode}}n=n.return}De((function(){var n=i,a=we(r),o=[];e:{var s=On.get(e);if(void 0!==s){var c=lr,l=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":c=xr;break;case"focusin":l="focus",c=mr;break;case"focusout":l="blur",c=mr;break;case"beforeblur":case"afterblur":c=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Pr;break;case xn:case Cn:case Pn:c=gr;break;case Tn:c=Tr;break;case"scroll":c=dr;break;case"wheel":c=Dr;break;case"copy":case"cut":case"paste":c=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cr}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var h,f=n;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Ie(f,p))&&u.push(qn(f,m,h)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,r,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===_e||!(l=r.relatedTarget||r.fromElement)||!ya(l)&&!l[fa])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(l=(l=r.relatedTarget||r.toElement)?ya(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=n),c!==l)){if(u=hr,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cr,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==c?s:_a(c),h=null==l?s:_a(l),(s=new u(m,f+"leave",c,r,a)).target=d,s.relatedTarget=h,m=null,ya(a)===n&&((u=new u(p,f+"enter",l,r,a)).target=h,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(p=l,f=0,h=u=c;h;h=Zn(h))f++;for(h=0,m=p;m;m=Zn(m))h++;for(;0<f-h;)u=Zn(u),f--;for(;0<h-f;)p=Zn(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Zn(u),p=Zn(p)}u=null}else u=null;null!==c&&Kn(o,s,c,u,!1),null!==l&&null!==d&&Kn(o,d,l,u,!0)}if("select"===(c=(s=n?_a(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Jr;else if(Vr(s))if(Qr)g=on;else{g=nn;var v=rn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(o,g,r,a):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?_a(n):window,e){case"focusin":(Vr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,_n(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":_n(o,r,a)}var y;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Fr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(y=er()):($t="value"in(Yt=a)?Yt.value:Yt.textContent,zr=!0)),0<(v=Gn(n,b)).length&&(b=new br(b,e,null,r,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Br=!0,Ar);case"textInput":return(e=t.data)===Ar&&Br?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Mr&&Fr(e,t)?(e=er(),Xt=$t=Yt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Bn(o,t)}))}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,r))&&n.unshift(qn(e,i,a)),null!=(i=Ie(e,t))&&n.push(qn(e,i,a))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==l&&(s=l,a?null!=(c=Ie(r,i))&&o.unshift(qn(r,c,s)):a||null!=(c=Ie(r,i))&&o.push(qn(r,c,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Jn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Jn,"\n").replace(Qn,"")}function $n(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(i(425))}function Xn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout((function(){throw e}))}function ca(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Wt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Wt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,ha="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fa]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[pa])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[pa]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var Sa=[],ka=-1;function Ea(e){return{current:e}}function Ra(e){0>ka||(e.current=Sa[ka],Sa[ka]=null,ka--)}function xa(e,t){ka++,Sa[ka]=e.current,e.current=t}var Ca={},Pa=Ea(Ca),Ta=Ea(!1),Oa=Ca;function Da(e,t){var r=e.type.contextTypes;if(!r)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Ra(Ta),Ra(Pa)}function ja(e,t,r){if(Pa.current!==Ca)throw Error(i(168));xa(Pa,t),xa(Ta,r)}function La(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return A({},r,n)}function Na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Oa=Pa.current,xa(Pa,e),xa(Ta,Ta.current),!0}function Aa(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=La(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,Ra(Ta),Ra(Pa),xa(Pa,e)):Ra(Ta),xa(Ta,r)}var Ba=null,Fa=!1,Ua=!1;function za(e){null===Ba?Ba=[e]:Ba.push(e)}function Wa(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=bt;try{var r=Ba;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ze(Xe,Wa),a}finally{bt=t,Ua=!1}}return null}var Va=[],Ha=0,qa=null,Ga=0,Za=[],Ka=0,Ja=null,Qa=1,Ya="";function $a(e,t){Va[Ha++]=Ga,Va[Ha++]=qa,qa=e,Ga=t}function Xa(e,t,r){Za[Ka++]=Qa,Za[Ka++]=Ya,Za[Ka++]=Ja,Ja=e;var n=Qa;e=Ya;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Qa=1<<32-ot(t)+a|r<<a|n,Ya=i+e}else Qa=1<<i|r<<a|n,Ya=e}function ei(e){null!==e.return&&($a(e,1),Xa(e,1,0))}function ti(e){for(;e===qa;)qa=Va[--Ha],Va[Ha]=null,Ga=Va[--Ha],Va[Ha]=null;for(;e===Ja;)Ja=Za[--Ka],Za[Ka]=null,Ya=Za[--Ka],Za[Ka]=null,Qa=Za[--Ka],Za[Ka]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=Il(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ja?{id:Qa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Il(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(ci(e))throw Error(i(418));t=la(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(ci(e))throw pi(),Error(i(418));for(;t;)oi(e,t),t=la(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=la(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?la(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ni;e;)e=la(e.nextSibling)}function hi(){ni=ri=null,ai=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=_.ReactCurrentBatchConfig;function gi(e,t){if(e&&e.defaultProps){for(var r in t=A({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var vi=Ea(null),yi=null,bi=null,_i=null;function wi(){_i=bi=yi=null}function Si(e){var t=vi.current;Ra(vi),e._currentValue=t}function ki(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){yi=e,_i=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===yi)throw Error(i(308));bi=e,yi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var xi=null;function Ci(e){null===xi?xi=[e]:xi.push(e)}function Pi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ci(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ti(e,n)}function Ti(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Oi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ti(e,r)}return null===(a=n.interleaved)?(t.next=t,Ci(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ti(e,r)}function Li(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ni(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ai(e,t,r,n){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===o?i=l:o.next=l,o=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var d=a.baseState;for(o=0,u=l=c=null,s=i;;){var p=s.lane,h=s.eventTime;if((n&p)===p){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=r,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=A({},d,p);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=h,c=d):u=u.next=h,o|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===u&&(c=d),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ac|=o,e.lanes=o,e.memoizedState=d}}function Bi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Fi=(new n.Component).refs;function Ui(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:A({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var zi={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tl(),a=rl(e),i=Mi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ji(e,i,a))&&(nl(t,e,a,n),Li(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tl(),a=rl(e),i=Mi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ji(e,i,a))&&(nl(t,e,a,n),Li(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tl(),n=rl(e),a=Mi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=ji(e,a,n))&&(nl(t,e,n,r),Li(t,e,n))}};function Wi(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(a,i))}function Vi(e,t,r){var n=!1,a=Ca,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(a=Ia(t)?Oa:Pa.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Da(e,a):Ca),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function qi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=Fi,Di(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ri(i):(i=Ia(t)?Oa:Pa.current,a.context=Da(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&zi.enqueueReplaceState(a,a.state,null),Ai(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Fi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Zi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ki(e){return(0,e._init)(e._payload)}function Ji(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Bl(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){var i=r.type;return i===k?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&Ki(i)===t.type)?((n=a(t,r.props)).ref=Gi(e,t,r),n.return=e,n):((n=Ll(r.type,r.key,r.props,null,e.mode,n)).ref=Gi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fl(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Nl(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Ll(t.type,t.key,t.props,null,e.mode,r)).ref=Gi(e,null,t),r.return=e,r;case S:return(t=Fl(t,e.mode,r)).return=e,t;case I:return p(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Nl(t,e.mode,r,null)).return=e,t;Zi(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?l(e,t,r,n):null;case S:return r.key===a?u(e,t,r,n):null;case I:return h(e,t,(a=r._init)(r._payload),n)}if(te(r)||L(r))return null!==a?null:d(e,t,r,n,null);Zi(e,r)}return null}function f(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case I:return f(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||L(n))return d(t,e=e.get(r)||null,n,a,null);Zi(t,n)}return null}function m(a,i,s,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(a,d),ai&&$a(a,m),l;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],c))&&(i=o(d,i,m),null===u?l=d:u.sibling=d,u=d);return ai&&$a(a,m),l}for(d=n(a,d);m<s.length;m++)null!==(g=f(d,a,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ai&&$a(a,m),l}function g(a,s,c,l){var u=L(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(a,m),ai&&$a(a,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=p(a,y.value,l))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return ai&&$a(a,g),u}for(m=n(a,m);!y.done;g++,y=c.next())null!==(y=f(m,a,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&$a(a,g),u}return function e(n,i,o,c){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,u=i;null!==u;){if(u.key===l){if((l=o.type)===k){if(7===u.tag){r(n,u.sibling),(i=a(u,o.props.children)).return=n,n=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&Ki(l)===u.type){r(n,u.sibling),(i=a(u,o.props)).ref=Gi(n,u,o),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===k?((i=Nl(o.props.children,n.mode,c,o.key)).return=n,n=i):((c=Ll(o.type,o.key,o.props,null,n.mode,c)).ref=Gi(n,i,o),c.return=n,n=c)}return s(n);case S:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Fl(o,n.mode,c)).return=n,n=i}return s(n);case I:return e(n,i,(u=o._init)(o._payload),c)}if(te(o))return m(n,i,o,c);if(L(o))return g(n,i,o,c);Zi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Bl(o,n.mode,c)).return=n,n=i),s(n)):r(n,i)}}var Qi=Ji(!0),Yi=Ji(!1),$i={},Xi=Ea($i),eo=Ea($i),to=Ea($i);function ro(e){if(e===$i)throw Error(i(174));return e}function no(e,t){switch(xa(to,t),xa(eo,e),xa(Xi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ra(Xi),xa(Xi,t)}function ao(){Ra(Xi),Ra(eo),Ra(to)}function io(e){ro(to.current);var t=ro(Xi.current),r=ce(t,e.type);t!==r&&(xa(eo,e),xa(Xi,r))}function oo(e){eo.current===e&&(Ra(Xi),Ra(eo))}var so=Ea(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var po=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,fo=0,mo=null,go=null,vo=null,yo=!1,bo=!1,_o=0,wo=0;function So(){throw Error(i(321))}function ko(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Eo(e,t,r,n,a,o){if(fo=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=null===e||null===e.memoizedState?ss:cs,e=r(n,a),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(i(301));o+=1,vo=go=null,t.updateQueue=null,po.current=ls,e=r(n,a)}while(bo)}if(po.current=os,t=null!==go&&null!==go.next,fo=0,vo=go=mo=null,yo=!1,t)throw Error(i(300));return e}function Ro(){var e=0!==_o;return _o=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(i(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Po(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Co(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=go,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var c=s=null,l=null,u=o;do{var d=u.lane;if((fo&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=p,s=n):l=l.next=p,mo.lanes|=d,Ac|=d}u=u.next}while(null!==u&&u!==o);null===l?s=n:l.next=c,sn(n,t.memoizedState)||(_s=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Ac|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oo(e){var t=Co(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Do(){}function Io(e,t){var r=mo,n=Co(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,_s=!0),n=n.queue,Ho(Lo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(r.flags|=2048,Fo(9,jo.bind(null,r,n,a,t),void 0,null),null===Oc)throw Error(i(349));0!==(30&fo)||Mo(r,t,a)}return a}function Mo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function jo(e,t,r,n){t.value=r,t.getSnapshot=n,No(t)&&Ao(e)}function Lo(e,t,r){return r((function(){No(t)&&Ao(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ao(e){var t=Ti(e,1);null!==t&&nl(t,e,1,-1)}function Bo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function zo(e,t,r,n){var a=xo();mo.flags|=e,a.memoizedState=Fo(1|t,r,void 0,void 0===n?null:n)}function Wo(e,t,r,n){var a=Co();n=void 0===n?null:n;var i=void 0;if(null!==go){var o=go.memoizedState;if(i=o.destroy,null!==n&&ko(n,o.deps))return void(a.memoizedState=Fo(t,r,i,n))}mo.flags|=e,a.memoizedState=Fo(1|t,r,i,n)}function Vo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Wo(2048,8,e,t)}function qo(e,t){return Wo(4,2,e,t)}function Go(e,t){return Wo(4,4,e,t)}function Zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Wo(4,4,Zo.bind(null,t,e),r)}function Jo(){}function Qo(e,t){var r=Co();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ko(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yo(e,t){var r=Co();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ko(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $o(e,t,r){return 0===(21&fo)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),mo.lanes|=r,Ac|=r,e.baseState=!0),t)}function Xo(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=r,ho.transition=n}}function es(){return Co().memoizedState}function ts(e,t,r){var n=rl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))as(t,r);else if(null!==(r=Pi(e,t,r,n))){nl(r,e,n,tl()),is(r,t,n)}}function rs(e,t,r){var n=rl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var c=t.interleaved;return null===c?(a.next=a,Ci(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(l){}null!==(r=Pi(e,t,a,n))&&(nl(r,e,n,a=tl()),is(r,t,n))}}function ns(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=yo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function is(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var os={readContext:Ri,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:Ri,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Vo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,zo(4194308,4,Zo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var r=xo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,mo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Bo,useDebugValue:Jo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Xo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mo,a=xo();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Oc)throw Error(i(349));0!==(30&fo)||Mo(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Vo(Lo.bind(null,n,o,e),[e]),n.flags|=2048,Fo(9,jo.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xo(),t=Oc.identifierPrefix;if(ai){var r=Ya;t=":"+t+"R"+(r=(Qa&~(1<<32-ot(Qa)-1)).toString(32)+r),0<(r=_o++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ri,useCallback:Qo,useContext:Ri,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Yo,useReducer:To,useRef:Uo,useState:function(){return To(Po)},useDebugValue:Jo,useDeferredValue:function(e){return $o(Co(),go.memoizedState,e)},useTransition:function(){return[To(Po)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ri,useCallback:Qo,useContext:Ri,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Yo,useReducer:Oo,useRef:Uo,useState:function(){return Oo(Po)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Oo(Po)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Mi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qc||(qc=!0,Gc=n),ps(0,t)},r}function ms(e,t,r){(r=Mi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ps(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ps(0,t),"function"!==typeof n&&(null===Zc?Zc=new Set([this]):Zc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=xl.bind(null,e,t,r),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Mi(-1,1)).tag=2,ji(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,r,n){t.child=null===e?Yi(t,null,r,n):Qi(t,e.child,r,n)}function Ss(e,t,r,n,a){r=r.render;var i=t.ref;return Ei(t,a),n=Eo(e,t,r,n,i,a),r=Ro(),null===e||_s?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function ks(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Ml(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ll(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Es(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(o,n)&&e.ref===t.ref)return qs(e,t,a)}return t.flags|=1,(e=jl(i,n)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(cn(i,n)&&e.ref===t.ref){if(_s=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,qs(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Cs(e,t,r,n,a)}function Rs(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xa(jc,Mc),Mc|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xa(jc,Mc),Mc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,xa(jc,Mc),Mc|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,xa(jc,Mc),Mc|=n;return ws(e,t,a,r),t.child}function xs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,r,n,a){var i=Ia(r)?Oa:Pa.current;return i=Da(t,i),Ei(t,a),r=Eo(e,t,r,n,i,a),n=Ro(),null===e||_s?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function Ps(e,t,r,n,a){if(Ia(r)){var i=!0;Na(t)}else i=!1;if(Ei(t,a),null===t.stateNode)Hs(e,t),Vi(t,r,n),qi(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=Ri(l):l=Da(t,l=Ia(r)?Oa:Pa.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||c!==l)&&Hi(t,o,n,l),Oi=!1;var p=t.memoizedState;o.state=p,Ai(t,n,o,a),c=t.memoizedState,s!==n||p!==c||Ta.current||Oi?("function"===typeof u&&(Ui(t,r,u,n),c=t.memoizedState),(s=Oi||Wi(t,r,s,n,p,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ii(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:gi(t.type,s),o.props=l,d=t.pendingProps,p=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=Ri(c):c=Da(t,c=Ia(r)?Oa:Pa.current);var h=r.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==c)&&Hi(t,o,n,c),Oi=!1,p=t.memoizedState,o.state=p,Ai(t,n,o,a);var f=t.memoizedState;s!==d||p!==f||Ta.current||Oi?("function"===typeof h&&(Ui(t,r,h,n),f=t.memoizedState),(l=Oi||Wi(t,r,l,n,p,f,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=c,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ts(e,t,r,n,i,a)}function Ts(e,t,r,n,a,i){xs(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Aa(t,r,!1),qs(e,t,i);n=t.stateNode,bs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Qi(t,e.child,null,i),t.child=Qi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=n.state,a&&Aa(t,r,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),no(e,t.containerInfo)}function Ds(e,t,r,n,a){return hi(),fi(a),t.flags|=256,ws(e,t,r,n),t.child}var Is,Ms,js,Ls,Ns={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,r){var n,a=t.pendingProps,o=so.current,s=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xa(so,1&o),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,s?(a=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Al(c,a,0,null),e=Nl(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(r),t.memoizedState=Ns,e):Fs(t,c));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,Us(e,t,s,n=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Al({mode:"visible",children:n.children},a,0,null),(o=Nl(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Qi(t,e.child,null,s),t.child.memoizedState=As(s),t.memoizedState=Ns,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var c=n.dgst;return n=c,Us(e,t,s,n=ds(o=Error(i(419)),n,void 0))}if(c=0!==(s&e.childLanes),_s||c){if(null!==(n=Oc)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ti(e,a),nl(n,e,a,-1))}return gl(),Us(e,t,s,n=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=la(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Za[Ka++]=Qa,Za[Ka++]=Ya,Za[Ka++]=Ja,Qa=e.id,Ya=e.overflow,Ja=t),t=Fs(t,n.children),t.flags|=4096,t)}(e,t,c,a,n,o,r);if(s){s=a.fallback,c=t.mode,n=(o=e.child).sibling;var l={mode:"hidden",children:a.children};return 0===(1&c)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null):(a=jl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=jl(n,s):(s=Nl(s,c,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,c=null===(c=e.child.memoizedState)?As(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~r,t.memoizedState=Ns,a}return e=(s=e.child).sibling,a=jl(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Al({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,r,n){return null!==n&&fi(n),Qi(t,e.child,null,r),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ki(e.return,t,r)}function Ws(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Vs(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=so.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,r,t);else if(19===e.tag)zs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xa(so,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===co(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ws(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===co(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ws(t,!0,r,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ac|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=jl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=jl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Gs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ks(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Ia(t.type)&&Ma(),Zs(t),null;case 3:return n=t.stateNode,ao(),Ra(Ta),Ra(Pa),uo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sl(ii),ii=null))),Ms(e,t),Zs(t),null;case 5:oo(t);var a=ro(to.current);if(r=t.type,null!==e&&null!=t.stateNode)js(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Zs(t),null}if(e=ro(Xi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pa]=t,n[ha]=o,e=0!==(1&t.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<Ln.length;a++)Fn(Ln[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Q(n,o),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Fn("invalid",n);break;case"textarea":ae(n,o),Fn("invalid",n)}for(var c in ye(r,o),a=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?n.textContent!==l&&(!0!==o.suppressHydrationWarning&&$n(n.textContent,l,e),a=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&$n(n.textContent,l,e),a=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fn("scroll",n)}switch(r){case"input":G(n),X(n,o,!0);break;case"textarea":G(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Xn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[pa]=t,e[ha]=n,Is(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(r,n),r){case"dialog":Fn("cancel",e),Fn("close",e),a=n;break;case"iframe":case"object":case"embed":Fn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ln.length;a++)Fn(Ln[a],e);a=n;break;case"source":Fn("error",e),a=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=n;break;case"details":Fn("toggle",e),a=n;break;case"input":Q(e,n),a=J(e,n),Fn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=A({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Fn("invalid",e)}for(o in ye(r,a),l=a)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fn("scroll",e):null!=u&&b(e,o,u,c))}switch(r){case"input":G(e),X(e,n,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=ro(to.current),ro(Xi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:$n(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$n(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return Zs(t),null;case 13:if(Ra(so),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[pa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),o=!1}else null!==ii&&(sl(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return ao(),Ms(e,t),null===e&&Wn(t.stateNode.containerInfo),Zs(t),null;case 10:return Si(t.type._context),Zs(t),null;case 19:if(Ra(so),null===(o=t.memoizedState))return Zs(t),null;if(n=0!==(128&t.flags),null===(c=o.rendering))if(n)Gs(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Gs(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xa(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vc&&(t.flags|=128,n=!0,Gs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=co(c))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!ai)return Zs(t),null}else 2*Ye()-o.renderingStartTime>Vc&&1073741824!==r&&(t.flags|=128,n=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,r=so.current,xa(so,n?1&r|2:1&r),t):(Zs(t),null);case 22:case 23:return pl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Mc)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Js(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ra(Ta),Ra(Pa),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ra(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ra(so),null;case 4:return ao(),null;case 10:return Si(t.type._context),null;case 22:case 23:return pl(),null;default:return null}}Is=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ms=function(){},js=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ro(Xi.current);var i,o=null;switch(r){case"input":a=J(e,a),n=J(e,n),o=[];break;case"select":a=A({},a,{value:void 0}),n=A({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Xn)}for(u in ye(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var c=a[u];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(c=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fn("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function ec(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Rl(e,t,n)}else r.current=null}function tc(e,t,r){try{r()}catch(n){Rl(e,t,n)}}var rc=!1;function nc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tc(t,r,i)}a=a.next}while(a!==n)}}function ac(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xn));else if(4!==n&&null!==(e=e.child))for(lc(e,t,r),e=e.sibling;null!==e;)lc(e,t,r),e=e.sibling}function uc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(uc(e,t,r),e=e.sibling;null!==e;)uc(e,t,r),e=e.sibling}var dc=null,pc=!1;function hc(e,t,r){for(r=r.child;null!==r;)fc(e,t,r),r=r.sibling}function fc(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Ys||ec(r,t);case 6:var n=dc,a=pc;dc=null,hc(e,t,r),pc=a,null!==(dc=n)&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dc.removeChild(r.stateNode));break;case 18:null!==dc&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?ca(e.parentNode,r):1===e.nodeType&&ca(e,r),Wt(e)):ca(dc,r.stateNode));break;case 4:n=dc,a=pc,dc=r.stateNode.containerInfo,pc=!0,hc(e,t,r),dc=n,pc=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tc(r,t,o),a=a.next}while(a!==n)}hc(e,t,r);break;case 1:if(!Ys&&(ec(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Rl(r,t,s)}hc(e,t,r);break;case 21:hc(e,t,r);break;case 22:1&r.mode?(Ys=(n=Ys)||null!==r.memoizedState,hc(e,t,r),Ys=n):hc(e,t,r);break;default:hc(e,t,r)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $s),t.forEach((function(t){var n=Tl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function gc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,pc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,pc=!0;break e}c=c.return}if(null===dc)throw Error(i(160));fc(o,s,a),dc=null,pc=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(u){Rl(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&n){try{nc(3,e,e.return),ac(3,e)}catch(g){Rl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Rl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&n&&null!==r&&ec(r,r.return);break;case 5:if(gc(t,e),yc(e),512&n&&null!==r&&ec(r,r.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Rl(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&Y(a,o),be(c,s);var u=be(c,o);for(s=0;s<l.length;s+=2){var d=l[s],p=l[s+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,u)}switch(c){case"input":$(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?re(a,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(g){Rl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Rl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Rl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Wc=Ye())),4&n&&mc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gc(t,e),Ys=u):gc(t,e),yc(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(f=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:ec(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Rl(n,r,g)}}break;case 5:ec(h,h.return);break;case 22:if(null!==h.memoizedState){Sc(p);continue}}null!==f?(f.return=h,Xs=f):Sc(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=p.stateNode,s=void 0!==(l=p.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){Rl(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Rl(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gc(t,e),yc(e),4&n&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sc(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(pe(a,""),n.flags&=-33),uc(e,cc(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(i(161))}}catch(s){Rl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,r){Xs=e,_c(e,t,r)}function _c(e,t,r){for(var n=0!==(1&e.mode);null!==Xs;){var a=Xs,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Qs;if(!o){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=Qs;var l=Ys;if(Qs=o,(Ys=c)&&!l)for(Xs=a;null!==Xs;)c=(o=Xs).child,22===o.tag&&null!==o.memoizedState?kc(a):null!==c?(c.return=o,Xs=c):kc(a);for(;null!==i;)Xs=i,_c(i,t,r),i=i.sibling;Xs=a,Qs=s,Ys=l}wc(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xs=i):wc(e)}}function wc(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ac(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ys)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:gi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Bi(t,s,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Wt(p)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&ic(t)}catch(h){Rl(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xs=r;break}Xs=t.return}}function Sc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xs=r;break}Xs=t.return}}function kc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ac(4,t)}catch(c){Rl(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(c){Rl(t,a,c)}}var i=t.return;try{ic(t)}catch(c){Rl(t,i,c)}break;case 5:var o=t.return;try{ic(t)}catch(c){Rl(t,o,c)}}}catch(c){Rl(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Ec,Rc=Math.ceil,xc=_.ReactCurrentDispatcher,Cc=_.ReactCurrentOwner,Pc=_.ReactCurrentBatchConfig,Tc=0,Oc=null,Dc=null,Ic=0,Mc=0,jc=Ea(0),Lc=0,Nc=null,Ac=0,Bc=0,Fc=0,Uc=null,zc=null,Wc=0,Vc=1/0,Hc=null,qc=!1,Gc=null,Zc=null,Kc=!1,Jc=null,Qc=0,Yc=0,$c=null,Xc=-1,el=0;function tl(){return 0!==(6&Tc)?Ye():-1!==Xc?Xc:Xc=Ye()}function rl(e){return 0===(1&e.mode)?1:0!==(2&Tc)&&0!==Ic?Ic&-Ic:null!==mi.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nl(e,t,r,n){if(50<Yc)throw Yc=0,$c=null,Error(i(185));vt(e,r,n),0!==(2&Tc)&&e===Oc||(e===Oc&&(0===(2&Tc)&&(Bc|=r),4===Lc&&cl(e,Ic)),al(e,n),1===r&&0===Tc&&0===(1&t.mode)&&(Vc=Ye()+500,Fa&&Wa()))}function al(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,c=a[o];-1===c?0!==(s&r)&&0===(s&n)||(a[o]=ht(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=pt(e,e===Oc?Ic:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Fa=!0,za(e)}(ll.bind(null,e)):za(ll.bind(null,e)),oa((function(){0===(6&Tc)&&Wa()})),r=null;else{switch(_t(n)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ol(r,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function il(e,t){if(Xc=-1,el=0,0!==(6&Tc))throw Error(i(327));var r=e.callbackNode;if(kl()&&e.callbackNode!==r)return null;var n=pt(e,e===Oc?Ic:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=vl(e,n);else{t=n;var a=Tc;Tc|=2;var o=ml();for(Oc===e&&Ic===t||(Hc=null,Vc=Ye()+500,hl(e,t));;)try{bl();break}catch(c){fl(e,c)}wi(),xc.current=o,Tc=a,null!==Dc?t=0:(Oc=null,Ic=0,t=Lc)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(n=a,t=ol(e,a))),1===t)throw r=Nc,hl(e,0),cl(e,n),al(e,Ye()),r;if(6===t)cl(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vl(e,n))&&(0!==(o=ft(e))&&(n=o,t=ol(e,o))),1===t))throw r=Nc,hl(e,0),cl(e,n),al(e,Ye()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:Sl(e,zc,Hc);break;case 3:if(cl(e,n),(130023424&n)===n&&10<(t=Wc+500-Ye())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){tl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Sl.bind(null,e,zc,Hc),t);break}Sl(e,zc,Hc);break;case 4:if(cl(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rc(n/1960))-n)){e.timeoutHandle=na(Sl.bind(null,e,zc,Hc),n);break}Sl(e,zc,Hc);break;default:throw Error(i(329))}}}return al(e,Ye()),e.callbackNode===r?il.bind(null,e):null}function ol(e,t){var r=Uc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zc,zc=r,null!==t&&sl(t)),e}function sl(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~Fc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function ll(e){if(0!==(6&Tc))throw Error(i(327));kl();var t=pt(e,0);if(0===(1&t))return al(e,Ye()),null;var r=vl(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=ol(e,n))}if(1===r)throw r=Nc,hl(e,0),cl(e,t),al(e,Ye()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,zc,Hc),al(e,Ye()),null}function ul(e,t){var r=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=r)&&(Vc=Ye()+500,Fa&&Wa())}}function dl(e){null!==Jc&&0===Jc.tag&&0===(6&Tc)&&kl();var t=Tc;Tc|=1;var r=Pc.transition,n=bt;try{if(Pc.transition=null,bt=1,e)return e()}finally{bt=n,Pc.transition=r,0===(6&(Tc=t))&&Wa()}}function pl(){Mc=jc.current,Ra(jc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Dc)for(r=Dc.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ma();break;case 3:ao(),Ra(Ta),Ra(Pa),uo();break;case 5:oo(n);break;case 4:ao();break;case 13:case 19:Ra(so);break;case 10:Si(n.type._context);break;case 22:case 23:pl()}r=r.return}if(Oc=e,Dc=e=jl(e.current,null),Ic=Mc=t,Lc=0,Nc=null,Fc=Bc=Ac=0,zc=Uc=null,null!==xi){for(t=0;t<xi.length;t++)if(null!==(n=(r=xi[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}xi=null}return e}function fl(e,t){for(;;){var r=Dc;try{if(wi(),po.current=os,yo){for(var n=mo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}yo=!1}if(fo=0,vo=go=mo=null,bo=!1,_o=0,Cc.current=null,null===r||null===r.return){Lc=1,Nc=t,Dc=null;break}e:{var o=e,s=r.return,c=r,l=t;if(t=Ic,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&gs(o,u,t),l=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){gs(o,u,t),gl();break e}l=Error(i(426))}else if(ai&&1&c.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,c,0,t),fi(us(l,c));break e}}o=l=us(l,c),4!==Lc&&(Lc=2),null===Uc?Uc=[o]:Uc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ni(o,fs(0,l,t));break e;case 1:c=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zc||!Zc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ni(o,ms(o,c,t));break e}}o=o.return}while(null!==o)}wl(r)}catch(_){t=_,Dc===r&&null!==r&&(Dc=r=r.return);continue}break}}function ml(){var e=xc.current;return xc.current=os,null===e?os:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Oc||0===(268435455&Ac)&&0===(268435455&Bc)||cl(Oc,Ic)}function vl(e,t){var r=Tc;Tc|=2;var n=ml();for(Oc===e&&Ic===t||(Hc=null,hl(e,t));;)try{yl();break}catch(a){fl(e,a)}if(wi(),Tc=r,xc.current=n,null!==Dc)throw Error(i(261));return Oc=null,Ic=0,Lc}function yl(){for(;null!==Dc;)_l(Dc)}function bl(){for(;null!==Dc&&!Je();)_l(Dc)}function _l(e){var t=Ec(e.alternate,e,Mc);e.memoizedProps=e.pendingProps,null===t?wl(e):Dc=t,Cc.current=null}function wl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ks(r,t,Mc)))return void(Dc=r)}else{if(null!==(r=Js(r,t)))return r.flags&=32767,void(Dc=r);if(null===e)return Lc=6,void(Dc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dc=t);Dc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Sl(e,t,r){var n=bt,a=Pc.transition;try{Pc.transition=null,bt=1,function(e,t,r,n){do{kl()}while(null!==Jc);if(0!==(6&Tc))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===Oc&&(Dc=Oc=null,Ic=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kc||(Kc=!0,Ol(tt,(function(){return kl(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Pc.transition,Pc.transition=null;var s=bt;bt=1;var c=Tc;Tc|=4,Cc.current=null,function(e,t){if(ea=Ht,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,c=-1,l=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==r||0!==a&&3!==p.nodeType||(c=s+a),p!==o||0!==n&&3!==p.nodeType||(l=s+n),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===r&&++u===a&&(c=s),h===o&&++d===n&&(l=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(w){Rl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=rc,rc=!1}(e,r),vc(r,e),fn(ta),Ht=!!ea,ta=ea=null,e.current=r,bc(r,e,a),Qe(),Tc=c,bt=s,Pc.transition=o}else e.current=r;if(Kc&&(Kc=!1,Jc=e,Qc=a),o=e.pendingLanes,0===o&&(Zc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),al(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(qc)throw qc=!1,e=Gc,Gc=null,e;0!==(1&Qc)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===$c?Yc++:(Yc=0,$c=e):Yc=0,Wa()}(e,t,r,n)}finally{Pc.transition=a,bt=n}return null}function kl(){if(null!==Jc){var e=_t(Qc),t=Pc.transition,r=bt;try{if(Pc.transition=null,bt=16>e?16:e,null===Jc)var n=!1;else{if(e=Jc,Jc=null,Qc=0,0!==(6&Tc))throw Error(i(331));var a=Tc;for(Tc|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,o)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var h=(d=Xs).sibling,f=d.return;if(oc(d),d===u){Xs=null;break}if(null!==h){h.return=f,Xs=h;break}Xs=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:ac(9,c)}}catch(S){Rl(c,c.return,S)}if(c===s){Xs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Xs=w;break e}Xs=c.return}}if(Tc=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}n=!0}return n}finally{bt=r,Pc.transition=t}}return!1}function El(e,t,r){e=ji(e,t=fs(0,t=us(r,t),1),1),t=tl(),null!==e&&(vt(e,1,t),al(e,t))}function Rl(e,t,r){if(3===e.tag)El(e,e,r);else for(;null!==t;){if(3===t.tag){El(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zc||!Zc.has(n))){t=ji(t,e=ms(t,e=us(r,e),1),1),e=tl(),null!==t&&(vt(t,1,e),al(t,e));break}}t=t.return}}function xl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&r,Oc===e&&(Ic&r)===r&&(4===Lc||3===Lc&&(130023424&Ic)===Ic&&500>Ye()-Wc?hl(e,0):Fc|=r),al(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=tl();null!==(e=Ti(e,t))&&(vt(e,t,r),al(e,r))}function Pl(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cl(e,r)}function Tl(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Cl(e,r)}function Ol(e,t){return Ze(e,t)}function Dl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,r,n){return new Dl(e,t,r,n)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var r=e.alternate;return null===r?((r=Il(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ll(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Ml(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Nl(r.children,a,o,t);case E:s=8,a|=8;break;case R:return(e=Il(12,r,t,2|a)).elementType=R,e.lanes=o,e;case T:return(e=Il(13,r,t,a)).elementType=T,e.lanes=o,e;case O:return(e=Il(19,r,t,a)).elementType=O,e.lanes=o,e;case M:return Al(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case C:s=9;break e;case P:s=11;break e;case D:s=14;break e;case I:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Il(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Nl(e,t,r,n){return(e=Il(7,e,n,t)).lanes=r,e}function Al(e,t,r,n){return(e=Il(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Bl(e,t,r){return(e=Il(6,e,null,t)).lanes=r,e}function Fl(e,t,r){return(t=Il(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zl(e,t,r,n,a,i,o,s,c){return e=new Ul(e,t,r,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Il(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Wl(e){if(!e)return Ca;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ia(r))return La(e,r,t)}return t}function Vl(e,t,r,n,a,i,o,s,c){return(e=zl(r,n,!0,e,0,i,0,s,c)).context=Wl(null),r=e.current,(i=Mi(n=tl(),a=rl(r))).callback=void 0!==t&&null!==t?t:null,ji(r,i,a),e.current.lanes=a,vt(e,a,n),al(e,n),e}function Hl(e,t,r,n){var a=t.current,i=tl(),o=rl(a);return r=Wl(r),null===t.context?t.context=r:t.pendingContext=r,(t=Mi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=ji(a,t,o))&&(nl(e,a,o,i),Li(e,a,o)),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Zl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ec=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)_s=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return _s=!1,function(e,t,r){switch(t.tag){case 3:Os(t),hi();break;case 5:io(t);break;case 1:Ia(t.type)&&Na(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;xa(vi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(xa(so,1&so.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Bs(e,t,r):(xa(so,1&so.current),null!==(e=qs(e,t,r))?e.sibling:null);xa(so,1&so.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Vs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),xa(so,so.current),n)break;return null;case 22:case 23:return t.lanes=0,Rs(e,t,r)}return qs(e,t,r)}(e,t,r);_s=0!==(131072&e.flags)}else _s=!1,ai&&0!==(1048576&t.flags)&&Xa(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hs(e,t),e=t.pendingProps;var a=Da(t,Pa.current);Ei(t,r),a=Eo(null,t,n,e,a,r);var o=Ro();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(n)?(o=!0,Na(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Di(t),a.updater=zi,t.stateNode=a,a._reactInternals=t,qi(t,n,e,r),t=Ts(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Ml(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(n),e=gi(n,e),a){case 0:t=Cs(null,t,n,e,r);break e;case 1:t=Ps(null,t,n,e,r);break e;case 11:t=Ss(null,t,n,e,r);break e;case 14:t=ks(null,t,n,gi(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Cs(e,t,n,a=t.elementType===n?a:gi(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ps(e,t,n,a=t.elementType===n?a:gi(n,a),r);case 3:e:{if(Os(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ii(e,t),Ai(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,n,r,a=us(Error(i(423)),t));break e}if(n!==a){t=Ds(e,t,n,r,a=us(Error(i(424)),t));break e}for(ni=la(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=Yi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hi(),n===a){t=qs(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return io(t),null===e&&li(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),xs(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&li(t),null;case 13:return Bs(e,t,r);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Qi(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Ss(e,t,n,a=t.elementType===n?a:gi(n,a),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,xa(vi,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Ta.current){t=qs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){s=o.child;for(var l=c.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=Mi(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),ki(o.return,r,t),c.lanes|=r;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),ki(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ei(t,r),n=n(a=Ri(a)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return a=gi(n=t.type,t.pendingProps),ks(e,t,n,a=gi(n.type,a),r);case 15:return Es(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gi(n,a),Hs(e,t),t.tag=1,Ia(n)?(e=!0,Na(t)):e=!1,Ei(t,r),Vi(t,n,a),qi(t,n,a,r),Ts(null,t,n,!0,e,r);case 19:return Vs(e,t,r);case 22:return Rs(e,t,r)}throw Error(i(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function eu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=ql(o);s.call(e)}}Hl(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=ql(o);i.call(e)}}var o=Vl(t,n,e,0,null,!1,0,"",Xl);return e._reactRootContainer=o,e[fa]=o.current,Wn(8===e.nodeType?e.parentNode:e),dl(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=ql(c);s.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[fa]=c.current,Wn(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,c,r,n)})),c}(r,t,e,a,n);return ql(o)}Ql.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hl(e,t,null,null)},Ql.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[fa]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&At(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),al(t,Ye()),0===(6&Tc)&&(Vc=Ye()+500,Wa()))}break;case 13:dl((function(){var t=Ti(e,1);if(null!==t){var r=tl();nl(t,e,1,r)}})),Zl(e,1)}},St=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)nl(t,e,134217728,tl());Zl(e,134217728)}},kt=function(e){if(13===e.tag){var t=rl(e),r=Ti(e,t);if(null!==r)nl(r,e,t,tl());Zl(e,t)}},Et=function(){return bt},Rt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Se=function(e,t,r){switch(t){case"input":if($(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));Z(n),$(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=ul,Te=dl;var tu={usingClientEntryPoint:!1,Events:[ba,_a,wa,xe,Ce,ul]},ru={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(nu),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yl(e))throw Error(i(299));var r=!1,n="",a=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zl(e,1,!1,null,0,r,0,n,a),e[fa]=t.current,Wn(8===e.nodeType?e.parentNode:e),new Jl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,r){if(!$l(t))throw Error(i(200));return eu(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yl(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Kl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Vl(t,null,e,1,null!=r?r:null,a,0,o,s),e[fa]=t.current,Wn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ql(t)},t.render=function(e,t,r){if(!$l(t))throw Error(i(200));return eu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(i(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$l(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,r)=>{"use strict";var n=r(164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},164:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(463)},77:e=>{var t="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,c,l,u;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(!i(e[c],o[c]))return!1;return!0}if(r&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(e[c]!==o[c])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(c=s;0!==c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=s;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!i(e[l[c]],o[l[c]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return i(e,t)}catch(error){if((error.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw error}}},434:(e,t,r)=>{var n,a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),p=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!==typeof t?t+"":t,r),r),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{default:()=>y}),e.exports=(n=h,u(i({},"__esModule",{value:!0}),n));var f=d(r(791)),m=d(r(77)),g=r(174),v=r(135);class y extends f.Component{constructor(){var e;super(...arguments),e=this,p(this,"mounted",!1),p(this,"isReady",!1),p(this,"isPlaying",!1),p(this,"isLoading",!0),p(this,"loadOnReady",null),p(this,"startOnPlay",!0),p(this,"seekOnPlay",null),p(this,"onDurationCalled",!1),p(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),p(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),p(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),r=this.getDuration();if(r){const n={playedSeconds:e,played:e/r};null!==t&&(n.loadedSeconds=t,n.loaded=t/r),n.playedSeconds===this.prevPlayed&&n.loadedSeconds===this.prevLoaded||this.props.onProgress(n),this.prevPlayed=n.playedSeconds,this.prevLoaded=n.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),p(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:r,muted:n}=this.props;e(),n||null===r||this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),p(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==r&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),p(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),p(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:r}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,r())})),p(this,"handleError",(function(){e.isLoading=!1,e.props.onError(...arguments)})),p(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),p(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:r,volume:n,muted:a,playbackRate:i,pip:o,loop:s,activePlayer:c,disableDeferredLoading:l}=this.props;if(!(0,m.default)(e.url,t)){if(this.isLoading&&!c.forceLoad&&!l&&!(0,v.isMediaStream)(t))return console.warn("ReactPlayer: the attempt to load ".concat(t," is being deferred until the player has loaded")),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!r||this.isPlaying||this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&o&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!o&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==n&&null!==n&&this.player.setVolume(n),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),null!==n&&setTimeout((()=>this.player.setVolume(n))))),e.playbackRate!==i&&this.player.setPlaybackRate&&this.player.setPlaybackRate(i),e.loop!==s&&this.player.setLoop&&this.player.setLoop(s)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,r){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,r):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?f.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}p(y,"displayName","Player"),p(y,"propTypes",g.propTypes),p(y,"defaultProps",g.defaultProps)},646:(e,t,r)=>{var n,a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),p=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!==typeof t?t+"":t,r),r),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{createReactPlayer:()=>C}),e.exports=(n=h,u(i({},"__esModule",{value:!0}),n));var f=d(r(791)),m=d(r(948)),g=d(r(781)),v=d(r(77)),y=r(174),b=r(135),_=d(r(434));const w=(0,b.lazy)((()=>r.e(664).then(r.t.bind(r,275,23)))),S="undefined"!==typeof window&&window.document,k="undefined"!==typeof r.g&&r.g.window&&r.g.window.document,E=Object.keys(y.propTypes),R=S||k?f.Suspense:()=>null,x=[],C=(e,t)=>{var r;return r=class extends f.Component{constructor(){var r;super(...arguments),r=this,p(this,"state",{showPreview:!!this.props.light}),p(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),p(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),p(this,"showPreview",(()=>{this.setState({showPreview:!0})})),p(this,"getDuration",(()=>this.player?this.player.getDuration():null)),p(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),p(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),p(this,"getInternalPlayer",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return r.player?r.player.getInternalPlayer(e):null})),p(this,"seekTo",((e,t,r)=>{if(!this.player)return null;this.player.seekTo(e,t,r)})),p(this,"handleReady",(()=>{this.props.onReady(this)})),p(this,"getActivePlayer",(0,g.default)((r=>{for(const t of[...x,...e])if(t.canPlay(r))return t;return t||null}))),p(this,"getConfig",(0,g.default)(((e,t)=>{const{config:r}=this.props;return m.default.all([y.defaultProps.config,y.defaultProps.config[t]||{},r,r[t]||{}])}))),p(this,"getAttributes",(0,g.default)((e=>(0,b.omit)(this.props,E)))),p(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const r=this.getConfig(e,t.key);return f.default.createElement(_.default,{...this.props,key:t.key,ref:this.references.player,config:r,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,v.default)(this.props,e)||!(0,v.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:r,previewTabIndex:n,oEmbedUrl:a}=this.props;return f.default.createElement(w,{url:e,light:t,playIcon:r,previewTabIndex:n,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:r,height:n,fallback:a,wrapper:i}=this.props,{showPreview:o}=this.state,s=this.getAttributes(e),c="string"===typeof i?this.references.wrapper:void 0;return f.default.createElement(i,{ref:c,style:{...t,width:r,height:n},...s},f.default.createElement(R,{fallback:a},o?this.renderPreview(e):this.renderActivePlayer(e)))}},p(r,"displayName","ReactPlayer"),p(r,"propTypes",y.propTypes),p(r,"defaultProps",y.defaultProps),p(r,"addCustomPlayer",(e=>{x.push(e)})),p(r,"removeCustomPlayers",(()=>{x.length=0})),p(r,"canPlay",(t=>{for(const r of[...x,...e])if(r.canPlay(t))return!0;return!1})),p(r,"canEnablePIP",(t=>{for(const r of[...x,...e])if(r.canEnablePIP&&r.canEnablePIP(t))return!0;return!1})),r}},710:(e,t,r)=>{var n,a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(d,{default:()=>m}),e.exports=(n=d,u(i({},"__esModule",{value:!0}),n));var p=((e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)))(r(687)),h=r(646);const f=p.default[p.default.length-1];var m=(0,h.createReactPlayer)(p.default,f)},365:(e,t,r)=>{var n,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(c,{AUDIO_EXTENSIONS:()=>k,DASH_EXTENSIONS:()=>x,FLV_EXTENSIONS:()=>C,HLS_EXTENSIONS:()=>R,MATCH_URL_DAILYMOTION:()=>b,MATCH_URL_FACEBOOK:()=>h,MATCH_URL_FACEBOOK_WATCH:()=>f,MATCH_URL_KALTURA:()=>S,MATCH_URL_MIXCLOUD:()=>_,MATCH_URL_SOUNDCLOUD:()=>d,MATCH_URL_STREAMABLE:()=>m,MATCH_URL_TWITCH_CHANNEL:()=>y,MATCH_URL_TWITCH_VIDEO:()=>v,MATCH_URL_VIDYARD:()=>w,MATCH_URL_VIMEO:()=>p,MATCH_URL_WISTIA:()=>g,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>E,canPlay:()=>T}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of o(t))s.call(e,c)||c===r||a(e,c,{get:()=>t[c],enumerable:!(n=i(t,c))||n.enumerable});return e})(a({},"__esModule",{value:!0}),n));var l=r(135);const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,p=/vimeo\.com\/(?!progressive_redirect).+/,h=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,f=/^https?:\/\/fb\.watch\/.+$/,m=/streamable\.com\/([a-z0-9]+)$/,g=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,v=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,y=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,b=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,_=/mixcloud\.com\/([^/]+\/[^/]+)/,w=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,S=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,k=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,E=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,R=/\.(m3u8)($|\?)/i,x=/\.(mpd)($|\?)/i,C=/\.(flv)($|\?)/i,P=e=>{if(e instanceof Array){for(const t of e){if("string"===typeof t&&P(t))return!0;if(P(t.src))return!0}return!1}return!(!(0,l.isMediaStream)(e)&&!(0,l.isBlobUrl)(e))||(k.test(e)||E.test(e)||R.test(e)||x.test(e)||C.test(e))},T={youtube:e=>e instanceof Array?e.every((e=>u.test(e))):u.test(e),soundcloud:e=>d.test(e)&&!k.test(e),vimeo:e=>p.test(e)&&!E.test(e)&&!R.test(e),facebook:e=>h.test(e)||f.test(e),streamable:e=>m.test(e),wistia:e=>g.test(e),twitch:e=>v.test(e)||y.test(e),dailymotion:e=>b.test(e),mixcloud:e=>_.test(e),vidyard:e=>w.test(e),kaltura:e=>S.test(e),file:P}},687:(e,t,r)=>{Object.create;var n,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),c=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of o(t))s.call(e,c)||c===r||a(e,c,{get:()=>t[c],enumerable:!(n=i(t,c))||n.enumerable});return e},l={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(l,{default:()=>p}),e.exports=(n=l,c(a({},"__esModule",{value:!0}),n));var u=r(135),d=r(365),p=[{key:"youtube",name:"YouTube",canPlay:d.canPlay.youtube,lazyPlayer:(0,u.lazy)((()=>r.e(439).then(r.t.bind(r,322,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:d.canPlay.soundcloud,lazyPlayer:(0,u.lazy)((()=>r.e(125).then(r.t.bind(r,801,23))))},{key:"vimeo",name:"Vimeo",canPlay:d.canPlay.vimeo,lazyPlayer:(0,u.lazy)((()=>r.e(743).then(r.t.bind(r,600,23))))},{key:"facebook",name:"Facebook",canPlay:d.canPlay.facebook,lazyPlayer:(0,u.lazy)((()=>r.e(121).then(r.t.bind(r,793,23))))},{key:"streamable",name:"Streamable",canPlay:d.canPlay.streamable,lazyPlayer:(0,u.lazy)((()=>r.e(546).then(r.t.bind(r,286,23))))},{key:"wistia",name:"Wistia",canPlay:d.canPlay.wistia,lazyPlayer:(0,u.lazy)((()=>r.e(55).then(r.t.bind(r,67,23))))},{key:"twitch",name:"Twitch",canPlay:d.canPlay.twitch,lazyPlayer:(0,u.lazy)((()=>r.e(216).then(r.t.bind(r,741,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:d.canPlay.dailymotion,lazyPlayer:(0,u.lazy)((()=>r.e(596).then(r.t.bind(r,303,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:d.canPlay.mixcloud,lazyPlayer:(0,u.lazy)((()=>r.e(667).then(r.t.bind(r,732,23))))},{key:"vidyard",name:"Vidyard",canPlay:d.canPlay.vidyard,lazyPlayer:(0,u.lazy)((()=>r.e(888).then(r.t.bind(r,561,23))))},{key:"kaltura",name:"Kaltura",canPlay:d.canPlay.kaltura,lazyPlayer:(0,u.lazy)((()=>r.e(261).then(r.t.bind(r,332,23))))},{key:"file",name:"FilePlayer",canPlay:d.canPlay.file,canEnablePIP:e=>d.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,u.supportsWebKitPresentationMode)())&&!d.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,u.lazy)((()=>r.e(11).then(r.t.bind(r,997,23))))}]},174:(e,t,r)=>{var n,a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(d,{defaultProps:()=>E,propTypes:()=>S}),e.exports=(n=d,u(i({},"__esModule",{value:!0}),n));var p=((e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)))(r(7));const{string:h,bool:f,number:m,array:g,oneOfType:v,shape:y,object:b,func:_,node:w}=p.default,S={url:v([h,g,b]),playing:f,loop:f,controls:f,volume:m,muted:f,playbackRate:m,width:v([h,m]),height:v([h,m]),style:b,progressInterval:m,playsinline:f,pip:f,stopOnUnmount:f,light:v([f,h,b]),playIcon:w,previewTabIndex:m,fallback:w,oEmbedUrl:h,wrapper:v([h,_,y({render:_.isRequired})]),config:y({soundcloud:y({options:b}),youtube:y({playerVars:b,embedOptions:b,onUnstarted:_}),facebook:y({appId:h,version:h,playerId:h,attributes:b}),dailymotion:y({params:b}),vimeo:y({playerOptions:b,title:h}),file:y({attributes:b,tracks:g,forceVideo:f,forceAudio:f,forceHLS:f,forceSafariHLS:f,forceDisableHls:f,forceDASH:f,forceFLV:f,hlsOptions:b,hlsVersion:h,dashVersion:h,flvVersion:h}),wistia:y({options:b,playerId:h,customControls:g}),mixcloud:y({options:b}),twitch:y({options:b,playerId:h}),vidyard:y({options:b})}),onReady:_,onStart:_,onPlay:_,onPause:_,onBuffer:_,onBufferEnd:_,onEnded:_,onError:_,onDuration:_,onSeek:_,onPlaybackRateChange:_,onPlaybackQualityChange:_,onProgress:_,onClickPreview:_,onEnablePIP:_,onDisablePIP:_},k=()=>{},E={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:k},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:k,onStart:k,onPlay:k,onPause:k,onBuffer:k,onBufferEnd:k,onEnded:k,onError:k,onDuration:k,onSeek:k,onPlaybackRateChange:k,onPlaybackQualityChange:k,onProgress:k,onClickPreview:k,onEnablePIP:k,onDisablePIP:k}},135:(e,t,r)=>{var n,a=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),p={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(p,{callPlayer:()=>D,getConfig:()=>T,getSDK:()=>P,isBlobUrl:()=>M,isMediaStream:()=>I,lazy:()=>g,omit:()=>O,parseEndTime:()=>k,parseStartTime:()=>S,queryString:()=>R,randomString:()=>E,supportsWebKitPresentationMode:()=>j}),e.exports=(n=p,u(i({},"__esModule",{value:!0}),n));var h=d(r(791)),f=d(r(102)),m=d(r(948));const g=e=>h.default.lazy((async()=>{const t=await e();return"function"===typeof t.default?t:t.default})),v=/[?&#](?:start|t)=([0-9hms]+)/,y=/[?&#]end=([0-9hms]+)/,b=/(\d+)(h|m|s)/g,_=/^\d+$/;function w(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const e=r[1];if(e.match(b))return function(e){let t=0,r=b.exec(e);for(;null!==r;){const[,n,a]=r;"h"===a&&(t+=60*parseInt(n,10)*60),"m"===a&&(t+=60*parseInt(n,10)),"s"===a&&(t+=parseInt(n,10)),r=b.exec(e)}return t}(e);if(_.test(e))return parseInt(e)}}function S(e){return w(e,v)}function k(e){return w(e,y)}function E(){return Math.random().toString(36).substr(2,5)}function R(e){return Object.keys(e).map((t=>"".concat(t,"=").concat(e[t]))).join("&")}function x(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const C={},P=function(e){0;return e}((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.default;const i=x(t);return i&&n(i)?Promise.resolve(i):new Promise(((n,i)=>{if(C[e])return void C[e].push({resolve:n,reject:i});C[e]=[{resolve:n,reject:i}];const o=t=>{C[e].forEach((e=>e.resolve(t)))};if(r){const e=window[r];window[r]=function(){e&&e(),o(x(t))}}a(e,(n=>{n?(C[e].forEach((e=>e.reject(n))),C[e]=null):r||o(x(t))}))}))}));function T(e,t){return(0,m.default)(t.config,e.config)}function O(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=[].concat(...r),i={},o=Object.keys(e);for(const s of o)-1===a.indexOf(s)&&(i[s]=e[s]);return i}function D(e){if(!this.player||!this.player[e]){let t="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.player[e](...r)}function I(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream}function M(e){return/^blob:/.test(e)}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video");const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t}},374:(e,t,r)=>{"use strict";var n=r(791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},117:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!E.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===i[a]&&(i[a]=c[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return o=o(c=e),e=""===i?"."+P(c,0):i,w(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(o,t,a,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(c=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var u=i+P(s=e[l],l);c+=T(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=T(s=s.value,t,a,u=i+P(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},M={transition:null},j={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!E.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},791:(e,t,r)=>{"use strict";e.exports=r(117)},184:(e,t,r)=>{"use strict";e.exports=r(374)},813:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,r))l<a&&0>i(u,c)?(e[n]=u,e[l]=r,n=l):(e[n]=c,e[s]=r,n=s);else{if(!(l<a&&0>i(u,r)))break e;e[n]=u,e[l]=r,n=l}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(l,t)}t=n(u)}}function w(e){if(g=!1,_(e),!m)if(null!==n(l))m=!0,M(S);else{var t=n(u);null!==t&&j(w,t.startTime-e)}}function S(e,r){m=!1,g&&(g=!1,y(x),x=-1),f=!0;var i=h;try{for(_(r),p=n(l);null!==p&&(!(p.expirationTime>r)||e&&!T());){var o=p.callback;if("function"===typeof o){p.callback=null,h=p.priorityLevel;var s=o(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?p.callback=s:p===n(l)&&a(l),_(r)}else a(l);p=n(l)}if(null!==p)var c=!0;else{var d=n(u);null!==d&&j(w,d.startTime-r),c=!1}return c}finally{p=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,R=null,x=-1,C=5,P=-1;function T(){return!(t.unstable_now()-P<C)}function O(){if(null!==R){var e=t.unstable_now();P=e;var r=!0;try{r=R(!0,e)}finally{r?k():(E=!1,R=null)}}else E=!1}if("function"===typeof b)k=function(){b(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=O,k=function(){I.postMessage(null)}}else k=function(){v(O,0)};function M(e){R=e,E||(E=!0,k())}function j(e,r){x=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(l)&&e===n(u)&&(g?(y(x),x=-1):g=!0,j(w,i-o))):(e.sortIndex=s,r(l,e),m||f||(m=!0,M(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},296:(e,t,r)=>{"use strict";e.exports=r(813)},637:(e,t,r)=>{"use strict";var n=r(791);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var d=o(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!s){if(s=!0,i=e,e=n(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return o=t}return o=e}if(t=o,a(i,e))return t;var r=n(e);return void 0!==u&&u(t,r)?t:(i=e,o=r)}var i,o,s=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,u]);var h=i(e,d[0],d[1]);return s((function(){p.hasValue=!0,p.value=h}),[h]),l(h),h}},995:(e,t,r)=>{"use strict";e.exports=r(637)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(i,o),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+{11:"reactPlayerFilePlayer",55:"reactPlayerWistia",121:"reactPlayerFacebook",125:"reactPlayerSoundCloud",216:"reactPlayerTwitch",261:"reactPlayerKaltura",439:"reactPlayerYouTube",546:"reactPlayerStreamable",596:"reactPlayerDailyMotion",664:"reactPlayerPreview",667:"reactPlayerMixcloud",743:"reactPlayerVimeo",888:"reactPlayerVidyard"}[e]+"."+{11:"d1f61e77",55:"5bfb1009",121:"278242f2",125:"c1a9c035",216:"314a5ed4",261:"ec5e04c5",439:"c49b26f5",546:"8818b800",596:"88a4b464",664:"70709e46",667:"a00a6ba3",743:"e9506619",888:"8758c702"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(n,a,i,o)=>{if(e[n])e[n].push(a);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={179:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,o=n[0],s=n[1],c=n[2],l=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)c(r)}for(t&&t(n);l<o.length;l++)i=o[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Cs,hasStandardBrowserEnv:()=>Ps,hasStandardBrowserWebWorkerEnv:()=>Os});var t={};r.r(t),r.d(t,{Decoder:()=>zl,Encoder:()=>Fl,PacketType:()=>Bl,protocol:()=>Al});var n,a=r(791),i=r.t(a,2),o=r(250),s=r(164),c=r.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t,r,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,s=i.history,c=n.Pop,p=null,g=v();function v(){return(s.state||{idx:null}).idx}function y(){c=n.Pop;let e=v(),t=null==e?null:e-g;g=e,p&&p({action:c,location:_.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:m(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,s.replaceState(l({},s.state,{idx:g}),""));let _={get action(){return c},get location(){return e(i,s)},listen(e){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),p=e,()=>{i.removeEventListener(u,y),p=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=n.Push;let a=f(_.location,e,t);r&&r(a,e),g=v()+1;let l=h(a,g),u=_.createHref(a);try{s.pushState(l,"",u)}catch(error){if(error instanceof DOMException&&"DataCloneError"===error.name)throw error;i.location.assign(u)}o&&p&&p({action:c,location:_.location,delta:1})},replace:function(e,t){c=n.Replace;let a=f(_.location,e,t);r&&r(a,e),g=v();let i=h(a,g),l=_.createHref(a);s.replaceState(i,"",l),o&&p&&p({action:c,location:_.location,delta:0})},go:e=>s.go(e)};return _}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){void 0===r&&(r="/");let n=M(("string"===typeof t?g(t):t).pathname||"/",r);if(null==n)return null;let a=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o)i=O(a[o],I(n));return i}function _(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let s=B([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),_(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))a(e,t,n);else a(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=w(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,k=3,E=2,R=1,x=10,C=-2,P=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(P)&&(n+=C),t&&(n+=E),r.filter((e=>!P(e))).reduce(((e,t)=>e+(S.test(t)?k:""===t?R:x)),n)}function O(e,t){let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],s=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",l=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c);if(!l)return null;Object.assign(n,l.params);let u=e.route;i.push({params:n,pathname:B([a,l.pathname]),pathnameBase:F(B([a,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(a=B([a,l.pathnameBase]))}return i}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),c=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[r];return e[n]=a&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(error){return p(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+error+")."),e}}(c||"",n),e}),{});return{params:c,pathname:i,pathnameBase:o,pattern:e}}function I(e){try{return decodeURI(e)}catch(error){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+error+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function j(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e,t){let r=L(e);return t?r.map(((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)):r.map((e=>e.pathnameBase))}function A(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=g(e):(a=l({},e),d(!a.pathname||!a.pathname.includes("?"),j("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),j("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),j("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?g(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:U(n),hash:z(a)}}(a,i),u=s&&"/"!==s&&s.endsWith("/"),p=(o||"."===s)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const G=a.createContext(null);const Z=a.createContext(null);const K=a.createContext(null);const J=a.createContext(null);const Q=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=a.createContext(null);function $(){return null!=a.useContext(J)}function X(){return $()||d(!1),a.useContext(J).location}function ee(e){a.useContext(K).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(Q);return e?function(){let{router:e}=de(le.UseNavigateStable),t=he(ue.UseNavigateStable),r=a.useRef(!1);ee((()=>{r.current=!0}));let n=a.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,q({fromRouteId:t},a)))}),[e,t]);return n}():function(){$()||d(!1);let e=a.useContext(G),{basename:t,future:r,navigator:n}=a.useContext(K),{matches:i}=a.useContext(Q),{pathname:o}=X(),s=JSON.stringify(N(i,r.v7_relativeSplatPath)),c=a.useRef(!1);ee((()=>{c.current=!0}));let l=a.useCallback((function(r,a){if(void 0===a&&(a={}),!c.current)return;if("number"===typeof r)return void n.go(r);let i=A(r,JSON.parse(s),o,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:B([t,i.pathname])),(a.replace?n.replace:n.push)(i,a.state,a)}),[t,n,s,o,e]);return l}()}function re(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(K),{matches:i}=a.useContext(Q),{pathname:o}=X(),s=JSON.stringify(N(i,n.v7_relativeSplatPath));return a.useMemo((()=>A(e,JSON.parse(s),o,"path"===r)),[e,s,o,r])}function ne(e,t,r,i){$()||d(!1);let{navigator:o}=a.useContext(K),{matches:s}=a.useContext(Q),c=s[s.length-1],l=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,h=X();if(t){var f;let e="string"===typeof t?g(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),p=e}else p=h;let m=p.pathname||"/",v=b(e,{pathname:"/"===u?m:m.slice(u.length)||"/"});let y=ce(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:B([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return t&&y?a.createElement(J.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:n.Pop}},y):y}function ae(){let e=function(){var e;let t=a.useContext(Y),r=pe(ue.UseRouteError),n=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:i},r):null,null)}const ie=a.createElement(ae,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Q.Provider,{value:this.props.routeContext},a.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:r,children:n}=e,i=a.useContext(G);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(Q.Provider,{value:t},n)}function ce(e,t,r,n){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let s=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<s.length;a++){let e=s[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){l=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,n,i)=>{let o,d=!1,p=null,h=null;var f;r&&(o=c&&n.route.id?c[n.route.id]:void 0,p=n.route.errorElement||ie,l&&(u<0&&0===i?(f="route-fallback",!1||fe[f]||(fe[f]=!0),d=!0,h=null):u===i&&(d=!0,h=n.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=o?p:d?h:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(se,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:p,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=a.useContext(G);return t||d(!1),t}function pe(e){let t=a.useContext(Z);return t||d(!1),t}function he(e){let t=function(e){let t=a.useContext(Q);return t||d(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const fe={};i.startTransition;function me(e){d(!1)}function ge(e){let{basename:t="/",children:r=null,location:i,navigationType:o=n.Pop,navigator:s,static:c=!1,future:l}=e;$()&&d(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:s,static:c,future:q({v7_relativeSplatPath:!1},l)})),[u,l,s,c]);"string"===typeof i&&(i=g(i));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:y="default"}=i,b=a.useMemo((()=>{let e=M(h,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:v,key:y},navigationType:o}}),[u,h,f,m,v,y,o]);return null==b?null:a.createElement(K.Provider,{value:p},a.createElement(J.Provider,{children:r,value:b}))}function ve(e){let{children:t,location:r}=e;return ne(ye(t),r)}new Promise((()=>{}));a.Component;function ye(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let i=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,ye(e.props.children,i));e.type!==me&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,i)),r.push(o)})),r}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Se=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const ke=a.createContext({isTransitioning:!1});new Map;const Ee=i.startTransition;c.flushSync,i.useId;function Re(e){let{basename:t,children:r,future:n,window:i}=e,o=a.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return f("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,s)));let c=o.current,[l,u]=a.useState({action:c.action,location:c.location}),{v7_startTransition:d}=n||{},p=a.useCallback((e=>{d&&Ee?Ee((()=>u(e))):u(e)}),[u,d]);return a.useLayoutEffect((()=>c.listen(p)),[c,p]),a.createElement(ge,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef((function(e,t){let r,{onClick:n,relative:i,reloadDocument:o,replace:s,state:c,target:l,to:u,preventScrollReset:p,unstable_viewTransition:h}=e,f=_e(e,we),{basename:g}=a.useContext(K),v=!1;if("string"===typeof u&&Ce.test(u)&&(r=u,xe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=M(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:v=!0}catch(_){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;$()||d(!1);let{basename:n,navigator:i}=a.useContext(K),{hash:o,pathname:s,search:c}=re(e,{relative:r}),l=s;return"/"!==n&&(l="/"===s?n:B([n,s])),i.createHref({pathname:l,search:c,hash:o})}(u,{relative:i}),b=function(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:c}=void 0===t?{}:t,l=te(),u=X(),d=re(e,{relative:s});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:m(u)===m(d);l(e,{replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:c})}}),[u,l,d,n,i,r,e,o,s,c])}(u,{replace:s,state:c,target:l,preventScrollReset:p,relative:i,unstable_viewTransition:h});return a.createElement("a",be({},f,{href:r||y,onClick:v||o?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));const Te=a.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:i="",end:o=!1,style:s,to:c,unstable_viewTransition:l,children:u}=e,p=_e(e,Se),h=re(c,{relative:p.relative}),f=X(),m=a.useContext(Z),{navigator:g}=a.useContext(K),v=null!=m&&function(e,t){void 0===t&&(t={});let r=a.useContext(ke);null==r&&d(!1);let{basename:n}=Ie(Oe.useViewTransitionState),i=re(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=M(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=M(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=D(i.pathname,s)||null!=D(i.pathname,o)}(h)&&!0===l,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase());const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let S,k=b===y||!o&&b.startsWith(y)&&"/"===b.charAt(w),E=null!=_&&(_===y||!o&&_.startsWith(y)&&"/"===_.charAt(y.length)),R={isActive:k,isPending:E,isTransitioning:v},x=k?r:void 0;S="function"===typeof i?i(R):[i,k?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof s?s(R):s;return a.createElement(Pe,be({},p,{"aria-current":x,className:S,ref:t,style:C,to:c,unstable_viewTransition:l}),"function"===typeof u?u(R):u)}));var Oe,De;function Ie(e){let t=a.useContext(G);return t||d(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Me(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Me(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const je=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Me(e))&&(n&&(n+=" "),n+=t);return n},Le=e=>"number"==typeof e&&!isNaN(e),Ne=e=>"string"==typeof e,Ae=e=>"function"==typeof e,Be=e=>Ne(e)||Ae(e)?e:null,Fe=e=>(0,a.isValidElement)(e)||Ne(e)||Ae(e)||Le(e);function Ue(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:c,preventExitTransition:l,done:u,nodeRef:d,isIn:p,playToast:h}=e;const f=n?"".concat(t,"--").concat(c):t,m=n?"".concat(r,"--").concat(c):r,g=(0,a.useRef)(0);return(0,a.useLayoutEffect)((()=>{const e=d.current,t=f.split(" "),r=n=>{n.target===d.current&&(h(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,a.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,r){void 0===r&&(r=300);const{scrollHeight:n,style:a}=e;requestAnimationFrame((()=>{a.minHeight="initial",a.height=n+"px",a.transition="all ".concat(r,"ms"),requestAnimationFrame((()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)}))}))}(e,u,o):u()};p||(l?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[p]),a.createElement(a.Fragment,null,s)}}function ze(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const We=new Map;let Ve=[];const He=new Set,qe=e=>He.forEach((t=>t(e))),Ge=()=>We.size>0;function Ze(e,t){var r;if(t)return!(null==(r=We.get(t))||!r.isToastActive(e));let n=!1;return We.forEach((t=>{t.isToastActive(e)&&(n=!0)})),n}function Ke(e,t){Fe(e)&&(Ge()||Ve.push({content:e,options:t}),We.forEach((r=>{r.buildToast(e,t)})))}function Je(e,t){We.forEach((r=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===r.id&&r.toggle(e,null==t?void 0:t.id):r.toggle(e,null==t?void 0:t.id)}))}function Qe(e){const{subscribe:t,getSnapshot:r,setProps:n}=(0,a.useRef)(function(e){const t=e.containerId||1;return{subscribe(r){const n=function(e,t,r){let n=1,i=0,o=[],s=[],c=[],l=t;const u=new Map,d=new Set,p=()=>{c=Array.from(u.values()),d.forEach((e=>e()))},h=e=>{s=null==e?[]:s.filter((t=>t!==e)),p()},f=e=>{const{toastId:t,onOpen:n,updateId:i,children:o}=e.props,c=null==i;e.staleId&&u.delete(e.staleId),u.set(t,e),s=[...s,e.props.toastId].filter((t=>t!==e.staleId)),p(),r(ze(e,c?"added":"updated")),c&&Ae(n)&&n((0,a.isValidElement)(o)&&o.props)};return{id:e,props:l,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((r=>{null!=t&&t!==r.props.toastId||Ae(r.toggle)&&r.toggle(e)}))},removeToast:h,toasts:u,clearQueue:()=>{i-=o.length,o=[]},buildToast:(t,s)=>{if((t=>{let{containerId:r,toastId:n,updateId:a}=t;const i=r?r!==e:1!==e,o=u.has(n)&&null==a;return i||o})(s))return;const{toastId:c,updateId:d,data:m,staleId:g,delay:v}=s,y=()=>{h(c)},b=null==d;b&&i++;const _={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(s).filter((e=>{let[t,r]=e;return null!=r}))),toastId:c,updateId:d,data:m,closeToast:y,isIn:!1,className:Be(s.className||l.toastClassName),bodyClassName:Be(s.bodyClassName||l.bodyClassName),progressClassName:Be(s.progressClassName||l.progressClassName),autoClose:!s.isLoading&&(w=s.autoClose,S=l.autoClose,!1===w||Le(w)&&w>0?w:S),deleteToast(){const e=u.get(c),{onClose:t,children:n}=e.props;Ae(t)&&t((0,a.isValidElement)(n)&&n.props),r(ze(e,"removed")),u.delete(c),i--,i<0&&(i=0),o.length>0?f(o.shift()):p()}};var w,S;_.closeButton=l.closeButton,!1===s.closeButton||Fe(s.closeButton)?_.closeButton=s.closeButton:!0===s.closeButton&&(_.closeButton=!Fe(l.closeButton)||l.closeButton);let k=t;(0,a.isValidElement)(t)&&!Ne(t.type)?k=(0,a.cloneElement)(t,{closeToast:y,toastProps:_,data:m}):Ae(t)&&(k=t({closeToast:y,toastProps:_,data:m}));const E={content:k,props:_,staleId:g};l.limit&&l.limit>0&&i>l.limit&&b?o.push(E):Le(v)?setTimeout((()=>{f(E)}),v):f(E)},setProps(e){l=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>s.some((t=>t===e)),getSnapshot:()=>l.newestOnTop?c.reverse():c}}(t,e,qe);We.set(t,n);const i=n.observe(r);return Ve.forEach((e=>Ke(e.content,e.options))),Ve=[],()=>{i(),We.delete(t)}},setProps(e){var r;null==(r=We.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=We.get(t))?void 0:e.getSnapshot()}}}(e)).current;n(e);const i=(0,a.useSyncExternalStore)(t,r,r);return{getToastToRender:function(e){if(!i)return[];const t=new Map;return i.forEach((e=>{const{position:r}=e.props;t.has(r)||t.set(r,[]),t.get(r).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:Ze,count:null==i?void 0:i.length}}function Ye(e){const[t,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),o=(0,a.useRef)(null),s=(0,a.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:p}=e;var h,f;function m(){r(!0)}function g(){r(!1)}function v(r){const n=o.current;s.canDrag&&n&&(s.didMove=!0,t&&g(),s.delta="x"===e.draggableDirection?r.clientX-s.start:r.clientY-s.start,s.start!==r.clientX&&(s.canCloseOnClick=!1),n.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))"),",0)"),n.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function y(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y);const t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(f=We.get((h={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||f.setToggle(h.id,h.fn),(0,a.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",y);const r=o.current;s.canCloseOnClick=!0,s.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:r,bottom:n,left:a,right:i}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=i&&t.clientY>=r&&t.clientY<=n?g():m()}};return c&&l&&(b.onMouseEnter=g,e.stacked||(b.onMouseLeave=m)),p&&(b.onClick=e=>{d&&d(e),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:b}}function $e(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:o,className:s,style:c,controlledProgress:l,progress:u,rtl:d,isIn:p,theme:h}=e;const f=o||l&&0===u,m={...c,animationDuration:"".concat(t,"ms"),animationPlayState:r?"running":"paused"};l&&(m.transform="scaleX(".concat(u,")"));const g=je("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":d}),v=Ae(s)?s({rtl:d,type:i,defaultClassName:g}):je(g,s),y={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&n()}};return a.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},a.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(h," Toastify__progress-bar--").concat(i)}),a.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:m,...y}))}let Xe=1;const et=()=>""+Xe++;function tt(e){return e&&(Ne(e.toastId)||Le(e.toastId))?e.toastId:et()}function rt(e,t){return Ke(e,t),t.toastId}function nt(e,t){return{...t,type:t&&t.type||e,toastId:tt(t)}}function at(e){return(t,r)=>rt(t,nt(e,r))}function it(e,t){return rt(e,nt("default",t))}it.loading=(e,t)=>rt(e,nt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),it.promise=function(e,t,r){let n,{pending:a,error:i,success:o}=t;a&&(n=Ne(a)?it.loading(a,r):it.loading(a.render,{...r,...a}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,a)=>{if(null==t)return void it.dismiss(n);const i={type:e,...s,...r,data:a},o=Ne(t)?{render:t}:t;return n?it.update(n,{...i,...o}):it(o.render,{...i,...o}),a},l=Ae(e)?e():e;return l.then((e=>c("success",o,e))).catch((e=>c("error",i,e))),l},it.success=at("success"),it.info=at("info"),it.error=at("error"),it.warning=at("warning"),it.warn=it.warning,it.dark=(e,t)=>rt(e,nt("default",{theme:"dark",...t})),it.dismiss=function(e){!function(e){var t;if(Ge()){if(null==e||Ne(t=e)||Le(t))We.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){var r;(null==(r=We.get(e.containerId))?void 0:r.removeToast(e.id))||We.forEach((t=>{t.removeToast(e.id)}))}}else Ve=Ve.filter((t=>null!=e&&t.options.toastId!==e))}(e)},it.clearWaitingQueue=function(e){void 0===e&&(e={}),We.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},it.isActive=Ze,it.update=function(e,t){void 0===t&&(t={});const r=((e,t)=>{var r;let{containerId:n}=t;return null==(r=We.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(r){const{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:et()};i.toastId!==e&&(i.staleId=e);const o=i.render||a;delete i.render,rt(o,i)}},it.done=e=>{it.update(e,{progress:1})},it.onChange=function(e){return He.add(e),()=>{He.delete(e)}},it.play=e=>Je(!0,e),it.pause=e=>Je(!1,e);const ot="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,st=e=>{let{theme:t,type:r,isLoading:n,...i}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(r,")"),...i})},ct={info:function(e){return a.createElement(st,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(st,{...e},a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(st,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(st,{...e},a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}},lt=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:o}=Ye(e),{closeButton:s,children:c,autoClose:l,onClick:u,type:d,hideProgressBar:p,closeToast:h,transition:f,position:m,className:g,style:v,bodyClassName:y,bodyStyle:b,progressClassName:_,progressStyle:w,updateId:S,role:k,progress:E,rtl:R,toastId:x,deleteToast:C,isIn:P,isLoading:T,closeOnClick:O,theme:D}=e,I=je("Toastify__toast","Toastify__toast-theme--".concat(D),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":O}),M=Ae(g)?g({rtl:R,position:m,type:d,defaultClassName:I}):je(I,g),j=function(e){let{theme:t,type:r,isLoading:n,icon:i}=e,o=null;const s={theme:t,type:r};return!1===i||(Ae(i)?o=i({...s,isLoading:n}):(0,a.isValidElement)(i)?o=(0,a.cloneElement)(i,s):n?o=ct.spinner():(e=>e in ct)(r)&&(o=ct[r](s))),o}(e),L=!!E||!l,N={closeToast:h,type:d,theme:D};let A=null;return!1===s||(A=Ae(s)?s(N):(0,a.isValidElement)(s)?(0,a.cloneElement)(s,N):function(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return a.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":n},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(N)),a.createElement(f,{isIn:P,done:C,position:m,preventExitTransition:r,nodeRef:n,playToast:o},a.createElement("div",{id:x,onClick:u,"data-in":P,className:M,...i,style:v,ref:n},a.createElement("div",{...P&&{role:k},className:Ae(y)?y({type:d}):je("Toastify__toast-body",y),style:b},null!=j&&a.createElement("div",{className:je("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},j),a.createElement("div",null,c)),A,a.createElement($e,{...S&&!L?{key:"pb-".concat(S)}:{},rtl:R,theme:D,delay:l,isRunning:t,isIn:P,closeToast:h,hide:p,type:d,style:w,className:_,controlledProgress:L,progress:E||0})))},ut=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},dt=Ue(ut("bounce",!0)),pt=(Ue(ut("slide",!0)),Ue(ut("zoom")),Ue(ut("flip")),{position:"top-right",transition:dt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function ht(e){let t={...pt,...e};const r=e.stacked,[n,i]=(0,a.useState)(!0),o=(0,a.useRef)(null),{getToastToRender:s,isToastActive:c,count:l}=Qe(t),{className:u,style:d,rtl:p,containerId:h}=t;function f(e){const t=je("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":p});return Ae(u)?u({position:e,rtl:p,defaultClassName:t}):je(t,Be(u))}function m(){r&&(i(!0),it.play())}return ot((()=>{if(r){var e;const r=o.current.querySelectorAll('[data-in="true"]'),a=12,i=null==(e=t.position)?void 0:e.includes("top");let s=0,c=0;Array.from(r).reverse().forEach(((e,t)=>{const r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed="".concat(n)),r.dataset.pos||(r.dataset.pos=i?"top":"bot");const o=s*(n?.2:1)+(n?0:a*t);r.style.setProperty("--y","".concat(i?o:-1*o,"px")),r.style.setProperty("--g","".concat(a)),r.style.setProperty("--s",""+(1-(n?c:0))),s+=r.offsetHeight,c+=.025}))}}),[n,l,r]),a.createElement("div",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{r&&(i(!1),it.pause())},onMouseLeave:m},s(((e,t)=>{const n=t.length?{...d}:{...d,pointerEvents:"none"};return a.createElement("div",{className:f(e),style:n,key:"container-".concat(e)},t.map((e=>{let{content:t,props:n}=e;return a.createElement(lt,{...n,stacked:r,collapseAll:m,isIn:c(n.toastId,n.containerId),style:n.style,key:"toast-".concat(n.key)},t)})))})))}var ft=r(995),mt=a,gt=Symbol.for("react-redux-context"),vt="undefined"!==typeof globalThis?globalThis:{};function yt(){var e;if(!mt.createContext)return{};const t=null!==(e=vt[gt])&&void 0!==e?e:vt[gt]=new Map;let r=t.get(mt.createContext);return r||(r=mt.createContext(null),t.set(mt.createContext,r)),r}var bt=yt(),_t=()=>{throw new Error("uSES not initialized!")};function wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return function(){return mt.useContext(e)}}var St=wt(),kt=_t,Et=(e,t)=>e===t;function Rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;const t=e===bt?St:wt(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:n=Et,devModeChecks:a={}}="function"===typeof r?{equalityFn:r}:r;const{store:i,subscription:o,getServerState:s,stabilityCheck:c,identityFunctionCheck:l}=t(),u=(mt.useRef(!0),mt.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,a.stabilityCheck])),d=kt(o.addNestedSub,i.getState,s||i.getState,u,n);return mt.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var xt=Rt();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function Ct(e){e()}var Pt={notify(){},get:()=>[]};function Tt(e,t){let r,n=Pt,a=0,i=!1;function o(){l.onStateChange&&l.onStateChange()}function s(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ct((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function c(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=Pt)}const l={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),c())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,c())},getListeners:()=>n};return l}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Dt="undefined"!==typeof navigator&&"ReactNative"===navigator.product,It=Ot||Dt?mt.useLayoutEffect:mt.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Mt=function(e){let{store:t,context:r,children:n,serverState:a,stabilityCheck:i="once",identityFunctionCheck:o="once"}=e;const s=mt.useMemo((()=>{const e=Tt(t);return{store:t,subscription:e,getServerState:a?()=>a:void 0,stabilityCheck:i,identityFunctionCheck:o}}),[t,a,i,o]),c=mt.useMemo((()=>t.getState()),[t]);It((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,c]);const l=r||bt;return mt.createElement(l.Provider,{value:s},n)};function jt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;const t=e===bt?St:wt(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var Lt=jt();function Nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;const t=e===bt?Lt:jt(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var At,Bt=Nt();function Ft(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}At=ft.useSyncExternalStoreWithSelector,kt=At,(e=>{e})(a.useSyncExternalStore);var Ut=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),zt=()=>Math.random().toString(36).substring(7).split("").join("."),Wt={INIT:"@@redux/INIT".concat(zt()),REPLACE:"@@redux/REPLACE".concat(zt()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(zt())};function Vt(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ht(e,t,r){if("function"!==typeof e)throw new Error(Ft(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Ft(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Ft(1));return r(Ht)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function l(){o===i&&(o=new Map,i.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(c)throw new Error(Ft(3));return a}function d(e){if("function"!==typeof e)throw new Error(Ft(4));if(c)throw new Error(Ft(5));let t=!0;l();const r=s++;return o.set(r,e),function(){if(t){if(c)throw new Error(Ft(6));t=!1,l(),o.delete(r),i=null}}}function p(e){if(!Vt(e))throw new Error(Ft(7));if("undefined"===typeof e.type)throw new Error(Ft(8));if("string"!==typeof e.type)throw new Error(Ft(17));if(c)throw new Error(Ft(9));try{c=!0,a=n(a,e)}finally{c=!1}return(i=o).forEach((e=>{e()})),e}p({type:Wt.INIT});const h={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ft(10));n=e,p({type:Wt.REPLACE})},[Ut]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Ft(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[Ut](){return this}}}};return h}function qt(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const n=t[o];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach((t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Wt.INIT}))throw new Error(Ft(12));if("undefined"===typeof r(void 0,{type:Wt.PROBE_UNKNOWN_ACTION()}))throw new Error(Ft(13))}))}(r)}catch(i){a=i}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<n.length;a++){const s=n[a],c=r[s],l=e[s],u=c(l,t);if("undefined"===typeof u){t&&t.type;throw new Error(Ft(14))}o[s]=u,i=i||u!==l}return i=i||n.length!==Object.keys(e).length,i?o:e}}function Gt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Zt(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var Kt=Zt(),Jt=Zt,Qt=Symbol.for("immer-nothing"),Yt=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function Xt(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var er=Object.getPrototypeOf;function tr(e){return!!e&&!!e[$t]}function rr(e){var t;return!!e&&(ar(e)||Array.isArray(e)||!!e[Yt]||!(null===(t=e.constructor)||void 0===t||!t[Yt])||lr(e)||ur(e))}var nr=Object.prototype.constructor.toString();function ar(e){if(!e||"object"!==typeof e)return!1;const t=er(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===nr}function ir(e,t){0===or(e)?Reflect.ownKeys(e).forEach((r=>{t(r,e[r],e)})):e.forEach(((r,n)=>t(n,r,e)))}function or(e){const t=e[$t];return t?t.type_:Array.isArray(e)?1:lr(e)?2:ur(e)?3:0}function sr(e,t){return 2===or(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cr(e,t,r){const n=or(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function lr(e){return e instanceof Map}function ur(e){return e instanceof Set}function dr(e){return e.copy_||e.base_}function pr(e,t){if(lr(e))return new Map(e);if(ur(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ar(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[$t];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(er(e),t)}{const t=er(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function hr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return mr(e)||tr(e)||!rr(e)||(or(e)>1&&(e.set=e.add=e.clear=e.delete=fr),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,r]=e;return hr(r,!0)}))),e}function fr(){Xt(2)}function mr(e){return Object.isFrozen(e)}var gr,vr={};function yr(e){const t=vr[e];return t||Xt(0),t}function br(){return gr}function _r(e,t){t&&(yr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wr(e){Sr(e),e.drafts_.forEach(Er),e.drafts_=null}function Sr(e){e===gr&&(gr=e.parent_)}function kr(e){return gr={drafts_:[],parent_:gr,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Er(e){const t=e[$t];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Rr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[$t].modified_&&(wr(t),Xt(4)),rr(e)&&(e=xr(t,e),t.parent_||Pr(t,e)),t.patches_&&yr("Patches").generateReplacementPatches_(r[$t].base_,e,t.patches_,t.inversePatches_)):e=xr(t,r,[]),wr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Qt?e:void 0}function xr(e,t,r){if(mr(t))return t;const n=t[$t];if(!n)return ir(t,((a,i)=>Cr(e,n,t,a,i,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return Pr(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),ir(a,((a,o)=>Cr(e,n,t,a,o,r,i))),Pr(e,t,!1),r&&e.patches_&&yr("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Cr(e,t,r,n,a,i,o){if(tr(a)){const o=xr(e,a,i&&t&&3!==t.type_&&!sr(t.assigned_,n)?i.concat(n):void 0);if(cr(r,n,o),!tr(o))return;e.canAutoFreeze_=!1}else o&&r.add(a);if(rr(a)&&!mr(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xr(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Pr(e,a)}}function Pr(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hr(t,r)}var Tr={get(e,t){if(t===$t)return e;const r=dr(e);if(!sr(r,t))return function(e,t,r){var n;const a=Ir(t,r);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!rr(n)?n:n===Dr(e.base_,t)?(jr(e),e.copy_[t]=Lr(n,e)):n},has:(e,t)=>t in dr(e),ownKeys:e=>Reflect.ownKeys(dr(e)),set(e,t,r){const n=Ir(dr(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Dr(dr(e),t),a=null===n||void 0===n?void 0:n[$t];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||sr(e.base_,t)))return!0;jr(e),Mr(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Dr(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,jr(e),Mr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=dr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Xt(11)},getPrototypeOf:e=>er(e.base_),setPrototypeOf(){Xt(12)}},Or={};function Dr(e,t){const r=e[$t];return(r?dr(r):e)[t]}function Ir(e,t){if(!(t in e))return;let r=er(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=er(r)}}function Mr(e){e.modified_||(e.modified_=!0,e.parent_&&Mr(e.parent_))}function jr(e){e.copy_||(e.copy_=pr(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ir(Tr,((e,t)=>{Or[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Or.deleteProperty=function(e,t){return Or.set.call(this,e,t,void 0)},Or.set=function(e,t,r){return Tr.set.call(this,e[0],t,r,e[0])};function Lr(e,t){const r=lr(e)?yr("MapSet").proxyMap_(e,t):ur(e)?yr("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:br(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Tr;r&&(a=[n],i=Or);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:br()).drafts_.push(r),r}function Nr(e){if(!rr(e)||mr(e))return e;const t=e[$t];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=pr(e,t.scope_.immer_.useStrictShallowCopy_)}else r=pr(e,!0);return ir(r,((e,t)=>{cr(r,e,Nr(t))})),t&&(t.finalized_=!1),r}var Ar=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,(e=>t.call(this,e,...i)))}}let n;if("function"!==typeof t&&Xt(6),void 0!==r&&"function"!==typeof r&&Xt(7),rr(e)){const a=kr(this),i=Lr(e,void 0);let o=!0;try{n=t(i),o=!1}finally{o?wr(a):Sr(a)}return _r(a,r),Rr(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Qt&&(n=void 0),this.autoFreeze_&&hr(n,!0),r){const t=[],a=[];yr("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}Xt(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,(t=>e(t,...a)))};let n,a;const i=this.produce(e,r,((e,t)=>{n=e,a=t}));return[i,n,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){rr(e)||Xt(8),tr(e)&&(e=function(e){tr(e)||Xt(10);return Nr(e)}(e));const t=kr(this),r=Lr(e,void 0);return r[$t].isManual_=!0,Sr(t),r}finishDraft(e,t){const r=e&&e[$t];r&&r.isManual_||Xt(9);const{scope_:n}=r;return _r(n,t),Rr(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=yr("Patches").applyPatches_;return tr(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},Br=Ar.produce;Ar.produceWithPatches.bind(Ar),Ar.setAutoFreeze.bind(Ar),Ar.setUseStrictShallowCopy.bind(Ar),Ar.applyPatches.bind(Ar),Ar.createDraft.bind(Ar),Ar.finishDraft.bind(Ar);var Fr="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Gt:Gt.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ur(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(ln(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>function(e){return Vt(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,r}var zr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function Wr(e){return rr(e)?Br(e,(()=>{})):e}function Vr(e,t,r){if(e.has(t)){let n=e.get(t);return r.update&&(n=r.update(n,t,e),e.set(t,n)),n}if(!r.insert)throw new Error(ln(10));const n=r.insert(t,e);return e.set(t,n),n}var Hr="RTK_autoBatch",qr=e=>t=>{setTimeout(t,e)},Gr="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:qr(10),Zr=e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new zr(e);return r&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?Gr:"callback"===e.type?e.queueNotification:qr(e.timeout),c=()=>{i=!1,a&&(a=!1,o.forEach((e=>e())))};return Object.assign({},r,{subscribe(e){const t=r.subscribe((()=>n&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Hr]),a=!n,a&&(i||(i=!0,s(c))),r.dispatch(e)}finally{n=!0}}})}}("object"===typeof r?r:void 0)),n};function Kr(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(ln(28));if(n in t)throw new Error(ln(29));return t[n]=r,a},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var Jr=Symbol.for("rtk-slice-createasyncthunk");function Qr(e,t){return"".concat(e,"/").concat(t)}function Yr(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Jr];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(ln(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(ln(12));if(r in o.sliceCaseReducersByType)throw new Error(ln(13));return o.sliceCaseReducersByType[r]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function c(){const[t={},r=[],n]="function"===typeof e.extraReducers?Kr(e.extraReducers):[e.extraReducers],a={...t,...o.sliceCaseReducersByType};return function(e,t){let r,[n,a,i]=Kr(t);if(function(e){return"function"===typeof e}(e))r=()=>Wr(e());else{const t=Wr(e);r=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,o=[n[t.type],...a.filter((e=>{let{matcher:r}=e;return r(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[i]),o.reduce(((e,r)=>{if(r){if(tr(e)){const n=r(e,t);return void 0===n?e:n}if(rr(e))return Br(e,(e=>r(e,t)));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw new Error(ln(9))}return n}}return e}),e)}return o.getInitialState=r,o}(e.initialState,(e=>{for(let t in a)e.addCase(t,a[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)}))}i.forEach((n=>{const i=a[n],o={reducerName:n,type:Qr(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,r){let n,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(ln(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(o,n).exposeAction(o,a?Ur(i,a):Ur(i))}(o,i,s):function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw new Error(ln(18));const{payloadCreator:o,fulfilled:s,pending:c,rejected:l,settled:u,options:d}=t,p=n(a,o,d);r.exposeAction(i,p),s&&r.addCase(p.fulfilled,s);c&&r.addCase(p.pending,c);l&&r.addCase(p.rejected,l);u&&r.addMatcher(p.settled,u);r.exposeCaseReducer(i,{fulfilled:s||en,pending:c||en,rejected:l||en,settled:u||en})}(o,i,s,r)}));const l=e=>e,u=new Map;let d;function p(e,t){return d||(d=c()),d(e,t)}function h(){return d||(d=c()),d.getInitialState()}function f(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let n=e[t];return"undefined"===typeof n&&r&&(n=h()),n}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const n=Vr(u,r,{insert:()=>new WeakMap});return Vr(n,t,{insert:()=>{const n={};for(const[i,o]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;n[i]=$r(o,t,h,r)}return n}})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const m={name:t,reducer:p,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:h,...f(n),injectInto(e){let{reducerPath:t,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=null!==t&&void 0!==t?t:n;return e.inject({reducerPath:a,reducer:p},r),{...m,...f(a,!0)}}};return m}}function $r(e,t,r,n){function a(a){let i=t(a);"undefined"===typeof i&&n&&(i=r());for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return e(i,...s)}return a.unwrapped=e,a}var Xr=Yr();function en(){}var tn="listener",rn="completed",nn="cancelled";"task-".concat(nn),"task-".concat(rn),"".concat(tn,"-").concat(nn),"".concat(tn,"-").concat(rn);var{assign:an}=Object,on="listenerMiddleware",sn=an(Ur("".concat(on,"/add")),{withTypes:()=>sn}),cn=("".concat(on,"/removeAll"),an(Ur("".concat(on,"/remove")),{withTypes:()=>cn}));Symbol.for("rtk-state-proxy-original");function ln(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const un=Xr({name:"mode",initialState:!1,reducers:{setMode:(e,t)=>t.payload}}),{setMode:dn}=un.actions,pn=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let i=new zr;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(Kt):i.push(Jt(t.extraArgument))),i},{reducer:r,middleware:n,devTools:a=!0,preloadedState:i,enhancers:o}=e||{};let s,c;if("function"===typeof r)s=r;else{if(!Vt(r))throw new Error(ln(1));s=qt(r)}c="function"===typeof n?n(t):t();let l=Gt;a&&(l=Fr({trace:!1,..."object"===typeof a&&a}));const u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(Ft(15))};const o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,...r)}},s=t.map((e=>e(o)));return i=Gt(...s)(a.dispatch),{...a,dispatch:i}}}(...c),d=Zr(u);return Ht(s,i,l(..."function"===typeof o?o(d):d()))}({reducer:{mode:un.reducer}}),hn=pn;var fn=r(184);const mn=e=>(0,fn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",...e,children:[(0,fn.jsx)("path",{fill:"rgba(255, 255, 255, 0)",d:"M0 0h24v24H0z"}),(0,fn.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 17h18M3 12h18M3 7h18"})]}),gn=e=>(0,fn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",...e,children:[(0,fn.jsx)("path",{fill:"rgba(255, 255, 255, 0)",d:"M0 0h24v24H0z"}),(0,fn.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,fn.jsx)("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002-.071.035-.02.004-.014-.004-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093c.012.004.023 0 .029-.008l.004-.014-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014-.034.614c0 .012.007.02.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01-.184-.092Z"}),(0,fn.jsx)("path",{fill:"currentColor",d:"m12 14.121 5.303 5.304a1.5 1.5 0 0 0 2.122-2.122L14.12 12l5.304-5.303a1.5 1.5 0 1 0-2.122-2.121L12 9.879 6.697 4.576a1.5 1.5 0 1 0-2.122 2.12L9.88 12l-5.304 5.303a1.5 1.5 0 1 0 2.122 2.122L12 14.12Z"})]})]}),vn=r.p+"static/media/SquadScript.4f946e13c34037bd3e88.png";var yn,bn,_n,wn,Sn,kn,En,Rn,xn,Cn,Pn,Tn,On,Dn,In,Mn,jn;function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}function Nn(e,t){let{title:r,titleId:n,...i}=e;return a.createElement("svg",Ln({className:"sun",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 496 496",style:{enableBackground:"new 0 0 496 496"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},i),r?a.createElement("title",{id:n},r):null,yn||(yn=a.createElement("rect",{x:152.994,y:58.921,transform:"matrix(0.3827 0.9239 -0.9239 0.3827 168.6176 -118.5145)",width:40.001,height:16})),bn||(bn=a.createElement("rect",{x:46.9,y:164.979,transform:"matrix(0.9239 0.3827 -0.3827 0.9239 71.29 -12.4346)",width:40.001,height:16})),_n||(_n=a.createElement("rect",{x:46.947,y:315.048,transform:"matrix(0.9239 -0.3827 0.3827 0.9239 -118.531 50.2116)",width:40.001,height:16})),wn||(wn=a.createElement("rect",{x:164.966,y:409.112,transform:"matrix(-0.9238 -0.3828 0.3828 -0.9238 168.4872 891.7491)",width:16,height:39.999})),Sn||(Sn=a.createElement("rect",{x:303.031,y:421.036,transform:"matrix(-0.3827 -0.9239 0.9239 -0.3827 50.2758 891.6655)",width:40.001,height:16})),kn||(kn=a.createElement("rect",{x:409.088,y:315.018,transform:"matrix(-0.9239 -0.3827 0.3827 -0.9239 701.898 785.6559)",width:40.001,height:16})),En||(En=a.createElement("rect",{x:409.054,y:165.011,transform:"matrix(-0.9239 0.3827 -0.3827 -0.9239 891.6585 168.6574)",width:40.001,height:16})),Rn||(Rn=a.createElement("rect",{x:315.001,y:46.895,transform:"matrix(0.9238 0.3828 -0.3828 0.9238 50.212 -118.5529)",width:16,height:39.999})),xn||(xn=a.createElement("path",{d:"M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z M248,392 c-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z"})),Cn||(Cn=a.createElement("rect",{x:240,width:16,height:72})),Pn||(Pn=a.createElement("rect",{x:62.097,y:90.096,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 98.0963 -40.6334)",width:71.999,height:16})),Tn||(Tn=a.createElement("rect",{y:240,width:72,height:16})),On||(On=a.createElement("rect",{x:90.091,y:361.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 -113.9157 748.643)",width:16,height:71.999})),Dn||(Dn=a.createElement("rect",{x:240,y:424,width:16,height:72})),In||(In=a.createElement("rect",{x:361.881,y:389.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 397.8562 960.6281)",width:71.999,height:16})),Mn||(Mn=a.createElement("rect",{x:424,y:240,width:72,height:16})),jn||(jn=a.createElement("rect",{x:389.911,y:62.091,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 185.9067 -252.6357)",width:16,height:71.999})))}const An=a.forwardRef(Nn);r.p;var Bn;function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(this,arguments)}function Un(e,t){let{title:r,titleId:n,...i}=e;return a.createElement("svg",Fn({className:"moon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 49.739 49.739",style:{enableBackground:"new 0 0 49.739 49.739"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},i),r?a.createElement("title",{id:n},r):null,Bn||(Bn=a.createElement("path",{d:"M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268        c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0        c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822        C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253        c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748        c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z"})))}const zn=a.forwardRef(Un);r.p;const Wn=function(){const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(""),i=Bt(),o=xt((e=>e.mode));return(0,a.useEffect)((()=>{n(localStorage.getItem("username"))}),[]),(0,fn.jsx)("nav",{className:"navbar",children:(0,fn.jsxs)("div",{className:"nav-container",children:[(0,fn.jsx)("div",{className:"nav-logo",children:(0,fn.jsx)(Te,{to:"/",children:(0,fn.jsx)("img",{src:vn,alt:"SquadScript Logo"})})}),(0,fn.jsxs)("ul",{className:e?"nav-menu active":"nav-menu",children:[(0,fn.jsx)("li",{className:"nav-item",children:(0,fn.jsx)(Te,{to:"/",className:"nav-links",onClick:()=>t(!1),children:"Home"})}),(0,fn.jsx)("li",{className:"nav-item",children:(0,fn.jsx)(Te,{to:"/about",className:"nav-links",onClick:()=>t(!1),children:"About"})}),(0,fn.jsx)("li",{className:"nav-item",children:(0,fn.jsx)(Te,{to:"/join",className:"nav-links",onClick:()=>t(!1),children:"Join"})}),(0,fn.jsx)("li",{className:"nav-item",children:(0,fn.jsx)(Te,{to:"/contact",className:"nav-links",onClick:()=>t(!1),children:"Contact Us"})}),(0,fn.jsx)("li",{className:"nav-item",children:r?(0,fn.jsx)(Te,{to:"/profile",className:"nav-links",onClick:()=>t(!1),children:r}):(0,fn.jsx)(Te,{to:"/login-signup",className:"nav-links",onClick:()=>t(!1),children:"Login"})})]}),(0,fn.jsxs)("div",{className:"dark_mode",children:[(0,fn.jsx)("input",{className:"dark_mode_input",type:"checkbox",id:"flexSwitchCheckDefault",onChange:()=>{i(dn(!o))}}),(0,fn.jsxs)("label",{className:"dark_mode_label form-check-label text-".concat("light"===o?"dark":"light"),htmlFor:"flexSwitchCheckDefault",children:[(0,fn.jsx)(An,{}),(0,fn.jsx)(zn,{})]})]}),(0,fn.jsx)("div",{className:"nav-icon me-5",onClick:()=>t(!e),children:e?(0,fn.jsx)("span",{className:"icon",children:(0,fn.jsx)(gn,{})}):(0,fn.jsx)("span",{className:"icon",children:(0,fn.jsx)(mn,{})})})]})})},Vn=e=>(0,fn.jsx)("div",{className:"footer mt-auto footer-main",children:(0,fn.jsxs)("div",{className:"container",children:[(0,fn.jsx)("h2",{className:"text-center",style:{fontSize:"20px",paddingTop:"15px"},children:"All Right Reserved \xa9 CoffeeCoders"}),(0,fn.jsxs)("p",{className:"text-center mt-3 mb-0",children:[(0,fn.jsx)(Pe,{className:"footer-links",to:"/about",children:"About"})," | ",(0,fn.jsx)(Pe,{className:"footer-links",to:"/contact",children:"Contact"})," |"," ",(0,fn.jsx)(Pe,{className:"footer-links",to:"/privacy-policy",children:"Privacy Policy"})," |",(0,fn.jsx)(Pe,{className:"footer-links",to:"/tnc",children:" Terms and Conditions"})]})]})});const Hn=function(e){return"object"===typeof window.Node?e instanceof window.Node:null!==e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName};const qn=function(e){var t=Object.prototype.toString.call(e);return"object"===typeof window.NodeList?e instanceof window.NodeList:null!==e&&"object"===typeof e&&"number"===typeof e.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(0===e.length||Hn(e[0]))};const Gn=function(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(Hn);if(Hn(e))return[e];if(qn(e))return Array.prototype.slice.call(e);if("string"===typeof e)try{var r=t.querySelectorAll(e);return Array.prototype.slice.call(r)}catch(n){return[]}return[]};function Zn(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=Kn();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function Kn(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function Jn(e,t){for(var r=Zn(e),n=Zn(t),a=[],i=0;i<4;i++)for(var o=[r[i],r[i+4],r[i+8],r[i+12]],s=0;s<4;s++){var c=4*s,l=[n[c],n[c+1],n[c+2],n[c+3]],u=o[0]*l[0]+o[1]*l[1]+o[2]*l[2]+o[3]*l[3];a[i+c]=u}return a}function Qn(e){if("string"===typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return Zn(t[2].split(", ").map(parseFloat))}return Kn()}function Yn(e){var t=Math.PI/180*e,r=Kn();return r[0]=r[5]=Math.cos(t),r[1]=r[4]=Math.sin(t),r[4]*=-1,r}function $n(e,t){var r=Kn();return r[0]=e,r[5]="number"===typeof t?t:e,r}var Xn=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout((function(){return Xn(t)}),0)}}();const ea=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Xn;var ta={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};var ra={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function na(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function aa(e,t){if(na(e))return Object.keys(e).forEach((function(r){return t(e[r],r,e)}));if(e instanceof Array)return e.forEach((function(r,n){return t(r,n,e)}));throw new TypeError("Expected either an array or object literal.")}function ia(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(this.constructor.debug&&console){var n="%cScrollReveal: "+e;t.forEach((function(e){return n+="\n \u2014 "+e})),console.log(n,"color: #ea654b;")}}function oa(){var e=this,t={active:[],stale:[]},r={active:[],stale:[]},n={active:[],stale:[]};try{aa(Gn("[data-sr-id]"),(function(e){var r=parseInt(e.getAttribute("data-sr-id"));t.active.push(r)}))}catch(a){throw a}aa(this.store.elements,(function(e){-1===t.active.indexOf(e.id)&&t.stale.push(e.id)})),aa(t.stale,(function(t){return delete e.store.elements[t]})),aa(this.store.elements,(function(e){-1===n.active.indexOf(e.containerId)&&n.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===r.active.indexOf(e.sequence.id)&&r.active.push(e.sequence.id)})),aa(this.store.containers,(function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)})),aa(n.stale,(function(t){var r=e.store.containers[t].node;r.removeEventListener("scroll",e.delegate),r.removeEventListener("resize",e.delegate),delete e.store.containers[t]})),aa(this.store.sequences,(function(e){-1===r.active.indexOf(e.id)&&r.stale.push(e.id)})),aa(r.stale,(function(t){return delete e.store.sequences[t]}))}var sa=function(){var e={},t=document.documentElement.style;function r(r,n){if(void 0===n&&(n=t),r&&"string"===typeof r){if(e[r])return e[r];if("string"===typeof n[r])return e[r]=r;if("string"===typeof n["-webkit-"+r])return e[r]="-webkit-"+r;throw new RangeError('Unable to find "'+r+'" style property.')}throw new TypeError("Expected a string.")}return r.clearCache=function(){return e={}},r}();function ca(e){var t=window.getComputedStyle(e.node),r=t.position,n=e.config,a={},i=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];a.computed=i?i.map((function(e){return e.trim()})).join("; ")+";":"",a.generated=i.some((function(e){return e.match(/visibility\s?:\s?visible/i)}))?a.computed:i.concat(["visibility: visible"]).map((function(e){return e.trim()})).join("; ")+";";var o=parseFloat(t.opacity),s=isNaN(parseFloat(n.opacity))?parseFloat(t.opacity):parseFloat(n.opacity),c={computed:o!==s?"opacity: "+o+";":"",generated:o!==s?"opacity: "+s+";":""},l=[];if(parseFloat(n.distance)){var u="top"===n.origin||"bottom"===n.origin?"Y":"X",d=n.distance;"top"!==n.origin&&"left"!==n.origin||(d=/^-/.test(d)?d.substr(1):"-"+d);var p=d.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),h=p[0];switch(p[1]){case"em":d=parseInt(t.fontSize)*h;break;case"px":d=h;break;case"%":d="Y"===u?e.node.getBoundingClientRect().height*h/100:e.node.getBoundingClientRect().width*h/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===u?l.push(function(e){var t=Kn();return t[13]=e,t}(d)):l.push(function(e){var t=Kn();return t[12]=e,t}(d))}n.rotate.x&&l.push(function(e){var t=Math.PI/180*e,r=Kn();return r[5]=r[10]=Math.cos(t),r[6]=r[9]=Math.sin(t),r[9]*=-1,r}(n.rotate.x)),n.rotate.y&&l.push(function(e){var t=Math.PI/180*e,r=Kn();return r[0]=r[10]=Math.cos(t),r[2]=r[8]=Math.sin(t),r[2]*=-1,r}(n.rotate.y)),n.rotate.z&&l.push(Yn(n.rotate.z)),1!==n.scale&&(0===n.scale?l.push($n(2e-4)):l.push($n(n.scale)));var f={};if(l.length){f.property=sa("transform"),f.computed={raw:t[f.property],matrix:Qn(t[f.property])},l.unshift(f.computed.matrix);var m=l.reduce(Jn);f.generated={initial:f.property+": matrix3d("+m.join(", ")+");",final:f.property+": matrix3d("+f.computed.matrix.join(", ")+");"}}else f.generated={initial:"",final:""};var g={};if(c.generated||f.generated.initial){g.property=sa("transition"),g.computed=t[g.property],g.fragments=[];var v=n.delay,y=n.duration,b=n.easing;c.generated&&g.fragments.push({delayed:"opacity "+y/1e3+"s "+b+" "+v/1e3+"s",instant:"opacity "+y/1e3+"s "+b+" 0s"}),f.generated.initial&&g.fragments.push({delayed:f.property+" "+y/1e3+"s "+b+" "+v/1e3+"s",instant:f.property+" "+y/1e3+"s "+b+" 0s"}),g.computed&&!g.computed.match(/all 0s|none 0s/)&&g.fragments.unshift({delayed:g.computed,instant:g.computed});var _=g.fragments.reduce((function(e,t,r){return e.delayed+=0===r?t.delayed:", "+t.delayed,e.instant+=0===r?t.instant:", "+t.instant,e}),{delayed:"",instant:""});g.generated={delayed:g.property+": "+_.delayed+";",instant:g.property+": "+_.instant+";"}}else g.generated={delayed:"",instant:""};return{inline:a,opacity:c,position:r,transform:f,transition:g}}function la(e,t){t.split(";").forEach((function(t){var r=t.split(":"),n=r[0],a=r.slice(1);n&&a&&(e.style[n.trim()]=a.join(":"))}))}function ua(e){var t,r=this;try{aa(Gn(e),(function(e){var n=e.getAttribute("data-sr-id");if(null!==n){t=!0;var a=r.store.elements[n];a.callbackTimer&&window.clearTimeout(a.callbackTimer.clock),la(a.node,a.styles.inline.generated),e.removeAttribute("data-sr-id"),delete r.store.elements[n]}}))}catch(n){return ia.call(this,"Clean failed.",n.message)}if(t)try{oa.call(this)}catch(n){return ia.call(this,"Clean failed.",n.message)}}function da(){var e=this;aa(this.store.elements,(function(e){la(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")})),aa(this.store.containers,(function(t){var r=t.node===document.documentElement?window:t.node;r.removeEventListener("scroll",e.delegate),r.removeEventListener("resize",e.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}function pa(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(na(e))return aa(t,(function(t){aa(t,(function(t,r){na(t)?(e[r]&&na(e[r])||(e[r]={}),pa(e[r],t)):e[r]=t}))})),e;throw new TypeError("Target must be an object literal.")}function ha(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}var fa=function(){var e=0;return function(){return e++}}();function ma(){var e=this;oa.call(this),aa(this.store.elements,(function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),la(e.node,t.filter((function(e){return""!==e})).join(" "))})),aa(this.store.containers,(function(t){var r=t.node===document.documentElement?window:t.node;r.addEventListener("scroll",e.delegate),r.addEventListener("resize",e.delegate)})),this.delegate(),this.initTimeout=null}function ga(e,t){void 0===t&&(t={});var r=t.pristine||this.pristine,n="always"===e.config.useDelay||"onload"===e.config.useDelay&&r||"once"===e.config.useDelay&&!e.seen,a=e.visible&&!e.revealed,i=!e.visible&&e.revealed&&e.config.reset;return t.reveal||a?va.call(this,e,n):t.reset||i?ya.call(this,e):void 0}function va(e,t){var r=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?r.push(e.styles.transition.generated.delayed):r.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,la(e.node,r.filter((function(e){return""!==e})).join(" ")),ba.call(this,e,t)}function ya(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,la(e.node,t.filter((function(e){return""!==e})).join(" ")),ba.call(this,e)}function ba(e,t){var r=this,n=t?e.config.duration+e.config.delay:e.config.duration,a=e.revealed?e.config.beforeReveal:e.config.beforeReset,i=e.revealed?e.config.afterReveal:e.config.afterReset,o=0;e.callbackTimer&&(o=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),a(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){i(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&ua.call(r,e.node)}),n-o)}}function _a(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return ga.call(this,e,{reset:!0});var r=this.store.sequences[e.sequence.id],n=e.sequence.index;if(r){var a=new Sa(r,"visible",this.store),i=new Sa(r,"revealed",this.store);if(r.models={visible:a,revealed:i},!i.body.length){var o=r.members[a.body[0]],s=this.store.elements[o];if(s)return ka.call(this,r,a.body[0],-1,t),ka.call(this,r,a.body[0],1,t),ga.call(this,s,{reveal:!0,pristine:t})}if(!r.blocked.head&&n===[].concat(i.head).pop()&&n>=[].concat(a.body).shift())return ka.call(this,r,n,-1,t),ga.call(this,e,{reveal:!0,pristine:t});if(!r.blocked.foot&&n===[].concat(i.foot).shift()&&n<=[].concat(a.body).pop())return ka.call(this,r,n,1,t),ga.call(this,e,{reveal:!0,pristine:t})}}function wa(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=fa(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function Sa(e,t,r){var n=this;this.head=[],this.body=[],this.foot=[],aa(e.members,(function(e,a){var i=r.elements[e];i&&i[t]&&n.body.push(a)})),this.body.length&&aa(e.members,(function(e,a){var i=r.elements[e];i&&!i[t]&&(a<n.body[0]?n.head.push(a):n.foot.push(a))}))}function ka(e,t,r,n){var a=this,i=["head",null,"foot"][1+r],o=e.members[t+r],s=this.store.elements[o];e.blocked[i]=!0,setTimeout((function(){e.blocked[i]=!1,s&&_a.call(a,s,n)}),e.interval)}function Ea(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=!1);var a,i=[],o=t.interval||ta.interval;try{o&&(a=new wa(o));var s=Gn(e);if(!s.length)throw new Error("Invalid reveal target.");var c=s.reduce((function(e,r){var o={},s=r.getAttribute("data-sr-id");s?(pa(o,n.store.elements[s]),la(o.node,o.styles.inline.computed)):(o.id=fa(),o.node=r,o.seen=!1,o.revealed=!1,o.visible=!1);var c=pa({},o.config||n.defaults,t);if(!c.mobile&&ha()||!c.desktop&&!ha())return s&&ua.call(n,o),e;var l,u=Gn(c.container)[0];if(!u)throw new Error("Invalid container.");return u.contains(r)?(l=function(e){var t=[],r=arguments.length-1;for(;r-- >0;)t[r]=arguments[r+1];var n=null;return aa(t,(function(t){aa(t,(function(t){null===n&&t.node===e&&(n=t.id)}))})),n}(u,i,n.store.containers),null===l&&(l=fa(),i.push({id:l,node:u})),o.config=c,o.containerId=l,o.styles=ca(o),a&&(o.sequence={id:a.id,index:a.members.length},a.members.push(o.id)),e.push(o),e):e}),[]);aa(c,(function(e){n.store.elements[e.id]=e,e.node.setAttribute("data-sr-id",e.id)}))}catch(l){return ia.call(this,"Reveal failed.",l.message)}aa(i,(function(e){n.store.containers[e.id]={id:e.id,node:e.node}})),a&&(this.store.sequences[a.id]=a),!0!==r&&(this.store.history.push({target:e,options:t}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(ma.bind(this),0))}function Ra(){var e=this;aa(this.store.history,(function(t){Ea.call(e,t.target,t.options,!0)})),ma.call(this)}var xa=Math.sign||function(e){return(e>0)-(e<0)||+e};function Ca(e,t){var r=t?e.node.clientHeight:e.node.offsetHeight,n=t?e.node.clientWidth:e.node.offsetWidth,a=0,i=0,o=e.node;do{isNaN(o.offsetTop)||(a+=o.offsetTop),isNaN(o.offsetLeft)||(i+=o.offsetLeft),o=o.offsetParent}while(o);return{bounds:{top:a,right:i+n,bottom:a+r,left:i},height:r,width:n}}function Pa(e){var t,r;return e.node===document.documentElement?(t=window.pageYOffset,r=window.pageXOffset):(t=e.node.scrollTop,r=e.node.scrollLeft),{top:t,left:r}}function Ta(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var r=Math.max(0,Math.min(1,e.config.viewFactor)),n=e.config.viewOffset,a=e.geometry.bounds.top+e.geometry.height*r,i=e.geometry.bounds.right-e.geometry.width*r,o=e.geometry.bounds.bottom-e.geometry.height*r,s=e.geometry.bounds.left+e.geometry.width*r,c=t.geometry.bounds.top+t.scroll.top+n.top,l=t.geometry.bounds.right+t.scroll.left-n.right,u=t.geometry.bounds.bottom+t.scroll.top-n.bottom,d=t.geometry.bounds.left+t.scroll.left+n.left;return a<u&&i>d&&o>c&&s<l||"fixed"===e.styles.position}}function Oa(e,t){var r=this;void 0===e&&(e={type:"init"}),void 0===t&&(t=this.store.elements),ea((function(){var n="init"===e.type||"resize"===e.type;aa(r.store.containers,(function(e){n&&(e.geometry=Ca.call(r,e,!0));var t=Pa.call(r,e);e.scroll&&(e.direction={x:xa(t.left-e.scroll.left),y:xa(t.top-e.scroll.top)}),e.scroll=t})),aa(t,(function(e){(n||void 0===e.geometry)&&(e.geometry=Ca.call(r,e)),e.visible=Ta.call(r,e)})),aa(t,(function(e){e.sequence?_a.call(r,e):ga.call(r,e)})),r.pristine=!1}))}var Da,Ia,Ma,ja,La,Na,Aa,Ba;function Fa(e){var t;if(void 0===e&&(e={}),"undefined"===typeof this||Object.getPrototypeOf(this)!==Fa.prototype)return new Fa(e);if(!Fa.isSupported())return ia.call(this,"Instantiation failed.","This browser is not supported."),ra.failure();try{t=pa({},Na||ta,e)}catch(r){return ia.call(this,"Invalid configuration.",r.message),ra.failure()}try{if(!Gn(t.container)[0])throw new Error("Invalid container.")}catch(r){return ia.call(this,r.message),ra.failure()}return!(Na=t).mobile&&ha()||!Na.desktop&&!ha()?(ia.call(this,"This device is disabled.","desktop: "+Na.desktop,"mobile: "+Na.mobile),ra.failure()):(ra.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,Da=Da||Oa.bind(this),Ia=Ia||da.bind(this),Ma=Ma||Ea.bind(this),ja=ja||ua.bind(this),La=La||Ra.bind(this),Object.defineProperty(this,"delegate",{get:function(){return Da}}),Object.defineProperty(this,"destroy",{get:function(){return Ia}}),Object.defineProperty(this,"reveal",{get:function(){return Ma}}),Object.defineProperty(this,"clean",{get:function(){return ja}}),Object.defineProperty(this,"sync",{get:function(){return La}}),Object.defineProperty(this,"defaults",{get:function(){return Na}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),Ba||(Ba=this))}Fa.isSupported=function(){return function(){var e=document.documentElement.style;return"transform"in e||"WebkitTransform"in e}()&&function(){var e=document.documentElement.style;return"transition"in e||"WebkitTransition"in e}()},Object.defineProperty(Fa,"debug",{get:function(){return Aa||!1},set:function(e){return Aa="boolean"===typeof e?e:Aa}}),Fa();const Ua=Fa;var za={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wa=a.createContext&&a.createContext(za),Va=["attr","size","title"];function Ha(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qa.apply(this,arguments)}function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){Ka(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ka(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ja(e){return e&&e.map(((e,t)=>a.createElement(e.tag,Za({key:t},e.attr),Ja(e.child))))}function Qa(e){return t=>a.createElement(Ya,qa({attr:Za({},e.attr)},t),Ja(e.child))}function Ya(e){var t=t=>{var r,{attr:n,size:i,title:o}=e,s=Ha(e,Va),c=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",qa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:r,style:Za(Za({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==Wa?a.createElement(Wa.Consumer,null,(e=>t(e))):t(za)}function $a(e){return Qa({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"},child:[]}]})(e)}function Xa(e){return Qa({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"4.983",cy:"5.009",r:"2.188"},child:[]},{tag:"path",attr:{d:"M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z"},child:[]}]})(e)}const ei=r.p+"static/media/About1.8513bb72e125236bccf9.png",ti=r.p+"static/media/About2.2fbdeed553ab99fecc0b.png";const ri=function(){return(0,a.useEffect)((()=>{Ua({origin:"top",distance:"80px",duration:2e3,reset:!0}).reveal(".new-about-main-card",{interval:200})}),[]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"new-about-main-section",children:(0,fn.jsxs)("div",{className:"new-about-main-div",children:[(0,fn.jsx)("div",{className:"new-about-main-card",children:(0,fn.jsxs)("div",{className:"new-about-card",children:[(0,fn.jsx)("div",{className:"new-about-card-image",children:(0,fn.jsx)("img",{src:ei,alt:"Ayush Tripathi"})}),(0,fn.jsxs)("div",{className:"new-about-card-info",children:[(0,fn.jsx)("h1",{children:"Ayush Tripathi"}),(0,fn.jsx)("h6",{children:"Full Stack Developer"}),(0,fn.jsxs)("div",{className:"new-about-card-icons",children:[(0,fn.jsx)(Pe,{to:"https://www.linkedin.com/in/ayush-tripathi-039a20220",target:"_blank",children:(0,fn.jsx)(Xa,{className:"new-about-logo"})}),(0,fn.jsx)(Pe,{to:"https://www.github.com/ayushtripathi12103634",target:"_blank",children:(0,fn.jsx)($a,{className:"new-about-logo"})})]})]})]})}),(0,fn.jsx)("div",{className:"new-about-main-card",children:(0,fn.jsxs)("div",{className:"new-about-card",children:[(0,fn.jsx)("div",{className:"new-about-card-image",children:(0,fn.jsx)("img",{src:ti,alt:"Mohak Tiwari"})}),(0,fn.jsxs)("div",{className:"new-about-card-info",children:[(0,fn.jsx)("h1",{children:"Mohak Tiwari"}),(0,fn.jsx)("h6",{children:"Full Stack Developer"}),(0,fn.jsxs)("div",{className:"new-about-card-icons",children:[(0,fn.jsx)(Pe,{to:"https://www.linkedin.com/in/mohak-tiwari-b78198226/",target:"_blank",children:(0,fn.jsx)(Xa,{className:"new-about-logo"})}),(0,fn.jsx)(Pe,{to:"https://www.github.com/mohak1301",target:"_blank",children:(0,fn.jsx)($a,{className:"new-about-logo"})})]})]})]})})]})}),(0,fn.jsx)(Vn,{})]})},ni=r.p+"static/media/codergif.e5c19b68fc0f40e2228a.gif",ai=()=>((0,a.useEffect)((()=>{Ua({origin:"top",distance:"80px",duration:2e3,reset:!0}).reveal(".Landing-content1, .Landing-content2",{interval:200})}),[]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{bgColor:"#040514",color:"#4BC286"}),(0,fn.jsx)("div",{className:"Landing-main-section",children:(0,fn.jsxs)("div",{className:"Landing-content",children:[(0,fn.jsx)("div",{className:"Landing-content1",children:(0,fn.jsx)("img",{src:ni,alt:""})}),(0,fn.jsxs)("div",{className:"Landing-content2",children:[(0,fn.jsxs)("div",{className:"Landing-content2a",children:[(0,fn.jsxs)("h1",{children:["Unleash Innovation:",(0,fn.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAB1CAYAAAAhkJ3fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnaSURBVHgB7Zx5bBVVFMZPK4qURUBQERQXUFRciEuMa0xwi0tc4h6NezQm7kuiMWr8R+MegzEY3GNQiHtccF+oOyqgRtC2LAJWqQVptaJcv89zn5lO7x2m7evr43F+yZfX15k78+bM3HPPPffeETEMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMo5ypkgrGObcxPnaCJkIjoR+hL6A5VVVVv0uJWeeMDQNuiI9toRqoAUZrjuy3KT7Oga6E+kPV0GroD+hn6B1oGsp/LEZ7+JRCR0DToHpoMfQ6dAq0SWD/CdAr0BrXHn5fDa2AXoO2lxLRR8ocGIO1bxfoNOgIaDtokGitpJFXQQug9BO6OTROOtZefu/jjzEeOhq6T0pAtZQ/e0LXQhdCe0CDRX83jTZA9EZsEyj3KzQr+9AyFNobN7QkdihrY8MIW+DjOOgYaJiEf29faOPA/7+HnoHmShzekJk8lZSAcncju0J7ibqLEIwoXoLeS29gtIGbxUaQjSHdxY6iNWM3aCNosWgj+Tz2NWOLGqpROvpdGqcBehp6AloYKgwj/gKD1+LP2dBAaIjojWMNWQn9Bi1Ll0MZ3oxN9RBVS2R9ABfdD7rERx4FlkKTocOhEVCnHhg2uL7RDW3rA+0I3Qp94KOVS7w76zZlH2fjQhlV7AztLhpB8Cllw7cMT91fUkRwruH4OB+6QrSNYFzOJ/tF6Bacr0kqHf/EDaYxfK+wp86zPfR0IC5fCN0NbSCVAHuGUI3vIfbWb9gZest1hJ2gH6DjpRv0SOjHuBUa6Z/G6hz7srPyMPQaNAXfJ0J9pfT8IhrZrEn9n+3CCOji7tSsokYjvhU/GOITwHCrDXoX/2e8Ww+f97ffj23FPqK9tzGiIR4/WZ7hGX1zK1QrpYXRCUPJvf1vS9JPNHycAH0kvQkMuB10AzQDWuKrHtUAXQ4NSey7J/SYjzJW+v2S/Aqd3hs+0mkOhudeFHAnP0G7Sm/i3cW9ThNEqwM/8mVobGL/G7xBY/AY57peapCcNsR3Qi2p3/Qe1F+6SLHcyOnQYdBoCYeTDN9YDQsuZCtRVxGjDloqHX1nqWCIN0nUDZ4E8aaz2z8VrrBFukixjM0GbksJG5o9tWeh5fzCrjFglo55iRGB/dk7nAHNLVU3Og3O+4//jXdD74vmXvi9Xnob/LDbocaAO1gA3QbtlHQJ9HvQ/U57g+l88xzoKNfJnuF6g9MG71mnCXkabzn0CHQGNMZplJLcfwOnMe050EPQl04byw+h85yOslQcRemuO42JmVdmaLSNaBf3S2g+quQfGeVYPbcW9fUc5mKc+y20ordcSNnitNdXlfjODspAGt9Fkj3rKk4TWAOgftJFumQQnJAdFwb9HOmYJ5rmbCx0WioJ33ZwhJ4DGIWOGhvNp3C9bdKT4OS7O009NkN/Q8ugB6CtpAJx2lm7JxEA/OXbmJOlp8FJboJ+S0UQ/H6s68UkUk+Ba9rPR1VJWqHp0klyJ6K8L+Z44JGi8zCScBCWLqWijO00icYRnpGpTQwIWMOP7EyI2plYltXmYtExvJBRmTj6RyoL2ocPVjptwJvAKOp60WuekedguZ5s3D12rS8QHS0JGZpdWPYIizpyUibEggj2HTgYfbbkJK8b4d1lVYrVhDlQUwXGxoyumGZojGynPUZLTvIam1MG6vzJ0zBfMAX6SSoMPDxMhP0gGtqGru9P6FPJSS6fjZOugithFownZz6XRqeRvxFN8D8HrZDKhNnHB6D5ooMK7CmzljPG5rU/mvdAuTs1Pr9xkGiAz1HngrGXMksmFY5PpDFLSWOPEn2qv8K1f5P3GFWpA/JJ53RcDg81+Wpk5MSnKNid501htLIENvy+sD2Z12B3lJMYORbIBmEa9Dl2Xi1GLtgXwce5olEKe9RMyE2CDWcmdxoPfe67oqTN6dzmdnloI45PG09w7WdvMd38BtPJyR3vcmEOd6lctBEGduoPXRax4x3chylRznE+OnIMuhnLK+eDYfTwyDbmjfpzB/YKxwZ2YNKfDaU1kvlgdPKJ/0xD++5GY3MlVSgE5GjygvUhrCsGPpDgSrRQKEj7TqSxYwt4mFzp8rD9egp72rGk1DgaOzQ8z6c5ViWMOLQXVzMsTf2f7V4dW1Eu4GlKtJwtPuwb5SpsHLEUwGabOB1gaU3Y9FNoLHuMX4nO/mHOgxNtmFiZLDrZ3CKRzkNXcq/oYEphLdB02HL+/3v4J/kwqEYMwzCMcqRDtOETTxzqYeavxRrJ/PgUNVeZsdveDNstSm5P57O5IzNUnGv931w90Th8lRk9G2/ofUXT1LQhpxhz1lRDrMB1TqfxFtKsb/jM30Axojid43iCa780hOnVR4O28wVCSy9mOZ0VZCFhBNjmIGi2CzM+VGCg6zgxvQDn9h3gurGepFKBTfaC3nZxxoQKDXG6sitGrdN13bYiwANbDIWmZtiMbmVYrDAXxTdlFD7V9eBy5nUJp/O1mVdaEbEV7Xhpskz6KX0Q2kF0sTwnD6bHH+nsqwMn5pQ05lU4qpy8GRx44CAEo5roagKnQ2+b+/I1qfJM8y7k6ywkfuE1/vxcHtIvVb7Vl2+MlGVE1teX59sXNkqV5wKsOpRfmSrK84z2ZdPwnJzYM0mywMkHQU96l5Jc0/gzdJJLTQumoZzmVCb7fZJ+n/O366GLWJ1cIIvodL36ob46phtonn8edDW0WeT3siofB013HRdRcQB7lq+xwzOu9xh//uZAec7FPhManCrHJ5svFpiZKrPM22+Q5MFpY3kz9C70NTTXX3BNYF/68UUu3rgSjjifGCl/oNP2IAsu0j/fBQafnc4L/2It5XkNZ0Wula6gPqMsl+kx0jg1UJaDvHSttNMnThdgXeMihg42dv4FgzQ2qyUDdLqO2sgcEs4QYpXKyn1zuhaD/Q9Fq1gSTgoaJtlwNIlTlenGlqe20fVsuZby4/z5H0/+02lvmecelVG22h+fw4dTkxu4ABXH4Nt8XhB1g9X4X13sQJmRBQrywj6QbBgO0i+vkfhETfpq9kRbA9voltr8PrEbxu18hVFzxvGz4MD14si52cbQHw/NKM/X2X0X2uDbIV5/g6yFYrwC41XoMwmPV/KH/NfAiL7HKbRM723RgdJm6Wg0fucN4hSu+sjgc60/RkugPB8A1tJC2qEdOB6HsfhWHo4btgXKcwJp4UbNlm5SrHWQrGZXieZUBiSOywt4U3RK8dzYa4ZQnusnL4MOkfbRBGfGcurWI9Cs2Eg/ytNFXATtL+2jGd5ojgnyXSazM6IhurIbffm+qfJ8mKag7DwxDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDKOi+ReVv4kM/Wb9GwAAAABJRU5ErkJggg==",alt:""})]}),(0,fn.jsxs)("p",{children:["Where Growth Meets Scripting in ",(0,fn.jsx)("span",{children:"Perfect Harmony..."})]})]}),(0,fn.jsx)("div",{className:"Landing-content2b",children:(0,fn.jsx)("div",{className:"Landing-content2bButton",children:(0,fn.jsx)(Pe,{to:"/join",className:"nav-links",children:(0,fn.jsx)("button",{children:"Get Started"})})})})]})]})})]}));var ii=r(465),oi=r.n(ii),si=r(11),ci="videosdk-live-react-sdk",li={"participant-joined":ci+"-participant-joined","participant-left":ci+"-participant-left","speaker-changed":ci+"-speaker-changed","presenter-changed":ci+"-presenter-changed","main-participant-changed":ci+"-main-participant-changed","entry-requested":ci+"-entry-requested","entry-responded":ci+"-entry-responded","recording-started":ci+"-recording-started","recording-stopped":ci+"-recording-stopped","chat-message":ci+"-chat-message","meeting-joined":ci+"-meeting-joined","meeting-left":ci+"-meeting-left","live-stream-started":ci+"-live-stream-started","live-stream-stopped":ci+"-live-stream-stopped","video-state-changed":ci+"-video-state-changed","video-seeked":ci+"-video-seeked","webcam-requested":ci+"-webcam-requested","mic-requested":ci+"-mic-requested","pin-state-changed":ci+"-pin-state-changed","connection-open":ci+"-connection-open","connection-close":ci+"-connection-close","switch-meeting":ci+"-switch-meeting",error:ci+"-error","hls-started":ci+"-hls-started","hls-stopped":ci+"-hls-stopped","hls-state-changed":ci+"-hls-state-changed","hls-playable-state-changed":ci+"-hls-playable-state-changed","recording-state-changed":ci+"-recording-state-changed","livestream-state-changed":ci+"-livestream-state-changed","meeting-state-changed":ci+"-meeting-state-changed","participant-mode-changed":ci+"-participant-mode-changed"},ui=new(oi());ui.setMaxListeners(9999);var di=(0,a.createContext)(),pi=function(e){var t=void 0===e?{}:e,r=t.onParticipantJoined,n=void 0===r?function(){}:r,i=t.onParticipantLeft,o=void 0===i?function(){}:i,s=t.onSpeakerChanged,c=void 0===s?function(){}:s,l=t.onPresenterChanged,u=void 0===l?function(){}:l,d=t.onMainParticipantChanged,p=void 0===d?function(){}:d,h=t.onEntryRequested,f=void 0===h?function(){}:h,m=t.onEntryResponded,g=void 0===m?function(){}:m,v=t.onRecordingStarted,y=void 0===v?function(){}:v,b=t.onRecordingStopped,_=void 0===b?function(){}:b,w=t.onChatMessage,S=void 0===w?function(){}:w,k=t.onMeetingJoined,E=void 0===k?function(){}:k,R=t.onMeetingLeft,x=void 0===R?function(){}:R,C=t.onLiveStreamStarted,P=void 0===C?function(){}:C,T=t.onLiveStreamStopped,O=void 0===T?function(){}:T,D=t.onVideoStateChanged,I=void 0===D?function(){}:D,M=t.onVideoSeeked,j=void 0===M?function(){}:M,L=t.onWebcamRequested,N=void 0===L?function(){}:L,A=t.onMicRequested,B=void 0===A?function(){}:A,F=t.onPinStateChanged,U=void 0===F?function(){}:F,z=t.onConnectionOpen,W=void 0===z?function(){}:z,V=t.onConnetionClose,H=void 0===V?function(){}:V,q=t.onSwitchMeeting,G=void 0===q?function(){}:q,Z=t.onError,K=void 0===Z?function(){}:Z,J=t.onHlsStarted,Q=void 0===J?function(){}:J,Y=t.onHlsStopped,$=void 0===Y?function(){}:Y,X=t.onHlsStateChanged,ee=void 0===X?function(){}:X,te=t.onRecordingStateChanged,re=void 0===te?function(){}:te,ne=t.onLivestreamStateChanged,ae=void 0===ne?function(){}:ne,ie=t.onMeetingStateChanged,oe=void 0===ie?function(){}:ie,se=t.onParticipantModeChanged,ce=void 0===se?function(){}:se;return(0,a.useEffect)((function(){return ui.on(li["participant-joined"],n),ui.on(li["participant-left"],o),ui.on(li["speaker-changed"],c),ui.on(li["presenter-changed"],u),ui.on(li["main-participant-changed"],p),ui.on(li["entry-requested"],f),ui.on(li["entry-responded"],g),ui.on(li["recording-started"],y),ui.on(li["recording-stopped"],_),ui.on(li["chat-message"],S),ui.on(li["meeting-joined"],E),ui.on(li["meeting-left"],x),ui.on(li["live-stream-started"],P),ui.on(li["live-stream-stopped"],O),ui.on(li["video-state-changed"],I),ui.on(li["video-seeked"],j),ui.on(li["webcam-requested"],N),ui.on(li["mic-requested"],B),ui.on(li["pin-state-changed"],U),ui.on(li["connection-open"],W),ui.on(li["connection-close"],H),ui.on(li["switch-meeting"],G),ui.on(li.error,K),ui.on(li["hls-started"],Q),ui.on(li["hls-stopped"],$),ui.on(li["hls-state-changed"],ee),ui.on(li["recording-state-changed"],re),ui.on(li["livestream-state-changed"],ae),ui.on(li["meeting-state-changed"],oe),ui.on(li["participant-mode-changed"],ce),function(){ui.off(li["meeting-state-changed"],oe),ui.off(li["participant-joined"],n),ui.off(li["participant-left"],o),ui.off(li["speaker-changed"],c),ui.off(li["presenter-changed"],u),ui.off(li["main-participant-changed"],p),ui.off(li["entry-requested"],f),ui.off(li["entry-responded"],g),ui.off(li["recording-started"],y),ui.off(li["recording-stopped"],_),ui.off(li["chat-message"],S),ui.off(li["meeting-joined"],E),ui.off(li["meeting-left"],x),ui.off(li["live-stream-started"],P),ui.off(li["live-stream-stopped"],O),ui.off(li["video-state-changed"],I),ui.off(li["video-seeked"],j),ui.off(li["webcam-requested"],N),ui.off(li["mic-requested"],B),ui.off(li["pin-state-changed"],U),ui.off(li["connection-open"],W),ui.off(li["connection-close"],H),ui.off(li["switch-meeting"],G),ui.off(li.error,K),ui.off(li["hls-started"],Q),ui.off(li["hls-stopped"],$),ui.off(li["hls-state-changed"],ee),ui.off(li["recording-state-changed"],re),ui.off(li["livestream-state-changed"],ae),ui.off(li["participant-mode-changed"],ce)}}),[]),(0,a.useContext)(di)},hi=function(e){var t=e.children,r=e.config,n=e.token,i=e.joinWithoutUserInteraction,o=e.reinitialiseMeetingOnConfigChange,s=e.deviceInfo,c=(0,a.useState)(null),l=c[0],u=c[1],d=(0,a.useState)(null),p=d[0],h=d[1],f=(0,a.useState)(null),m=f[0],g=f[1],v=(0,a.useState)(null),y=v[0],b=v[1],_=(0,a.useState)(null),w=_[0],S=_[1],k=(0,a.useState)(!1),E=k[0],R=k[1],x=(0,a.useState)(!1),C=x[0],P=x[1],T=(0,a.useState)(!1),O=T[0],D=T[1],I=(0,a.useState)(!1),M=I[0],j=I[1],L=(0,a.useState)([]),N=L[0],A=L[1],B=(0,a.useState)(new Map),F=B[0],U=B[1],z=(0,a.useState)(new Map),W=z[0],V=z[1],H=(0,a.useState)(!1),q=H[0],G=H[1],Z=(0,a.useState)(new Map),K=Z[0],J=Z[1],Q=(0,a.useState)(!1),Y=Q[0],$=Q[1],X=(0,a.useState)(!1),ee=X[0],te=X[1],re=(0,a.useState)("RECORDING_STOPPED"),ne=re[0],ae=re[1],ie=(0,a.useState)("LIVESTREAM_STOPPED"),oe=ie[0],se=ie[1],ce=(0,a.useState)("HLS_STOPPED"),le=ce[0],ue=ce[1],de=(0,a.useState)({downstreamUrl:null,playbackHlsUrl:null,livestreamUrl:null}),pe=de[0],he=de[1],fe=(0,a.useRef)(),me=(0,a.useRef)(),ge=(0,a.useRef)(),ve=(0,a.useRef)(),ye=(0,a.useRef)(),be=(0,a.useRef)(r),_e=(0,a.useRef)(n),we=(0,a.useRef)(!1),Se=(0,a.useRef)(),ke=(0,a.useMemo)((function(){return o}),[]);(0,a.useEffect)((function(){fe.current=l}),[l]),(0,a.useEffect)((function(){me.current=E}),[E]),(0,a.useEffect)((function(){ge.current=C}),[C]),(0,a.useEffect)((function(){ve.current=O}),[O]),(0,a.useEffect)((function(){ye.current=M}),[M]),(0,a.useEffect)((function(){be.current=r}),[r]),(0,a.useEffect)((function(){_e.current=n}),[n]),(0,a.useEffect)((function(){Se.current=ee}),[ee]);var Ee=function(e){U((function(t){return t.set(e.id,e),new Map(t)})),ui.emit(li["participant-joined"],e)},Re=function(e){U((function(t){return t.delete(e.id),new Map(t)})),ui.emit(li["participant-left"],e)},xe=function(e){var t,r;S(e),D(e===(null===fe||void 0===fe||null===(t=fe.current)||void 0===t||null===(r=t.localParticipant)||void 0===r?void 0:r.id)),ui.emit(li["presenter-changed"],e)},Ce=function(e){g(e),ui.emit(li["main-participant-changed"],e)},Pe=function(e){b(e),ui.emit(li["speaker-changed"],e)},Te=function(e){A((function(t){return[].concat(t,[e])})),ui.emit(li["chat-message"],e)},Oe=function(e){ui.emit(li["entry-requested"],e)},De=function(e,t){ui.emit(li["entry-responded"],e,t)},Ie=function(){j(!0),ui.emit(li["recording-started"])},Me=function(){j(!1),ui.emit(li["recording-stopped"])},je=function(e){"live"===e.track.readyState&&("video"===e.kind?P(!0):"audio"===e.kind&&R(!0))},Le=function(e){"video"===e.kind?P(!1):"audio"===e.kind&&R(!1)},Ne=function(e){G(!0),ui.emit(li["live-stream-started"],e)},Ae=function(){G(!1),ui.emit(li["live-stream-stopped"])},Be=function(e){te(!0),ui.emit(li["hls-started"],e)},Fe=function(){te(!1),ui.emit(li["hls-stopped"])},Ue=function(e){ui.emit(li["video-state-changed"],e)},ze=function(e){ui.emit(li["video-seeked"],e)},We=function(e){ui.emit(li["webcam-requested"],e)},Ve=function(e){ui.emit(li["mic-requested"],e)},He=function(e){we.current=!0,A((function(t){return[].concat(t,e.messages)})),ui.emit(li["meeting-joined"],e),$(!0)},qe=function e(){ui.emit(li["meeting-left"]);var t,r=fe.current;r&&("function"===typeof(null===r||void 0===r?void 0:r.off)&&(r.off("meeting-state-changed",et),r.off("participant-joined",Ee),r.off("participant-left",Re),r.off("presenter-changed",xe),r.off("main-participant-changed",Ce),r.off("speaker-changed",Pe),r.off("entry-requested",Oe),r.off("entry-responded",De),r.off("chat-message",Te),r.off("recording-started",Ie),r.off("recording-stopped",Me),r.off("meeting-joined",He),r.off("meeting-left",e),r.off("livestream-started",Ne),r.off("livestream-stopped",Ae),r.off("video-state-changed",Ue),r.off("video-seeked",ze),r.off("webcam-requested",We),r.off("mic-requested",Ve),r.off("pin-state-changed",Ge),r.off("connection-open",Ze),r.off("connection-close",Ke),r.off("switch-meeting",Je),r.off("error",Qe),r.off("hls-started",Be),r.off("hls-stopped",Fe),r.off("recording-state-changed",Ye),r.off("livestream-state-changed",$e),r.off("hls-state-changed",Xe),r.off("participant-mode-changed",tt)),"function"===typeof(null===r||void 0===r||null===(t=r.localParticipant)||void 0===t?void 0:t.off)&&(r.localParticipant.off("stream-enabled",je),r.localParticipant.off("stream-disabled",Le)),u(null),h(null),g(null),b(null),S(null),R(!1),P(!1),D(!1),j(!1),A([]),G(!1),U(new Map),V(new Map),J(new Map),$(!1),te(!1),ae("RECORDING_STOPPED"),se("LIVESTREAM_STOPPED"),ue("HLS_STOPPED"),he({downstreamUrl:null,playbackHlsUrl:null,livestreamUrl:null}))},Ge=function(e){var t=e.participantId,r=e.state,n=e.pinnedBy;V((function(e){return r.cam||r.share?e.set(t,r):e.delete(t),new Map(e)})),ui.emit(li["pin-state-changed"],{participantId:t,state:r,pinnedBy:n})},Ze=function(e){J((function(t){return t.set(e.id,e),new Map(t)})),ui.emit(li["connection-open"],e)},Ke=function(e){J((function(t){return t.delete(e),new Map(t)})),ui.emit(li["connection-close"],e)},Je=function(e){ui.emit(li["switch-meeting"],e)},Qe=function(e){ui.emit(li.error,e)},Ye=function(e){ae(null===e||void 0===e?void 0:e.status),ui.emit(li["recording-state-changed"],e)},$e=function(e){se(null===e||void 0===e?void 0:e.status),ui.emit(li["livestream-state-changed"],e)},Xe=function(e){ue(null===e||void 0===e?void 0:e.status),"HLS_PLAYABLE"==(null===e||void 0===e?void 0:e.status)?he({downstreamUrl:null===e||void 0===e?void 0:e.downstreamUrl,playbackHlsUrl:null===e||void 0===e?void 0:e.playbackHlsUrl,livestreamUrl:null===e||void 0===e?void 0:e.livestreamUrl}):"HLS_STOPPED"==(null===e||void 0===e?void 0:e.status)&&he({downstreamUrl:null,playbackHlsUrl:null,livestreamUrl:null}),ui.emit(li["hls-state-changed"],e)},et=function(e){ui.emit(li["meeting-state-changed"],e)},tt=function(e){var t,r;U((function(t){var r=t.get(e.participantId);return r.mode=e.mode,t.set(r.id,r),new Map(t)})),e.participantId===(null===fe||void 0===fe||null===(t=fe.current)||void 0===t||null===(r=t.localParticipant)||void 0===r?void 0:r.id)&&h((function(t){return t.mode=e.mode,t})),ui.emit(li["participant-mode-changed"],e)},rt=function(){var e=si.VideoSDK&&si.VideoSDK.initMeeting(be.current);u(e);var t=e.localParticipant,r=e.participants;r.set(t.id,t),U(r),h(t),e.on("meeting-state-changed",et),e.on("participant-joined",Ee),e.on("participant-left",Re),e.on("presenter-changed",xe),e.on("main-participant-changed",Ce),e.on("speaker-changed",Pe),e.on("entry-requested",Oe),e.on("entry-responded",De),e.on("chat-message",Te),e.on("recording-started",Ie),e.on("recording-stopped",Me),e.on("meeting-joined",He),e.on("meeting-left",qe),e.on("livestream-started",Ne),e.on("livestream-stopped",Ae),e.on("video-state-changed",Ue),e.on("video-seeked",ze),e.on("webcam-requested",We),e.on("mic-requested",Ve),e.on("pin-state-changed",Ge),e.on("connection-open",Ze),e.on("connection-close",Ke),e.on("switch-meeting",Je),e.on("error",Qe),e.on("hls-started",Be),e.on("hls-stopped",Fe),e.on("recording-state-changed",Ye),e.on("livestream-state-changed",$e),e.on("hls-state-changed",Xe),e.on("participant-mode-changed",tt),e.localParticipant.on("stream-enabled",je),e.localParticipant.on("stream-disabled",Le),e.join()},nt=function(){var e=fe.current;e&&e.leave()},at=function(e){void 0===e&&(e=void 0);var t=fe.current;t&&t.unmuteMic(e)},it=function(){var e=fe.current;e&&e.muteMic()},ot=function(){var e=fe.current;e&&e.disableWebcam()},st=function(e){void 0===e&&(e=void 0);var t=fe.current;t&&t.enableWebcam(e)},ct=function(){var e=fe.current;e&&e.disableScreenShare()},lt=function(e){void 0===e&&(e=void 0);var t=fe.current;t&&t.enableScreenShare(e)},ut=function(){si.VideoSDK.config(_e.current),s?si.VideoSDK.analytics(s):si.VideoSDK.analytics({sdkType:"react-web",sdkVersion:"0.1.83"}),i&&rt()};return(0,a.useEffect)((function(){ut()}),[]),(0,a.useEffect)((function(){ke&&we.current&&(nt(),ut(),!i&&rt())}),[r.meetingId,n,ke]),a.createElement(di.Provider,{value:{meetingId:null===l||void 0===l?void 0:l.id,meeting:l,baseUrl:null===l||void 0===l?void 0:l.baseUrl,localParticipant:p,mainParticipant:m,activeSpeakerId:y,participants:F,presenterId:w,localMicOn:E,localWebcamOn:C,localScreenShareOn:O,messages:N,isRecording:M,isLiveStreaming:q,pinnedParticipants:W,connections:K,isHls:ee,recordingState:ne,livestreamState:oe,hlsState:le,hlsUrls:pe,isMeetingJoined:Y,join:rt,leave:nt,end:function(){var e=fe.current;e&&e.end()},startRecording:function(e,t,r){var n=fe.current;n&&n.startRecording(e,t,r)},stopRecording:function(){var e=fe.current;e&&(ye.current&&e.stopRecording())},sendChatMessage:function(e){var t=fe.current;t&&t.sendChatMessage(e)},respondEntry:function(e,t){var r=fe.current;r&&r.respondEntry(e,t)},muteMic:it,unmuteMic:at,toggleMic:function(e){void 0===e&&(e=void 0),me.current?it():at(e)},disableWebcam:ot,enableWebcam:st,toggleWebcam:function(e){void 0===e&&(e=void 0),ge.current?ot():st(e)},disableScreenShare:ct,enableScreenShare:lt,toggleScreenShare:function(e){void 0===e&&(e=void 0),ve.current?ct():lt(e)},getMics:function(){try{var e=fe.current;return Promise.resolve(function(){if(e)return Promise.resolve(e.getMics())}())}catch(t){return Promise.reject(t)}},getWebcams:function(){try{var e=fe.current;return Promise.resolve(function(){if(e)return Promise.resolve(e.getWebcams())}())}catch(t){return Promise.reject(t)}},changeWebcam:function(e){var t=fe.current;t&&t.changeWebcam(e)},replaceWebcamStream:function(e){var t=fe.current;t&&t.replaceWebcamStream(e)},changeMic:function(e){var t=fe.current;t&&t.changeMic(e)},changeMode:function(e){var t=fe.current;t&&t.changeMode(e)},startVideo:function(e){var t=e.link,r=fe.current;r&&r.startVideo({link:t})},stopVideo:function(){var e=fe.current;e&&e.stopVideo()},resumeVideo:function(){var e=fe.current;e&&e.resumeVideo()},pauseVideo:function(e){var t=e.currentTime,r=fe.current;r&&r.pauseVideo({currentTime:t})},seekVideo:function(e){var t=e.currentTime,r=fe.current;r&&r.seekVideo({currentTime:t})},startLivestream:function(e,t){var r=fe.current;r&&r.startLivestream(e,t)},stopLivestream:function(){var e=fe.current;e&&e.stopLivestream()},connectTo:function(e){var t=e.meetingId,r=e.payload;try{var n=fe.current,a=function(){if(n)return Promise.resolve(n.connectTo({meetingId:t,payload:r})).then((function(){}))}();return Promise.resolve(a&&a.then?a.then((function(){})):void 0)}catch(i){return Promise.reject(i)}},startHls:function(e){var t=fe.current;t&&t.startHls(e)},stopHls:function(){var e=fe.current;e&&e.stopHls()}}},t)},fi=function(e,t){var r=void 0===t?{}:t,n=r.onStreamEnabled,i=void 0===n?function(){}:n,o=r.onStreamDisabled,s=void 0===o?function(){}:o,c=r.onMediaStatusChanged,l=void 0===c?function(){}:c,u=r.onVideoQualityChanged,d=void 0===u?function(){}:u,p=(0,a.useState)(null),h=p[0],f=p[1],m=(0,a.useState)(null),g=m[0],v=m[1],y=(0,a.useState)(null),b=y[0],_=y[1],w=(0,a.useState)(null),S=w[0],k=w[1],E=pi(),R=(0,a.useMemo)((function(){var t;return{participants:null===E||void 0===E?void 0:E.participants,localParticipant:null===E||void 0===E?void 0:E.localParticipant,activeSpeakerId:null===E||void 0===E?void 0:E.activeSpeakerId,mainParticipant:null===E||void 0===E?void 0:E.mainParticipant,pinState:(null===E||void 0===E||null===(t=E.pinnedParticipants)||void 0===t?void 0:t.get(e))||{cam:!1,share:!1}}}),[E]),x=R.participants,C=R.localParticipant,P=R.activeSpeakerId,T=R.mainParticipant,O=R.pinState,D=null===x||void 0===x?void 0:x.get(e),I=(0,a.useState)(null===D||void 0===D?void 0:D.webcamOn),M=I[0],j=I[1],L=(0,a.useState)(null===D||void 0===D?void 0:D.micOn),N=L[0],A=L[1],B=(0,a.useState)(null===D||void 0===D?void 0:D.mode),F=B[0],U=B[1],z=function(e){if("live"===e.track.readyState)switch(e.kind){case"video":null!=h&&f(null),f(e);break;case"audio":null!=g&&v(null),v(e);break;case"share":null!=b&&_(null),_(e);break;case"shareAudio":null!=S&&k(null),k(e)}},W=function(e){z(e),i(e)},V=function(t){e===t.participantId&&U(t.mode)},H=function(e){!function(e){switch(e.kind){case"video":f(null);break;case"audio":v(null);break;case"share":_(null);break;case"shareAudio":k(null)}}(e),s(e)},q=function(e){var t=e.peerId,r=e.prevQuality,n=e.currentQuality;d({peerId:t,prevQuality:r,currentQuality:n})},G=function(e){var t=e.kind,r=e.peerId,n=e.newStatus;"audio"==t?A(n):"video"==t&&j(n),l({kind:t,peerId:r,newStatus:n})};return(0,a.useEffect)((function(){var e=null===D||void 0===D?void 0:D.streams;return e&&e.forEach((function(e){z(e)})),null!==D&&void 0!==D&&D.micOn&&A(N),null!==D&&void 0!==D&&D.webcamOn&&j(M),null===D||void 0===D||D.on("stream-enabled",W),null===D||void 0===D||D.on("stream-disabled",H),null===D||void 0===D||D.on("media-status-changed",G),null===D||void 0===D||D.on("video-quality-changed",q),ui.on(li["participant-mode-changed"],V),function(){null===D||void 0===D||D.off("stream-enabled",W),null===D||void 0===D||D.off("stream-disabled",H),null===D||void 0===D||D.off("media-status-changed",G),null===D||void 0===D||D.off("video-quality-changed",q),ui.off(li["participant-mode-changed"],V)}}),[D]),{displayName:null===D||void 0===D?void 0:D.displayName,participant:D,webcamStream:h,micStream:g,screenShareStream:b,screenShareAudioStream:S,webcamOn:M||!!h,micOn:N||!!g,mode:F,metaData:null===D||void 0===D?void 0:D.metaData,screenShareOn:!!b,isLocal:(null===C||void 0===C?void 0:C.id)===e,isActiveSpeaker:P===e,isMainParticipant:(null===T||void 0===T?void 0:T.id)===e,pinState:O,consumeMicStreams:function(){null===D||void 0===D||D.consumeMicStreams()},consumeWebcamStreams:function(){null===D||void 0===D||D.consumeWebcamStreams()},stopConsumingMicStreams:function(){null===D||void 0===D||D.stopConsumingMicStreams()},stopConsumingWebcamStreams:function(){null===D||void 0===D||D.stopConsumingWebcamStreams()},setQuality:function(e){null===D||void 0===D||D.setQuality(e)},setViewPort:function(e,t){null===D||void 0===D||D.setViewPort(e,t)},enableMic:function(){null===D||void 0===D||D.enableMic()},disableMic:function(){null===D||void 0===D||D.disableMic()},enableWebcam:function(){null===D||void 0===D||D.enableWebcam()},disableWebcam:function(){null===D||void 0===D||D.disableWebcam()},captureImage:function(e){var t=void 0===e?{}:e,r=t.height,n=t.width;return Promise.resolve(null===D||void 0===D?void 0:D.captureImage({height:r,width:n}))},pin:function(e){null===D||void 0===D||D.pin(e)},unpin:function(e){null===D||void 0===D||D.unpin(e)},remove:function(){null===D||void 0===D||D.remove()},switchTo:function(e){return Promise.resolve(null===D||void 0===D?void 0:D.switchTo(e)).then((function(){}))},getAudioStats:function(){return Promise.resolve(null===D||void 0===D?void 0:D.getAudioStats())},getVideoStats:function(){return Promise.resolve(null===D||void 0===D?void 0:D.getVideoStats())},getShareStats:function(){return Promise.resolve(null===D||void 0===D?void 0:D.getShareStats())}}};si.VideoSDK.Constants;const mi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlrZXkiOiJiNDJhZThlMy03NjQ1LTRkOGYtYjAxMi03NjY2NjI1OTJkMTciLCJwZXJtaXNzaW9ucyI6WyJhbGxvd19qb2luIl0sImlhdCI6MTcwNzU3NDM4MywiZXhwIjoxODY1MzYyMzgzfQ.CmJzg2Swgtz8FvMZ0DNonxHkLhZQSBF75RO_pqAfZ5I",gi=r.p+"static/media/joingif.ed0f27beed8c605e8416.gif";function vi(e){return Qa({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M1 13.75V7.182L9.818 16H3.25A2.25 2.25 0 011 13.75zM13 6.25v6.568L4.182 4h6.568A2.25 2.25 0 0113 6.25zM19 4.75a.75.75 0 00-1.28-.53l-3 3a.75.75 0 00-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 001.28-.53V4.75zM2.28 4.22a.75.75 0 00-1.06 1.06l10.5 10.5a.75.75 0 101.06-1.06L2.28 4.22z"},child:[]}]})(e)}function yi(e){return Qa({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M3.25 4A2.25 2.25 0 001 6.25v7.5A2.25 2.25 0 003.25 16h7.5A2.25 2.25 0 0013 13.75v-7.5A2.25 2.25 0 0010.75 4h-7.5zM19 4.75a.75.75 0 00-1.28-.53l-3 3a.75.75 0 00-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 001.28-.53V4.75z"},child:[]}]})(e)}function bi(e){return Qa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function _i(e){return Qa({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function wi(e){return Qa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"},child:[]}]})(e)}function Si(){const{leave:e,toggleMic:t,toggleWebcam:r}=pi();return(0,fn.jsxs)("div",{className:"meet-controls d-flex justify-content-center  pt-4",children:[(0,fn.jsx)("button",{className:"btn btn-dark",onClick:()=>t(),children:(0,fn.jsx)(_i,{})}),(0,fn.jsx)("button",{className:"btn btn-dark ms-3",onClick:()=>r(),children:(0,fn.jsx)(yi,{})}),(0,fn.jsx)("button",{className:"btn btn-danger ms-3",onClick:()=>e(),children:(0,fn.jsx)(wi,{})})]})}var ki=r(710),Ei=r.n(ki);function Ri(e){const t=(0,a.useRef)(null),{webcamStream:r,micStream:n,webcamOn:i,micOn:o,isLocal:s,displayName:c}=fi(e.participantId),l=(0,a.useMemo)((()=>{if(i&&r){const e=new MediaStream;return e.addTrack(r.track),e}}),[r,i]);return(0,a.useEffect)((()=>{if(t.current)if(o&&n){const e=new MediaStream;e.addTrack(n.track),t.current.srcObject=e,t.current.play().catch((e=>console.error("videoElem.current.play() failed",e)))}else t.current.srcObject=null}),[n,o]),(0,fn.jsxs)("div",{className:"video",children:[(0,fn.jsxs)("p",{children:["Participant: ",c," |"," ",i?(0,fn.jsx)(yi,{}):(0,fn.jsx)(vi,{})," | Mic:"," ",o?(0,fn.jsx)(_i,{}):(0,fn.jsx)(bi,{})]}),(0,fn.jsx)("audio",{ref:t,autoPlay:!0,playsInline:!0,muted:s}),i?(0,fn.jsx)(Ei(),{playsinline:!0,pip:!1,light:!1,controls:!1,muted:!0,playing:!0,url:l,height:"200px",width:"200px",onError:e=>{console.log(e,"participant video error")}}):(0,fn.jsx)("div",{className:"align-items-center",children:(0,fn.jsx)("p",{className:"text-light",children:c})})]})}const xi=JSON.parse('{"C# (Mono 6.6.0.161)":{"name":"script.cs","language":"C# (Mono 6.6.0.161)","value":"using System;\\nclass HelloWorld\\n{\\nstatic void Main()\\n{\\nConsole.WriteLine(\\"Hello World\\");\\n}\\n}","id":51,"is_archived":false,"editor_name":"csharp"},"C# (mono 5.4.0.167)":{"name":"script.cs","language":"C# (mono 5.4.0.167)","value":"using System;\\nclass HelloWorld\\n{\\nstatic void Main()\\n{\\nConsole.WriteLine(\\"Hello World\\");\\n}\\n}","id":16,"is_archived":true,"editor_name":"csharp"},"C# (mono 5.2.0.224)":{"name":"script.cs","language":"C# (mono 5.2.0.224)","value":"using System;\\nclass HelloWorld\\n{\\nstatic void Main()\\n{\\nConsole.WriteLine(\\"Hello World\\");\\n}\\n}","id":17,"is_archived":true,"editor_name":"csharp"},"C++ (GCC 9.2.0)":{"name":"script.cpp","language":"C++ (GCC 9.2.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":54,"is_archived":false,"editor_name":"cpp"},"C++ (GCC 8.3.0)":{"name":"script.cpp","language":"C++ (GCC 8.3.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":53,"is_archived":false,"editor_name":"cpp"},"C++ (GCC 7.4.0)":{"name":"script.cpp","language":"C++ (GCC 7.4.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":52,"is_archived":false,"editor_name":"cpp"},"C++ (g++ 7.2.0)":{"name":"script.cpp","language":"C++ (g++ 7.2.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":10,"is_archived":true,"editor_name":"cpp"},"C++ (g++ 6.4.0)":{"name":"script.cpp","language":"C++ (g++ 6.4.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":11,"is_archived":true,"editor_name":"cpp"},"C++ (g++ 6.3.0)":{"name":"script.cpp","language":"C++ (g++ 6.3.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":12,"is_archived":true,"editor_name":"cpp"},"C++ (g++ 5.4.0)":{"name":"script.cpp","language":"C++ (g++ 5.4.0)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":13,"is_archived":true,"editor_name":"cpp"},"C++ (g++ 4.9.4)":{"name":"script.cpp","language":"C++ (g++ 4.9.4)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":14,"is_archived":true,"editor_name":"cpp"},"C++ (g++ 4.8.5)":{"name":"script.cpp","language":"C++ (g++ 4.8.5)","value":"#include <iostream>\\n\\nusing namespace std;\\n\\nint main()\\n{\\ncout<<\\"Hello World\\";\\n\\nreturn 0;\\n}","id":15,"is_archived":true,"editor_name":"cpp"},"Java (OpenJDK 13.0.1)":{"name":"script.java","language":"Java (OpenJDK 13.0.1)","value":"ls","id":62,"is_archived":false,"editor_name":"java"},"Java (OpenJDK 9 with Eclipse OpenJ9)":{"name":"script.java","language":"Java (OpenJDK 9 with Eclipse OpenJ9)","value":"public class Main\\n{\\npublic static void main(String[] args) {\\nSystem.out.println(\\"Hello World\\");\\n}\\n}","id":26,"is_archived":true,"editor_name":"java"},"Java (OpenJDK 8)":{"name":"script.java","language":"Java (OpenJDK 8)","value":"public class Main\\n{\\npublic static void main(String[] args) {\\nSystem.out.println(\\"Hello World\\");\\n}\\n}","id":27,"is_archived":true,"editor_name":"java"},"Java (OpenJDK 7)":{"name":"script.java","language":"Java (OpenJDK 7)","value":"public class Main\\n{\\npublic static void main(String[] args) {\\nSystem.out.println(\\"Hello World\\");\\n}\\n}","id":28,"is_archived":true,"editor_name":"java"},"JavaScript (Node.js 12.14.0)":{"name":"script.js","language":"JavaScript (Node.js 12.14.0)","value":"console.log(\\"Hello World\\");","id":63,"is_archived":false,"editor_name":"javascript"},"JavaScript (nodejs 8.5.0)":{"name":"script.js","language":"JavaScript (nodejs 8.5.0)","value":"console.log(\\"Hello World\\");","id":29,"is_archived":true,"editor_name":"javascript"},"JavaScript (nodejs 7.10.1)":{"name":"script.js","language":"JavaScript (nodejs 7.10.1)","value":"console.log(\\"Hello World\\");","id":30,"is_archived":true,"editor_name":"javascript"},"Lua (5.3.5)":{"name":"script.lua","language":"Lua (5.3.5)","value":"print(\\"Hello World\\")","id":64,"is_archived":false,"editor_name":"lua"},"PHP (7.4.1)":{"name":"script.php","language":"PHP (7.4.1)","value":"<?php\\necho \\"Hello World\\";","id":68,"is_archived":false,"editor_name":"php"},"Python (3.8.1)":{"name":"script.py","language":"Python (3.8.1)","value":"print(\\"Hello World\\")","id":71,"is_archived":false,"editor_name":"python"},"Python (3.6.0)":{"name":"script.py","language":"Python (3.6.0)","value":"print(\\"Hello World\\")","id":34,"is_archived":true,"editor_name":"python"},"Python (2.7.17)":{"name":"script.py","language":"Python (2.7.17)","value":"print(\\"Hello World\\")","id":70,"is_archived":false,"editor_name":"python"},"Python (2.7.9)":{"name":"script.py","language":"Python (2.7.9)","value":"print(\\"Hello World\\")","id":36,"is_archived":true,"editor_name":"python"},"Python (2.6.9)":{"name":"script.py","language":"Python (2.6.9)","value":"print(\\"Hello World\\")","id":37,"is_archived":true,"editor_name":"python"},"Python (3.5.3)":{"name":"script.py","language":"Python (3.5.3)","value":"print(\\"Hello World\\")","id":35,"is_archived":true,"editor_name":"python"},"TypeScript (3.7.4)":{"name":"script.ts","language":"TypeScript (3.7.4)","value":"let message: string = \\"Hello, World!\\";\\nconsole.log(message);","id":74,"is_archived":false,"editor_name":"typescript"}}');var Ci=r(802);function Pi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){Pi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Di(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Mi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ni(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(r,[].concat(a,n))}}}function Ai(e){return{}.toString.call(e).includes("Object")}function Bi(e){return"function"===typeof e}var Fi=Ni((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),Ui={changes:function(e,t){return Ai(t)||Fi("changeType"),Object.keys(t).some((function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n}))&&Fi("changeField"),t},selector:function(e){Bi(e)||Fi("selectorType")},handler:function(e){Bi(e)||Ai(e)||Fi("handlerType"),Ai(e)&&Object.values(e).some((function(e){return!Bi(e)}))&&Fi("handlersType")},initial:function(e){var t;e||Fi("initialIsRequired"),Ai(e)||Fi("initialType"),t=e,Object.keys(t).length||Fi("initialContent")}};function zi(e,t){return Bi(t)?t(e.current):t}function Wi(e,t){return e.current=Li(Li({},e.current),t),t}function Vi(e,t,r){return Bi(t)?t(e.current):Object.keys(r).forEach((function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])})),r}var Hi={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ui.initial(e),Ui.handler(t);var r={current:e},n=Ni(Vi)(r,t),a=Ni(Wi)(r),i=Ni(Ui.changes)(e),o=Ni(zi)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Ui.selector(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,a,i,o)(e)}]}};const qi=Hi;const Gi={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};const Zi=function(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(r,[].concat(a,n))}}};const Ki=function(e){return{}.toString.call(e).includes("Object")};var Ji={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Qi=Zi((function(e,t){throw new Error(e[t]||e.default)}))(Ji),Yi={config:function(e){return e||Qi("configIsRequired"),Ki(e)||Qi("configType"),e.urls?(console.warn(Ji.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const $i=Yi;const Xi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const eo=function e(t,r){return Object.keys(r).forEach((function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))})),Oi(Oi({},t),r)};var to={type:"cancelation",msg:"operation is manually canceled"};const ro=function(e){var t=!1,r=new Promise((function(r,n){e.then((function(e){return t?n(to):r(e)})),e.catch(n)}));return r.cancel=function(){return t=!0},r};var no=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ii(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qi.create({config:Gi,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),ao=no[0],io=no[1];function oo(e){return document.body.appendChild(e)}function so(e){var t=ao((function(e){return{config:e.config,reject:e.reject}})),r=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function co(){var e=ao((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){lo(t),e.resolve(t)}),(function(t){e.reject(t)}))}function lo(e){ao().monaco||io({monaco:e})}var uo=new Promise((function(e,t){return io({resolve:e,reject:t})})),po={config:function(e){var t=$i.config(e),r=t.monaco,n=Di(t,["monaco"]);io((function(e){return{config:eo(e.config,n),monaco:r}}))},init:function(){var e=ao((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(io({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ro(uo);if(window.monaco&&window.monaco.editor)return lo(window.monaco),e.resolve(window.monaco),ro(uo);Xi(oo,so)(co)}return ro(uo)},__getMonacoInstance:function(){return ao((function(e){return e.monaco}))}};const ho=po;var fo={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},mo={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var go=function(e){let{children:t}=e;return a.createElement("div",{style:mo.container},t)};var vo=function(e){let{width:t,height:r,isEditorReady:n,loading:i,_ref:o,className:s,wrapperProps:c}=e;return a.createElement("section",{style:{...fo.wrapper,width:t,height:r},...c},!n&&a.createElement(go,null,i),a.createElement("div",{ref:o,style:{...fo.fullWidth,...!n&&fo.hide},className:s}))},yo=(0,a.memo)(vo);var bo=function(e){(0,a.useEffect)(e,[])};var _o=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=(0,a.useRef)(!0);(0,a.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function wo(){}function So(e,t,r,n){return function(e,t){return e.editor.getModel(ko(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?ko(e,n):void 0)}(e,t,r,n)}function ko(e,t){return e.Uri.parse(t)}var Eo=function(e){let{original:t,modified:r,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:c,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:u=!1,theme:d="light",loading:p="Loading...",options:h={},height:f="100%",width:m="100%",className:g,wrapperProps:v={},beforeMount:y=wo,onMount:b=wo}=e,[_,w]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!0),E=(0,a.useRef)(null),R=(0,a.useRef)(null),x=(0,a.useRef)(null),C=(0,a.useRef)(b),P=(0,a.useRef)(y),T=(0,a.useRef)(!1);bo((()=>{let e=ho.init();return e.then((e=>(R.current=e)&&k(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>E.current?function(){var e,t,r,n;let a=null===(e=E.current)||void 0===e?void 0:e.getModel();l||null!==a&&void 0!==a&&null!==(t=a.original)&&void 0!==t&&t.dispose(),u||null!==a&&void 0!==a&&null!==(r=a.modified)&&void 0!==r&&r.dispose(),null===(n=E.current)||void 0===n||n.dispose()}():e.cancel()})),_o((()=>{if(E.current&&R.current){let e=E.current.getOriginalEditor(),r=So(R.current,t||"",i||n||"text",s||"");r!==e.getModel()&&e.setModel(r)}}),[s],_),_o((()=>{if(E.current&&R.current){let e=E.current.getModifiedEditor(),t=So(R.current,r||"",o||n||"text",c||"");t!==e.getModel()&&e.setModel(t)}}),[c],_),_o((()=>{let e=E.current.getModifiedEditor();e.getOption(R.current.editor.EditorOption.readOnly)?e.setValue(r||""):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[r],_),_o((()=>{var e;null===(e=E.current)||void 0===e||null===(e=e.getModel())||void 0===e||e.original.setValue(t||"")}),[t],_),_o((()=>{let{original:e,modified:t}=E.current.getModel();R.current.editor.setModelLanguage(e,i||n||"text"),R.current.editor.setModelLanguage(t,o||n||"text")}),[n,i,o],_),_o((()=>{var e;null===(e=R.current)||void 0===e||e.editor.setTheme(d)}),[d],_),_o((()=>{var e;null===(e=E.current)||void 0===e||e.updateOptions(h)}),[h],_);let O=(0,a.useCallback)((()=>{var e;if(!R.current)return;P.current(R.current);let a=So(R.current,t||"",i||n||"text",s||""),l=So(R.current,r||"",o||n||"text",c||"");null===(e=E.current)||void 0===e||e.setModel({original:a,modified:l})}),[n,r,o,t,i,s,c]),D=(0,a.useCallback)((()=>{var e;!T.current&&x.current&&(E.current=R.current.editor.createDiffEditor(x.current,{automaticLayout:!0,...h}),O(),null!==(e=R.current)&&void 0!==e&&e.editor.setTheme(d),w(!0),T.current=!0)}),[h,d,O]);return(0,a.useEffect)((()=>{_&&C.current(E.current,R.current)}),[_]),(0,a.useEffect)((()=>{!S&&!_&&D()}),[S,_,D]),a.createElement(yo,{width:m,height:f,isEditorReady:_,loading:p,_ref:x,className:g,wrapperProps:v})};(0,a.memo)(Eo);var Ro=function(e){let t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current},xo=new Map;var Co=function(e){let{defaultValue:t,defaultLanguage:r,defaultPath:n,value:i,language:o,path:s,theme:c="light",line:l,loading:u="Loading...",options:d={},overrideServices:p={},saveViewState:h=!0,keepCurrentModel:f=!1,width:m="100%",height:g="100%",className:v,wrapperProps:y={},beforeMount:b=wo,onMount:_=wo,onChange:w,onValidate:S=wo}=e,[k,E]=(0,a.useState)(!1),[R,x]=(0,a.useState)(!0),C=(0,a.useRef)(null),P=(0,a.useRef)(null),T=(0,a.useRef)(null),O=(0,a.useRef)(_),D=(0,a.useRef)(b),I=(0,a.useRef)(),M=(0,a.useRef)(i),j=Ro(s),L=(0,a.useRef)(!1),N=(0,a.useRef)(!1);bo((()=>{let e=ho.init();return e.then((e=>(C.current=e)&&x(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>P.current?function(){var e,t;null!==(e=I.current)&&void 0!==e&&e.dispose(),f?h&&xo.set(s,P.current.saveViewState()):null===(t=P.current.getModel())||void 0===t||t.dispose(),P.current.dispose()}():e.cancel()})),_o((()=>{var e,a,c,l;let u=So(C.current,t||i||"",r||o||"",s||n||"");u!==(null===(e=P.current)||void 0===e?void 0:e.getModel())&&(h&&xo.set(j,null===(a=P.current)||void 0===a?void 0:a.saveViewState()),null!==(c=P.current)&&void 0!==c&&c.setModel(u),h&&(null===(l=P.current)||void 0===l||l.restoreViewState(xo.get(s))))}),[s],k),_o((()=>{var e;null===(e=P.current)||void 0===e||e.updateOptions(d)}),[d],k),_o((()=>{!P.current||void 0===i||(P.current.getOption(C.current.editor.EditorOption.readOnly)?P.current.setValue(i):i!==P.current.getValue()&&(N.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),P.current.pushUndoStop(),N.current=!1))}),[i],k),_o((()=>{var e,t;let r=null===(e=P.current)||void 0===e?void 0:e.getModel();r&&o&&(null===(t=C.current)||void 0===t||t.editor.setModelLanguage(r,o))}),[o],k),_o((()=>{var e;void 0!==l&&(null===(e=P.current)||void 0===e||e.revealLine(l))}),[l],k),_o((()=>{var e;null===(e=C.current)||void 0===e||e.editor.setTheme(c)}),[c],k);let A=(0,a.useCallback)((()=>{if(T.current&&C.current&&!L.current){var e;D.current(C.current);let a=s||n,u=So(C.current,i||t||"",r||o||"",a||"");P.current=null===(e=C.current)||void 0===e?void 0:e.editor.create(T.current,{model:u,automaticLayout:!0,...d},p),h&&P.current.restoreViewState(xo.get(a)),C.current.editor.setTheme(c),void 0!==l&&P.current.revealLine(l),E(!0),L.current=!0}}),[t,r,n,i,o,s,d,p,h,c,l]);return(0,a.useEffect)((()=>{k&&O.current(P.current,C.current)}),[k]),(0,a.useEffect)((()=>{!R&&!k&&A()}),[R,k,A]),M.current=i,(0,a.useEffect)((()=>{var e,t;k&&w&&(null!==(e=I.current)&&void 0!==e&&e.dispose(),I.current=null===(t=P.current)||void 0===t?void 0:t.onDidChangeModelContent((e=>{N.current||w(P.current.getValue(),e)})))}),[k,w]),(0,a.useEffect)((()=>{if(k){let e=C.current.editor.onDidChangeMarkers((e=>{var t;let r=null===(t=P.current.getModel())||void 0===t?void 0:t.uri;if(r&&e.find((e=>e.path===r.path))){let e=C.current.editor.getModelMarkers({resource:r});null===S||void 0===S||S(e)}}));return()=>{null===e||void 0===e||e.dispose()}}return()=>{}}),[k,S]),a.createElement(yo,{width:m,height:g,isEditorReady:k,loading:u,_ref:T,className:v,wrapperProps:y})},Po=(0,a.memo)(Co);function To(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oo}=Object.prototype,{getPrototypeOf:Do}=Object,Io=(e=>t=>{const r=Oo.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=e=>(e=e.toLowerCase(),t=>Io(t)===e),jo=e=>t=>typeof t===e,{isArray:Lo}=Array,No=jo("undefined");const Ao=Mo("ArrayBuffer");const Bo=jo("string"),Fo=jo("function"),Uo=jo("number"),zo=e=>null!==e&&"object"===typeof e,Wo=e=>{if("object"!==Io(e))return!1;const t=Do(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vo=Mo("Date"),Ho=Mo("File"),qo=Mo("Blob"),Go=Mo("FileList"),Zo=Mo("URLSearchParams");function Ko(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Lo(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),i=n.length;let o;for(r=0;r<i;r++)o=n[r],t.call(null,e[o],o,e)}}function Jo(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const Qo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Yo=e=>!No(e)&&e!==Qo;const $o=(Xo="undefined"!==typeof Uint8Array&&Do(Uint8Array),e=>Xo&&e instanceof Xo);var Xo;const es=Mo("HTMLFormElement"),ts=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),rs=Mo("RegExp"),ns=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ko(r,((r,a)=>{let i;!1!==(i=t(r,a,e))&&(n[a]=i||r)})),Object.defineProperties(e,n)},as="abcdefghijklmnopqrstuvwxyz",is="0123456789",os={DIGIT:is,ALPHA:as,ALPHA_DIGIT:as+as.toUpperCase()+is};const ss=Mo("AsyncFunction"),cs={isArray:Lo,isArrayBuffer:Ao,isBuffer:function(e){return null!==e&&!No(e)&&null!==e.constructor&&!No(e.constructor)&&Fo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Fo(e.append)&&("formdata"===(t=Io(e))||"object"===t&&Fo(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ao(e.buffer),t},isString:Bo,isNumber:Uo,isBoolean:e=>!0===e||!1===e,isObject:zo,isPlainObject:Wo,isUndefined:No,isDate:Vo,isFile:Ho,isBlob:qo,isRegExp:rs,isFunction:Fo,isStream:e=>zo(e)&&Fo(e.pipe),isURLSearchParams:Zo,isTypedArray:$o,isFileList:Go,forEach:Ko,merge:function e(){const{caseless:t}=Yo(this)&&this||{},r={},n=(n,a)=>{const i=t&&Jo(r,a)||a;Wo(r[i])&&Wo(n)?r[i]=e(r[i],n):Wo(n)?r[i]=e({},n):Lo(n)?r[i]=n.slice():r[i]=n};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ko(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ko(t,((t,n)=>{r&&Fo(t)?e[n]=To(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,i,o;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],n&&!n(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==r&&Do(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Io,kindOfTest:Mo,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Lo(e))return e;let t=e.length;if(!Uo(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:es,hasOwnProperty:ts,hasOwnProp:ts,reduceDescriptors:ns,freezeMethods:e=>{ns(e,((t,r)=>{if(Fo(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Fo(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Lo(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Jo,global:Qo,isContextDefined:Yo,ALPHABET:os,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:os.ALPHA_DIGIT,r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&Fo(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(zo(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=Lo(e)?[]:{};return Ko(e,((e,t)=>{const i=r(e,n+1);!No(i)&&(a[t]=i)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:ss,isThenable:e=>e&&(zo(e)||Fo(e))&&Fo(e.then)&&Fo(e.catch)};function ls(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}cs.inherits(ls,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:cs.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const us=ls.prototype,ds={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ds[e]={value:e}})),Object.defineProperties(ls,ds),Object.defineProperty(us,"isAxiosError",{value:!0}),ls.from=(e,t,r,n,a,i)=>{const o=Object.create(us);return cs.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ls.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ps=ls;function hs(e){return cs.isPlainObject(e)||cs.isArray(e)}function fs(e){return cs.endsWith(e,"[]")?e.slice(0,-2):e}function ms(e,t,r){return e?e.concat(t).map((function(e,t){return e=fs(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const gs=cs.toFlatObject(cs,{},null,(function(e){return/^is[A-Z]/.test(e)}));const vs=function(e,t,r){if(!cs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=cs.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!cs.isUndefined(t[e])}))).metaTokens,a=r.visitor||l,i=r.dots,o=r.indexes,s=(r.Blob||"undefined"!==typeof Blob&&Blob)&&cs.isSpecCompliantForm(t);if(!cs.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(cs.isDate(e))return e.toISOString();if(!s&&cs.isBlob(e))throw new ps("Blob is not supported. Use a Buffer instead.");return cs.isArrayBuffer(e)||cs.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,r,a){let s=e;if(e&&!a&&"object"===typeof e)if(cs.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(cs.isArray(e)&&function(e){return cs.isArray(e)&&!e.some(hs)}(e)||(cs.isFileList(e)||cs.endsWith(r,"[]"))&&(s=cs.toArray(e)))return r=fs(r),s.forEach((function(e,n){!cs.isUndefined(e)&&null!==e&&t.append(!0===o?ms([r],n,i):null===o?r:r+"[]",c(e))})),!1;return!!hs(e)||(t.append(ms(a,r,i),c(e)),!1)}const u=[],d=Object.assign(gs,{defaultVisitor:l,convertValue:c,isVisitable:hs});if(!cs.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!cs.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),cs.forEach(r,(function(r,i){!0===(!(cs.isUndefined(r)||null===r)&&a.call(t,r,cs.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),u.pop()}}(e),t};function ys(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function bs(e,t){this._pairs=[],e&&vs(e,this,t)}const _s=bs.prototype;_s.append=function(e,t){this._pairs.push([e,t])},_s.toString=function(e){const t=e?function(t){return e.call(this,t,ys)}:ys;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ws=bs;function Ss(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ks(e,t,r){if(!t)return e;const n=r&&r.encode||Ss,a=r&&r.serialize;let i;if(i=a?a(t,r):cs.isURLSearchParams(t)?t.toString():new ws(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Es=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){cs.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Rs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ws,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cs="undefined"!==typeof window&&"undefined"!==typeof document,Ps=(Ts="undefined"!==typeof navigator&&navigator.product,Cs&&["ReactNative","NativeScript","NS"].indexOf(Ts)<0);var Ts;const Os="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ds={...e,...xs};const Is=function(e){function t(e,r,n,a){let i=e[a++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),s=a>=e.length;if(i=!i&&cs.isArray(n)?n.length:i,s)return cs.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!o;n[i]&&cs.isObject(n[i])||(n[i]=[]);return t(e,r,n[i],a)&&cs.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}(n[i])),!o}if(cs.isFormData(e)&&cs.isFunction(e.entries)){const r={};return cs.forEachEntry(e,((e,n)=>{t(function(e){return cs.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Ms={transitional:Rs,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=cs.isObject(e);a&&cs.isHTMLForm(e)&&(e=new FormData(e));if(cs.isFormData(e))return n&&n?JSON.stringify(Is(e)):e;if(cs.isArrayBuffer(e)||cs.isBuffer(e)||cs.isStream(e)||cs.isFile(e)||cs.isBlob(e))return e;if(cs.isArrayBufferView(e))return e.buffer;if(cs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vs(e,new Ds.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Ds.isNode&&cs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=cs.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vs(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(cs.isString(e))try{return(t||JSON.parse)(e),cs.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ms.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&cs.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw ps.from(a,ps.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ds.classes.FormData,Blob:Ds.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};cs.forEach(["delete","get","head","post","put","patch"],(e=>{Ms.headers[e]={}}));const js=Ms,Ls=cs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ns=Symbol("internals");function As(e){return e&&String(e).trim().toLowerCase()}function Bs(e){return!1===e||null==e?e:cs.isArray(e)?e.map(Bs):String(e)}function Fs(e,t,r,n,a){return cs.isFunction(n)?n.call(this,t,r):(a&&(t=r),cs.isString(t)?cs.isString(n)?-1!==t.indexOf(n):cs.isRegExp(n)?n.test(t):void 0:void 0)}class Us{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=As(t);if(!a)throw new Error("header name must be a non-empty string");const i=cs.findKey(n,a);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=Bs(e))}const i=(e,t)=>cs.forEach(e,((e,r)=>a(e,r,t)));return cs.isPlainObject(e)||e instanceof this.constructor?i(e,t):cs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Ls[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t):null!=e&&a(t,e,r),this}get(e,t){if(e=As(e)){const r=cs.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(cs.isFunction(t))return t.call(this,e,r);if(cs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=As(e)){const r=cs.findKey(this,e);return!(!r||void 0===this[r]||t&&!Fs(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=As(e)){const a=cs.findKey(r,e);!a||t&&!Fs(0,r[a],a,t)||(delete r[a],n=!0)}}return cs.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!Fs(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return cs.forEach(this,((n,a)=>{const i=cs.findKey(r,a);if(i)return t[i]=Bs(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();o!==a&&delete t[a],t[o]=Bs(n),r[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return cs.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&cs.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ns]=this[Ns]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=As(e);t[n]||(!function(e,t){const r=cs.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return cs.isArray(e)?e.forEach(n):n(e),this}}Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),cs.reduceDescriptors(Us.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),cs.freezeMethods(Us);const zs=Us;function Ws(e,t){const r=this||js,n=t||r,a=zs.from(n.headers);let i=n.data;return cs.forEach(e,(function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function Vs(e){return!(!e||!e.__CANCEL__)}function Hs(e,t,r){ps.call(this,null==e?"canceled":e,ps.ERR_CANCELED,t,r),this.name="CanceledError"}cs.inherits(Hs,ps,{__CANCEL__:!0});const qs=Hs;const Gs=Ds.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];cs.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),cs.isString(n)&&o.push("path="+n),cs.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Zs(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ks=Ds.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=cs.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};const Js=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,i=0,o=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=n[o];a||(a=c),r[i]=s,n[i]=c;let u=o,d=0;for(;u!==i;)d+=r[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-a<t)return;const p=l&&c-l;return p?Math.round(1e3*d/p):void 0}};function Qs(e,t){let r=0;const n=Js(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-r,c=n(s);r=i;const l={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:c||void 0,estimated:c&&o&&i<=o?(o-i)/c:void 0,event:a};l[t?"download":"upload"]=!0,e(l)}}const Ys="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){let n=e.data;const a=zs.from(e.headers).normalize();let i,o,{responseType:s,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(cs.isFormData(n))if(Ds.hasStandardBrowserEnv||Ds.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(o=a.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+r))}const d=Zs(e.baseURL,e.url);function p(){if(!u)return;const n=zs.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ps("Request failed with status code "+r.status,[ps.ERR_BAD_REQUEST,ps.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),l()}),(function(e){r(e),l()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),ks(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(new ps("Request aborted",ps.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new ps("Network Error",ps.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Rs;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new ps(t,n.clarifyTimeoutError?ps.ETIMEDOUT:ps.ECONNABORTED,e,u)),u=null},Ds.hasStandardBrowserEnv&&(c&&cs.isFunction(c)&&(c=c(e)),c||!1!==c&&Ks(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Gs.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===n&&a.setContentType(null),"setRequestHeader"in u&&cs.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),cs.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Qs(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Qs(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{u&&(r(!t||t.type?new qs(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===Ds.protocols.indexOf(h)?r(new ps("Unsupported protocol "+h+":",ps.ERR_BAD_REQUEST,e)):u.send(n||null)}))},$s={http:null,xhr:Ys};cs.forEach($s,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const Xs=e=>"- ".concat(e),ec=e=>cs.isFunction(e)||null===e||!1===e,tc=e=>{e=cs.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!ec(r)&&(n=$s[(t=String(r)).toLowerCase()],void 0===n))throw new ps("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+i]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Xs).join("\n"):" "+Xs(e[0]):"as no adapter specified";throw new ps("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function rc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qs(null,e)}function nc(e){rc(e),e.headers=zs.from(e.headers),e.data=Ws.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tc(e.adapter||js.adapter)(e).then((function(t){return rc(e),t.data=Ws.call(e,e.transformResponse,t),t.headers=zs.from(t.headers),t}),(function(t){return Vs(t)||(rc(e),t&&t.response&&(t.response.data=Ws.call(e,e.transformResponse,t.response),t.response.headers=zs.from(t.response.headers))),Promise.reject(t)}))}const ac=e=>e instanceof zs?e.toJSON():e;function ic(e,t){t=t||{};const r={};function n(e,t,r){return cs.isPlainObject(e)&&cs.isPlainObject(t)?cs.merge.call({caseless:r},e,t):cs.isPlainObject(t)?cs.merge({},t):cs.isArray(t)?t.slice():t}function a(e,t,r){return cs.isUndefined(t)?cs.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function i(e,t){if(!cs.isUndefined(t))return n(void 0,t)}function o(e,t){return cs.isUndefined(t)?cs.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,a,i){return i in t?n(r,a):i in e?n(void 0,r):void 0}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>a(ac(e),ac(t),!0)};return cs.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=c[n]||a,o=i(e[n],t[n],n);cs.isUndefined(o)&&i!==s||(r[n]=o)})),r}const oc="1.6.5",sc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{sc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const cc={};sc.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,i)=>{if(!1===e)throw new ps(n(a," has been removed"+(t?" in "+t:"")),ps.ERR_DEPRECATED);return t&&!cc[a]&&(cc[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,i)}};const lc={assertOptions:function(e,t,r){if("object"!==typeof e)throw new ps("options must be an object",ps.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const t=e[i],r=void 0===t||o(t,i,e);if(!0!==r)throw new ps("option "+i+" must be "+r,ps.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ps("Unknown option "+i,ps.ERR_BAD_OPTION)}},validators:sc},uc=lc.validators;class dc{constructor(e){this.defaults=e,this.interceptors={request:new Es,response:new Es}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ic(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&lc.assertOptions(r,{silentJSONParsing:uc.transitional(uc.boolean),forcedJSONParsing:uc.transitional(uc.boolean),clarifyTimeoutError:uc.transitional(uc.boolean)},!1),null!=n&&(cs.isFunction(n)?t.paramsSerializer={serialize:n}:lc.assertOptions(n,{encode:uc.function,serialize:uc.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&cs.merge(a.common,a[t.method]);a&&cs.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=zs.concat(i,a);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[nc.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=o.length;let p=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{p=e(p)}catch(error){t.call(this,error);break}}try{l=nc.call(this,p)}catch(error){return Promise.reject(error)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return ks(Zs((e=ic(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}cs.forEach(["delete","get","head","options"],(function(e){dc.prototype[e]=function(t,r){return this.request(ic(r||{},{method:e,url:t,data:(r||{}).data}))}})),cs.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(ic(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}dc.prototype[e]=t(),dc.prototype[e+"Form"]=t(!0)}));const pc=dc;class hc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new qs(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new hc((function(t){e=t}));return{token:t,cancel:e}}}const fc=hc;const mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mc).forEach((e=>{let[t,r]=e;mc[r]=t}));const gc=mc;const vc=function e(t){const r=new pc(t),n=To(pc.prototype.request,r);return cs.extend(n,pc.prototype,r,{allOwnKeys:!0}),cs.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(ic(t,r))},n}(js);vc.Axios=pc,vc.CanceledError=qs,vc.CancelToken=fc,vc.isCancel=Vs,vc.VERSION=oc,vc.toFormData=vs,vc.AxiosError=ps,vc.Cancel=vc.CanceledError,vc.all=function(e){return Promise.all(e)},vc.spread=function(e){return function(t){return e.apply(null,t)}},vc.isAxiosError=function(e){return cs.isObject(e)&&!0===e.isAxiosError},vc.mergeConfig=ic,vc.AxiosHeaders=zs,vc.formToJSON=e=>Is(cs.isHTMLForm(e)?new FormData(e):e),vc.getAdapter=tc,vc.HttpStatusCode=gc,vc.default=vc;const yc=vc;function bc(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}"function"==typeof SuppressedError&&SuppressedError;var _c,wc,Sc=function(e){var t=e.children,r=e.prompt;return a.createElement("div",{className:"react-terminal-line react-terminal-input","data-terminal-prompt":r||"$"},t)},kc=function(e){var t=e.children;return a.createElement("div",{className:"react-terminal-line"},t)};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}("/**\n * Modfied version of [termynal.js](https://github.com/ines/termynal/blob/master/termynal.css).\n *\n * @author Ines Montani <ines@ines.io>\n * @version 0.0.1\n * @license MIT\n */\n .react-terminal-wrapper {\n  width: 100%;\n  background: #252a33;\n  color: #eee;\n  font-size: 18px;\n  font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace;\n  border-radius: 4px;\n  padding: 75px 45px 35px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n }\n\n.react-terminal {\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.react-terminal-wrapper.react-terminal-light {\n  background: #ddd;\n  color: #1a1e24;\n}\n\n.react-terminal-window-buttons {\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n}\n\n.react-terminal-window-buttons button {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  border: 0;\n}\n\n.react-terminal-window-buttons button.clickable {\n  cursor: pointer;\n}\n\n.react-terminal-window-buttons button.red-btn {\n  background: #d9515d;\n}\n\n.react-terminal-window-buttons button.yellow-btn {\n  background: #f4c025;\n}\n\n.react-terminal-window-buttons button.green-btn {\n  background: #3ec930;\n}\n\n.react-terminal-wrapper:after {\n  content: attr(data-terminal-name);\n  position: absolute;\n  color: #a2a2a2;\n  top: 5px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  pointer-events: none;\n}\n\n.react-terminal-wrapper.react-terminal-light:after {\n  color: #D76D77;\n}\n\n.react-terminal-line {\n  white-space: pre;\n}\n\n.react-terminal-line:before {\n  /* Set up defaults and ensure empty lines are displayed. */\n  content: '';\n  display: inline-block;\n  vertical-align: middle;\n  color: #a2a2a2;\n}\n\n.react-terminal-light .react-terminal-line:before {\n  color: #D76D77;\n}\n\n.react-terminal-input:before {\n  margin-right: 0.75em;\n  content: '$';\n}\n\n.react-terminal-input[data-terminal-prompt]:before {\n  content: attr(data-terminal-prompt);\n}\n\n.react-terminal-wrapper:focus-within .react-terminal-active-input .cursor {\n  position: relative;\n  display: inline-block;\n  width: 0.55em;\n  height: 1em;\n  top: 0.225em;\n  background: #fff;\n  -webkit-animation: blink 1s infinite;\n          animation: blink 1s infinite;\n}\n\n/* Cursor animation */\n\n@-webkit-keyframes blink {\n  50% {\n      opacity: 0;\n  }\n}\n\n@keyframes blink {\n  50% {\n      opacity: 0;\n  }\n}\n\n.terminal-hidden-input {\n    position: fixed;\n    left: -1000px;\n}\n\n/* .react-terminal-progress {\n  display: flex;\n  margin: .5rem 0;\n}\n\n.react-terminal-progress-bar {\n  background-color: #fff;\n  border-radius: .25rem;\n  width: 25%;\n}\n\n.react-terminal-wrapper.react-terminal-light .react-terminal-progress-bar {\n  background-color: #000;\n} */\n"),(wc=_c||(_c={}))[wc.Light=0]="Light",wc[wc.Dark=1]="Dark";var Ec=function(e){var t=e.name,r=e.prompt,n=e.height,i=void 0===n?"600px":n,o=e.colorMode,s=e.onInput,c=e.children,l=e.startingInputValue,u=void 0===l?"":l,d=e.redBtnCallback,p=e.yellowBtnCallback,h=e.greenBtnCallback,f=e.scrollToPosition,m=void 0===f||f,g=bc((0,a.useState)(""),2),v=g[0],y=g[1],b=bc((0,a.useState)(0),2),_=b[0],w=b[1],S=(0,a.useRef)(null);(0,a.useEffect)((function(){y(u.trim())}),[u]),(0,a.useEffect)((function(){var e,t;if(null!=s){var r=[],n=function(e){var t=function(){var t;return null===(t=null==e?void 0:e.querySelector(".terminal-hidden-input"))||void 0===t?void 0:t.focus()};null==e||e.addEventListener("click",t),r.push({terminalEl:e,listener:t})};try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(document.getElementsByClassName("react-terminal-wrapper")),i=a.next();!i.done;i=a.next())n(i.value)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return function(){r.forEach((function(e){e.terminalEl.removeEventListener("click",e.listener)}))}}}),[s]);var k=["react-terminal-wrapper"];return o===_c.Light&&k.push("react-terminal-light"),a.createElement("div",{className:k.join(" "),"data-terminal-name":t},a.createElement("div",{className:"react-terminal-window-buttons"},a.createElement("button",{className:(p?"clickable":"")+" red-btn",disabled:!d,onClick:d}),a.createElement("button",{className:(p?"clickable":"")+" yellow-btn",disabled:!p,onClick:p}),a.createElement("button",{className:(h?"clickable":"")+" green-btn",disabled:!h,onClick:h})),a.createElement("div",{className:"react-terminal",style:{height:i}},c,"function"==typeof s&&a.createElement("div",{className:"react-terminal-line react-terminal-input react-terminal-active-input","data-terminal-prompt":r||"$",key:"terminal-line-prompt"},v,a.createElement("span",{className:"cursor",style:{left:_+1+"px"}})),a.createElement("div",{ref:S})),a.createElement("input",{className:"terminal-hidden-input",placeholder:"Terminal Hidden Input",value:v,autoFocus:null!=s,onChange:function(e){y(e.target.value)},onKeyDown:function(e){var t,r;if(s)if("Enter"===e.key)s(v),w(0),y(""),m&&setTimeout((function(){var e;return null===(e=null==S?void 0:S.current)||void 0===e?void 0:e.scrollIntoView({behavior:"auto",block:"nearest"})}),500);else if(["ArrowLeft","ArrowRight","ArrowDown","ArrowUp","Delete"].includes(e.key)){var n=e.currentTarget,a="",i=v.length-(n.selectionStart||0);0,i=(t=i)>(r=v.length)?r:t<0?0:t,"ArrowLeft"===e.key?(i>v.length-1&&i--,a=v.slice(v.length-1-i)):"ArrowRight"===e.key||"Delete"===e.key?a=v.slice(v.length-i+1):"ArrowUp"===e.key&&(a=v.slice(0));var o=function(e,t){var r=document.createElement("span");r.style.visibility="hidden",r.style.position="absolute",r.style.fontSize=window.getComputedStyle(e).fontSize,r.style.fontFamily=window.getComputedStyle(e).fontFamily,r.innerText=t,document.body.appendChild(r);var n=r.getBoundingClientRect().width;return document.body.removeChild(r),-n}(n,a);w(o)}}}))};const Rc=e=>{let{socket:t,room:r}=e;const[n,i]=(0,a.useState)(xi["C# (Mono 6.6.0.161)"].value),[o,s]=(0,a.useState)("C# (Mono 6.6.0.161)"),[c,l]=(0,a.useState)("vs-dark"),[u,d]=(0,a.useState)("890px"),[p,h]=(0,a.useState)(!0),[f,m]=(0,a.useState)(!1);var g=[];const[v,y]=(0,a.useState)([(0,fn.jsx)(kc,{children:"Welcome to SquadScript Terminal!!!"},0),(0,fn.jsx)(kc,{},1),(0,fn.jsx)(kc,{children:"The commands available are:"},2),(0,fn.jsx)(kc,{children:"'run code' will execute the current code"},3),(0,fn.jsxs)(kc,{children:["'run code, input=' starts multi-line input.",(0,fn.jsx)("br",{}),"Type 'exec' to run the code."]},4),(0,fn.jsx)(kc,{children:"'clear' will clear the terminal."},9)]),[b,_]=(0,a.useState)(0),[w,S]=(0,a.useState)(!1),[k,E]=(0,a.useState)(""),R=(0,a.useRef)(null),x=xi[o],C=(0,a.useRef)(!1);(0,a.useEffect)((()=>(t&&(t.on("initialize",(e=>{i(e),R.current&&(C.current=!0,R.current.setValue(e),C.current=!1)})),t.on("operation",(e=>{i((t=>{const r=T(t,e);return R.current&&(C.current=!0,R.current.setValue(r),C.current=!1),r}))}))),()=>{t&&(t.off("initialize"),t.off("operation"))})),[t,r]);const P=e=>{t.emit("operation",{room:r,...e})},T=(e,t)=>{const{index:r,text:n,type:a}=t;if(console.log("Applying Operation: ".concat(a," at index ").concat(r,' with text "').concat(n,'"')),"insert"===a)e=e.slice(0,r)+n+e.slice(r),console.log("After Insert: ".concat(e));else if("delete"===a){const t=r+n.length;e=e.slice(0,r)+e.slice(t),console.log("After Delete: ".concat(e))}return e},O=e=>{const{changes:t}=e,r=[];return t.forEach((e=>{const{range:t,text:a}=e,{startColumn:i,startLineNumber:o,endColumn:s,endLineNumber:c}=t,l=R.current.getModel().getOffsetAt({lineNumber:o,column:i}),u=R.current.getModel().getOffsetAt({lineNumber:c,column:s});if(l!=u){const t=n.slice(l,l+e.rangeLength);r.push({index:l,text:t,type:"replace"})}else if(""===a){const t=n.slice(l,u+e.rangeLength);r.push({index:l,text:t,type:"delete"})}a&&r.push({index:l,text:a,type:"insert"})})),r};return(0,fn.jsx)(fn.Fragment,{children:p?(0,fn.jsxs)("div",{className:"w-100",children:[(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)("select",{onChange:e=>{const t=e.target.value;xi.hasOwnProperty(t)&&(s(t),i(xi[t].value))},className:"form-control w-25",children:Object.keys(xi).map(((e,t)=>(0,fn.jsx)("option",{value:e,children:xi[e].name},t)))}),(0,fn.jsxs)("select",{className:"form-control w-25 mx-2",value:c,onChange:e=>{l(e.target.value)},children:[(0,fn.jsx)("option",{value:"vs-dark",children:"VS-Dark"}),(0,fn.jsx)("option",{value:"vs-light",children:"VS-Light"}),(0,fn.jsx)("option",{value:"hc-black",children:"High-contrast Dark"}),(0,fn.jsx)("option",{value:"hc-light",children:"High-contrast Light"})]}),(0,fn.jsxs)("div",{className:"btn-group",children:[(0,fn.jsx)("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:()=>m(!f),children:"Options"}),f&&(0,fn.jsxs)("div",{children:[(0,fn.jsx)("button",{className:"dropdown-item",onClick:e=>{e.preventDefault();const t=new Blob([n],{type:"text/plain;charset=utf-8"});(0,Ci.saveAs)(t,x.name),it.info("File Downloading Started",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:dt})},children:"Download Code"}),(0,fn.jsx)("input",{type:"file",className:"dropdown-item",onChange:e=>{e.preventDefault();const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{i(e.target.result);const r=t.name.split(".").pop();for(let t in xi)if(xi[t].name.split(".").pop()===r){s(t);break}},e.readAsText(t),it.success("File Uploaded Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:dt})}else console.log("No file selected")}})]})]})]}),(0,fn.jsx)(Po,{height:"75vh",theme:c,width:u,path:x.name,language:x.editor_name,value:n,onMount:(e,t)=>{R.current=e},onChange:(e,t)=>{if(!C.current){const r=O(t);i(e),r.forEach((e=>P(e)))}},options:{acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",accessibilitySupport:"auto",autoIndent:!0,automaticLayout:!0,codeLens:!0,colorDecorators:!0,contextmenu:!0,cursorBlinking:"blink",cursorSmoothCaretAnimation:!0,cursorStyle:"line",disableLayerHinting:!0,disableMonospaceOptimizations:!0,dragAndDrop:!0,fixedOverflowWidgets:!0,folding:!0,foldingStrategy:"auto",fontLigatures:!0,formatOnPaste:!0,formatOnType:!0,hideCursorInOverviewRuler:!0,highlightActiveIndentGuide:!0,links:!0,mouseWheelZoom:!0,multiCursorMergeOverlapping:!0,multiCursorModifier:"alt",overviewRulerBorder:!0,overviewRulerLanes:2,quickSuggestions:!0,quickSuggestionsDelay:10,readOnly:!1,renderControlCharacters:!0,renderFinalNewline:!0,renderIndentGuides:!0,renderLineHighlight:"all",renderWhitespace:"none",revealHorizontalRightPadding:30,roundedSelection:!0,rulers:[],scrollBeyondLastColumn:5,scrollBeyondLastLine:!0,selectOnLineNumbers:!0,selectionClipboard:!0,selectionHighlight:!0,showFoldingControls:"mouseover",smoothScrolling:!0,snippetSuggestions:"inline",suggestOnTriggerCharacters:!0,wordBasedSuggestions:!0,wordSeparators:"`~!@#$%^&*()-=+[{]}|;:'\",.<>/?",wordWrap:"on",wordWrapBreakAfterCharacters:"\t})]?|&,;",wordWrapBreakBeforeCharacters:"{([+",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:"same"}}),(0,fn.jsx)("button",{onClick:()=>h(!p),className:"btn btn-secondary",children:"Show/Hide Terminal"})]}):(0,fn.jsxs)("div",{className:"my-compiler",children:[(0,fn.jsx)("div",{className:"my-terminal",children:(0,fn.jsx)(Ec,{name:"Terminal",colorMode:_c.Dark,onInput:async function(e){if(w)if("exec"===e.trim()){const e={authorization:localStorage.getItem("auth")};g.push((0,fn.jsx)(Sc,{children:k},g.length));var t=k.replace("run code, input=\n","");const r=await yc.post("/api/v1/rapidapi/judge",{language_id:xi[o].id,source_code:n,stdin:t}),{token:a}=r.data,i=await yc.get("/api/v1/rapidapi/judge/".concat(a),{headers:e}),{stdout:s,time:c,memory:l,stderr:u,compile_output:d}=i.data;u||d?d?g.push((0,fn.jsxs)(Sc,{children:["Compile Error:",(0,fn.jsx)("br",{}),d]},a)):g.push((0,fn.jsxs)(Sc,{children:["Error:",(0,fn.jsx)("br",{}),u]},a)):g.push((0,fn.jsxs)(Sc,{children:["Output:",(0,fn.jsx)("br",{}),s,(0,fn.jsx)("br",{}),"Time: ",c,"ms,Space: ",l,"kb"]},a)),S(!1)}else E(k+"\n"+e);else{const t={authorization:localStorage.getItem("auth")},r=e.trim().toLowerCase();if("run code, input="!==r&&g.push((0,fn.jsx)(Sc,{children:e},g.length)),"run code"===r){const e=await yc.post("/api/v1/rapidapi/judge",{language_id:xi[o].id,source_code:n,stdin:""}),{token:r}=e.data,a=await yc.get("/api/v1/rapidapi/judge/".concat(r),{headers:t}),{stdout:i,time:s,memory:c,stderr:l,compile_output:u}=a.data;l||u?u?g.push((0,fn.jsxs)(Sc,{children:["Compile Error:",(0,fn.jsx)("br",{}),u]},r)):g.push((0,fn.jsxs)(Sc,{children:["Error:",(0,fn.jsx)("br",{}),l]},r)):g.push((0,fn.jsxs)(Sc,{children:["Output:",(0,fn.jsx)("br",{}),i,(0,fn.jsx)("br",{}),"Time: ",s,"ms,Space: ",c,"kb"]},r))}else r.startsWith("run code, input=")?(S(!0),E(e)):"clear"===r?g=[(0,fn.jsx)(kc,{children:"Welcome to SquadScript Terminal!!!"},0),(0,fn.jsx)(kc,{},1),(0,fn.jsx)(kc,{children:"The commands available are:"},2),(0,fn.jsx)(kc,{children:"'run code' will execute the current code"},3),(0,fn.jsx)(kc,{children:"'run code, input=' starts multi-line input. Type 'exec' to run the code with input."},4),(0,fn.jsx)(kc,{children:"'clear' will clear the terminal."},9)]:""!==r&&g.push((0,fn.jsx)(kc,{children:"Unrecognized command"},g.length))}y(g)},redBtnCallback:()=>{y(g=[])},yellowBtnCallback:()=>{_((e=>e+1))},greenBtnCallback:()=>{y(g=[(0,fn.jsx)(kc,{children:"Welcome to SquadScript Terminal!!!"},0),(0,fn.jsx)(kc,{},1),(0,fn.jsx)(kc,{children:"The commands available are:"},2),(0,fn.jsx)(kc,{children:"'run code' will execute the current code"},3),(0,fn.jsx)(kc,{children:"'run code, input=' starts multi-line input. Type 'exec' to run the code."},4),(0,fn.jsx)(kc,{children:"'clear' will clear the terminal."},9)])},height:"67vh",children:v},b)}),(0,fn.jsx)("button",{onClick:()=>h(!p),className:"btn btn-secondary",children:"Show/Hide Editor"})]})})},xc=e=>{let{socket:t,room:r}=e;const[n,i]=(0,a.useState)(""),[o,s]=(0,a.useState)([]);(0,a.useEffect)((()=>(t&&t.on("message",(e=>{s((t=>[...t,e]))})),()=>{t&&t.off("message")})),[t]);return(0,fn.jsxs)("div",{className:"chat-container",children:[(0,fn.jsx)("div",{className:"messages",children:o.map(((e,t)=>(0,fn.jsxs)("div",{className:"message",children:[(0,fn.jsx)("h6",{children:e.username}),(0,fn.jsx)("p",{children:e.text})]},t)))}),(0,fn.jsxs)("div",{className:"chat-input-container",children:[(0,fn.jsx)("input",{value:n,onChange:e=>i(e.target.value),placeholder:"Type your message..."}),(0,fn.jsx)("button",{onClick:()=>{t&&(t.emit("message",{room:r,text:n,username:localStorage.getItem("username")}),i(""))},children:"Send"})]})]})},Cc=Object.create(null);Cc.open="0",Cc.close="1",Cc.ping="2",Cc.pong="3",Cc.message="4",Cc.upgrade="5",Cc.noop="6";const Pc=Object.create(null);Object.keys(Cc).forEach((e=>{Pc[Cc[e]]=e}));const Tc={type:"error",data:"parser error"},Oc="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Dc="function"===typeof ArrayBuffer,Ic=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Mc=(e,t,r)=>{let{type:n,data:a}=e;return Oc&&a instanceof Blob?t?r(a):jc(a,r):Dc&&(a instanceof ArrayBuffer||Ic(a))?t?r(a):jc(new Blob([a]),r):r(Cc[n]+(a||""))},jc=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function Lc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nc;const Ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bc="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)Bc[Ac.charCodeAt(r)]=r;const Fc="function"===typeof ArrayBuffer,Uc=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Wc(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:zc(e.substring(1),t)};return Pc[r]?e.length>1?{type:Pc[r],data:e.substring(1)}:{type:Pc[r]}:Tc},zc=(e,t)=>{if(Fc){const r=(e=>{let t,r,n,a,i,o=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const l=new ArrayBuffer(o),u=new Uint8Array(l);for(t=0;t<s;t+=4)r=Bc[e.charCodeAt(t)],n=Bc[e.charCodeAt(t+1)],a=Bc[e.charCodeAt(t+2)],i=Bc[e.charCodeAt(t+3)],u[c++]=r<<2|n>>4,u[c++]=(15&n)<<4|a>>2,u[c++]=(3&a)<<6|63&i;return l})(e);return Wc(r,t)}return{base64:!0,data:e}},Wc=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Vc=String.fromCharCode(30);function Hc(){return new TransformStream({transform(e,t){!function(e,t){Oc&&e.data instanceof Blob?e.data.arrayBuffer().then(Lc).then(t):Dc&&(e.data instanceof ArrayBuffer||Ic(e.data))?t(Lc(e.data)):Mc(e,!1,(e=>{Nc||(Nc=new TextEncoder),t(Nc.encode(e))}))}(e,(r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(r)}))}})}let qc;function Gc(e){return e.reduce(((e,t)=>e+t.length),0)}function Zc(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Kc(e){if(e)return function(e){for(var t in Kc.prototype)e[t]=Kc.prototype[t];return e}(e)}Kc.prototype.on=Kc.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Kc.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},Kc.prototype.off=Kc.prototype.removeListener=Kc.prototype.removeAllListeners=Kc.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},Kc.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},Kc.prototype.emitReserved=Kc.prototype.emit,Kc.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Kc.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Jc="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Qc(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const Yc=Jc.setTimeout,$c=Jc.clearTimeout;function Xc(e,t){t.useNativeTimers?(e.setTimeoutFn=Yc.bind(Jc),e.clearTimeoutFn=$c.bind(Jc)):(e.setTimeoutFn=Jc.setTimeout.bind(Jc),e.clearTimeoutFn=Jc.clearTimeout.bind(Jc))}class el extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class tl extends Kc{constructor(e){super(),this.writable=!1,Xc(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new el(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Uc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}const rl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nl=64,al={};let il,ol=0,sl=0;function cl(e){let t="";do{t=rl[e%nl]+t,e=Math.floor(e/nl)}while(e>0);return t}function ll(){const e=cl(+new Date);return e!==il?(ol=0,il=e):e+"."+cl(ol++)}for(;sl<nl;sl++)al[rl[sl]]=sl;let ul=!1;try{ul="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Wh){}const dl=ul;function pl(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||dl))return new XMLHttpRequest}catch(r){}if(!t)try{return new(Jc[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function hl(){}const fl=null!=new pl({xdomain:!1}).responseType;class ml extends Kc{constructor(e,t){super(),Xc(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Qc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new pl(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(n){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(n){return void this.setTimeoutFn((()=>{this.onError(n)}),0)}"undefined"!==typeof document&&(this.index=ml.requestsCount++,ml.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=hl,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete ml.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ml.requestsCount=0,ml.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",gl);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Jc?"pagehide":"unload",gl,!1)}function gl(){for(let e in ml.requests)ml.requests.hasOwnProperty(e)&&ml.requests[e].abort()}const vl="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),yl=Jc.WebSocket||Jc.MozWebSocket,bl="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const _l={websocket:class extends tl{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=bl?{}:Qc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=bl?new yl(e,t,r):t?new yl(e,t):new yl(e)}catch(Wh){return this.emitReserved("error",Wh)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;Mc(r,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(t){}n&&vl((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ll()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!yl}},webtransport:class extends tl{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){qc||(qc=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,s){for(r.push(o);;){if(0===n){if(Gc(r)<1)break;const e=Zc(r,1);i=128===(128&e[0]),a=127&e[0],n=a<126?3:126===a?1:2}else if(1===n){if(Gc(r)<2)break;const e=Zc(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(Gc(r)<8)break;const e=Zc(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(Tc);break}a=i*Math.pow(2,32)+t.getUint32(4),n=3}else{if(Gc(r)<a)break;const e=Zc(r,a);s.enqueue(Uc(i?e:qc.decode(e),t)),n=0}if(0===a||a>e){s.enqueue(Tc);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=Hc();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();const a=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),a())})).catch((e=>{}))};a();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(i).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this.writer.write(r).then((()=>{n&&vl((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends tl{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=fl&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(Vc),n=[];for(let a=0;a<r.length;a++){const e=Uc(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,i)=>{Mc(e,!1,(e=>{n[i]=e,++a===r&&t(n.join(Vc))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ll()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ml(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},wl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kl(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=wl.exec(e||""),i={},o=14;for(;o--;)i[Sl[o]]=a[o]||"";return-1!=r&&-1!=n&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,i.query),i}class El extends Kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=kl(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=kl(t.host).host),Xc(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new _l[e](r)}open(){let e;if(this.opts.rememberUpgrade&&El.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),r=!1;El.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;El.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,l(),t.close(),t=null)}const i=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function o(){i("transport closed")}function s(){i("socket closed")}function c(e){t&&e.name!==t.name&&a()}const l=()=>{t.removeListener("open",n),t.removeListener("error",i),t.removeListener("close",o),this.off("close",s),this.off("upgrading",c)};t.once("open",n),t.once("error",i),t.once("close",o),this.once("close",s),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",El.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this.maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){El.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}El.protocol=4;El.protocol;const Rl="function"===typeof ArrayBuffer,xl=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Cl=Object.prototype.toString,Pl="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Cl.call(Blob),Tl="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Cl.call(File);function Ol(e){return Rl&&(e instanceof ArrayBuffer||xl(e))||Pl&&e instanceof Blob||Tl&&e instanceof File}function Dl(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Dl(e[t]))return!0;return!1}if(Ol(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Dl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Dl(e[r]))return!0;return!1}function Il(e){const t=[],r=e.data,n=e;return n.data=Ml(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Ml(e,t){if(!e)return e;if(Ol(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Ml(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Ml(e[n],t));return r}return e}function jl(e,t){return e.data=Ll(e.data,t),delete e.attachments,e}function Ll(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ll(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ll(e[r],t));return e}const Nl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Al=5;var Bl;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Bl||(Bl={}));class Fl{constructor(e){this.replacer=e}encode(e){return e.type!==Bl.EVENT&&e.type!==Bl.ACK||!Dl(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Bl.EVENT?Bl.BINARY_EVENT:Bl.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Bl.BINARY_EVENT&&e.type!==Bl.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Il(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function Ul(e){return"[object Object]"===Object.prototype.toString.call(e)}class zl extends Kc{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Bl.BINARY_EVENT;r||t.type===Bl.BINARY_ACK?(t.type=r?Bl.EVENT:Bl.ACK,this.reconstructor=new Wl(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ol(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Bl[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Bl.BINARY_EVENT||r.type===Bl.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!zl.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Bl.CONNECT:return Ul(t);case Bl.DISCONNECT:return void 0===t;case Bl.CONNECT_ERROR:return"string"===typeof t||Ul(t);case Bl.EVENT:case Bl.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Nl.indexOf(t[0]));case Bl.ACK:case Bl.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Wl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=jl(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Vl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Hl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ql extends Kc{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vl(e,"open",this.onopen.bind(this)),Vl(e,"packet",this.onpacket.bind(this)),Vl(e,"error",this.onerror.bind(this)),Vl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(Hl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Bl.EVENT,data:r,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){const e=this.ids++,t=r.pop();this._registerAckCallback(e,t),a.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a);this.acks[e]=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,[null,...r])}}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((t,n)=>{r.push(((e,r)=>a?e?n(e):t(r):t(e))),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];r(null,...i)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Bl.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Bl.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Bl.EVENT:case Bl.BINARY_EVENT:this.onevent(e);break;case Bl.ACK:case Bl.BINARY_ACK:this.onack(e);break;case Bl.DISCONNECT:this.ondisconnect();break;case Bl.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t.packet({type:Bl.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Bl.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Gl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Gl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Gl.prototype.reset=function(){this.attempts=0},Gl.prototype.setMin=function(e){this.ms=e},Gl.prototype.setMax=function(e){this.max=e},Gl.prototype.setJitter=function(e){this.jitter=e};class Zl extends Kc{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Xc(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Gl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||t;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new El(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Vl(t,"open",(function(){r.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Vl(t,"error",a);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vl(e,"ping",this.onping.bind(this)),Vl(e,"data",this.ondata.bind(this)),Vl(e,"error",this.onerror.bind(this)),Vl(e,"close",this.onclose.bind(this)),Vl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){vl((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ql(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Kl={};function Jl(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=kl(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=Kl[a]&&i in Kl[a].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new Zl(n,t):(Kl[a]||(Kl[a]=new Zl(n,t)),s=Kl[a]),r.query&&!t.query&&(t.query=r.queryKey),s.socket(r.path,t)}function Ql(e){let{meetingId:t,onMeetingLeave:r}=e;const[n,i]=(0,a.useState)(null),{join:o,participants:s}=pi({onMeetingJoined:()=>i("JOINED"),onMeetingLeft:r}),c=t,[l,u]=(0,a.useState)(null);return(0,a.useEffect)((()=>{const e=Jl("https://squadscript.onrender.com");return e.on("connect",(()=>{console.log("Connected to server"),e.emit("join room",c)})),u(e),()=>{e.disconnect(),console.log("Disconnected from server")}}),[c]),(0,fn.jsxs)("div",{className:"meeting-main",children:[(0,fn.jsxs)("div",{className:"vc-main",children:[(0,fn.jsx)("div",{className:"heading-meet",children:(0,fn.jsxs)("h3",{children:["Meeting Id: ",t]})}),"JOINED"===n?(0,fn.jsx)("div",{className:"video-vc",children:[...s.keys()].map((e=>(0,fn.jsx)(Ri,{participantId:e},e)))}):"JOINING"===n?(0,fn.jsx)("p",{className:"text-light",children:"Joining the meeting..."}):(0,fn.jsx)("button",{className:"btn btn-dark",onClick:()=>{i("JOINING"),o()},children:"Join"})]}),"JOINED"===n&&(0,fn.jsxs)("div",{className:"join-page",children:[(0,fn.jsx)("div",{className:"compiler-side",children:(0,fn.jsx)(Rc,{socket:l,room:c})}),(0,fn.jsx)("div",{className:"chat-side",children:(0,fn.jsx)(xc,{socket:l,room:c})})]}),"JOINED"===n&&(0,fn.jsx)(Si,{})]})}function Yl(e){let{getMeetingAndToken:t}=e;const[r,n]=(0,a.useState)(null);te();return(0,fn.jsxs)("div",{className:"meet-join",children:[(0,fn.jsx)("form",{className:"join-meet",children:(0,fn.jsxs)("div",{className:"joinscreen-form",children:[(0,fn.jsx)("input",{className:"form-control w-50",placeholder:"Enter meet id",onChange:e=>n(e.target.value)}),(0,fn.jsx)("button",{className:"btn join-button",onClick:async e=>{e.preventDefault(),r?await t(r):it.error("Meeting ID is required",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})},children:"Join"})]})}),(0,fn.jsx)("form",{className:"create-meet",children:(0,fn.jsx)("button",{className:"btn create-button 30",onClick:async e=>{e.preventDefault(),await t(null)},children:"Create a new meeting"})})]})}Object.assign(Jl,{Manager:Zl,Socket:ql,io:Jl,connect:Jl});const $l=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)("");(0,a.useEffect)((()=>{n(localStorage.getItem("username"))}),[]);return mi&&e?(0,fn.jsx)(fn.Fragment,{children:(0,fn.jsx)(hi,{config:{meetingId:e,micEnabled:!0,webcamEnabled:!0,name:r},token:mi,children:(0,fn.jsx)(Ql,{meetingId:e,onMeetingLeave:()=>{t(null)}})})}):(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"join-main",children:(0,fn.jsxs)("div",{className:"join-content",children:[(0,fn.jsxs)("div",{className:"join-left-container",children:[(0,fn.jsx)("div",{className:"join-left-heading ",children:(0,fn.jsx)("h1",{children:"Connect Indulge And Develop"})}),(0,fn.jsx)("div",{className:"join-left-content ",children:(0,fn.jsx)("span",{children:"Our enhanced premium group project meeting platform, originally designed for secure business engagements as Squad Script, is now available to a broader audience at no cost."})}),(0,fn.jsx)(Yl,{getMeetingAndToken:async e=>{const r=null==e?await(async e=>{let{token:t}=e;const r=await fetch("https://api.videosdk.live/v2/rooms",{method:"POST",headers:{authorization:"".concat(mi),"Content-Type":"application/json"},body:JSON.stringify({})}),{roomId:n}=await r.json();return n})({token:mi}):e;t(r)}})]}),(0,fn.jsx)("div",{className:"join-right-container",children:(0,fn.jsx)("img",{src:gi,alt:""})})]})})]})},Xl=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[s,c]=(0,a.useState)("");(0,a.useEffect)((()=>{Ua({origin:"top",distance:"80px",duration:2e3,reset:!0}).reveal(".contact-heading, .contact-form",{interval:200})}),[]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"contact-main",children:(0,fn.jsxs)("div",{className:"contact-content",children:[(0,fn.jsx)("div",{className:"contact-heading mt-5 mb-5",children:(0,fn.jsx)("h1",{children:"Contact Us"})}),(0,fn.jsx)("div",{className:"contact-form mt-5",children:(0,fn.jsxs)("form",{children:[(0,fn.jsxs)("select",{className:"form-control w-75 mx-auto mt-5",onChange:e=>{c(e.target.value)},children:[(0,fn.jsx)("option",{value:"default",children:"Select type of message"}),(0,fn.jsx)("option",{value:"complaint",children:"Complaint"}),(0,fn.jsx)("option",{value:"suggestion",children:"Suggestion"}),(0,fn.jsx)("option",{value:"enquiry",children:"Enquiry"})]}),(0,fn.jsx)("input",{className:"form-control w-75 mx-auto mt-3",placeholder:"Enter Email Address",onChange:e=>{t(e.target.value)}}),(0,fn.jsx)("textarea",{className:"form-control w-75 mx-auto mt-3 h-100",placeholder:"Enter Content",onChange:e=>{n(e.target.value)}}),(0,fn.jsxs)("div",{className:"form-submit",children:[(0,fn.jsxs)("div",{className:"contact-form-check mt-4",children:[(0,fn.jsx)("input",{type:"checkbox",name:"check",onChange:e=>{o(e.target.checked)}}),(0,fn.jsxs)("label",{htmlFor:"check",className:"ms-2",children:["I agree to all ",(0,fn.jsx)(Pe,{to:"/tnc",children:"Terms and Conditions"})]})]}),(0,fn.jsx)("button",{className:"btn btn-success mx-auto mt-3",onClick:async t=>{t.preventDefault();try{if(i&&e===localStorage.getItem("email")){const t={authorization:localStorage.getItem("auth")},n=await yc.post("/api/v1/auth/contact",{email:e,content:r,type:s},{headers:t});it.success("".concat(n.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}else i&&e!==localStorage.getItem("email")?it.warning("Enter correct mail address",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}):it.warning("Accept the Terms and Conditions",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}catch(error){it.error("".concat(error.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Submit"})]})]})})]})}),(0,fn.jsx)(Vn,{})]})},eu=()=>((0,a.useEffect)((()=>{Ua({origin:"top",distance:"80px",duration:2e3,reset:!0}).reveal(".tnc-content",{interval:200})}),[]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"tnc-main",children:(0,fn.jsxs)("div",{className:"tnc-content",children:[(0,fn.jsxs)("div",{className:"mx-5 mt-5 tnc-heading",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h1",{children:"Terms and Conditions"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Effective date: (yet to be announced)"})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"1. Acceptance of Terms"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:'By accessing or using the SquadScript website ("Site") and its features, including but not limited to collaborative coding, video calls, and chats, you agree to abide by these Terms and Conditions. If you do not agree with any part of these terms, please refrain from using the Site.'})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"2. User Eligibility"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"You must be at least 13 years old to use SquadScript. By using the Site, you affirm that you are over 13 years old, and if you are under 18, you have obtained parental or legal guardian consent to use the Site."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"3. Account Registration and Security"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"To access certain features of SquadScript, you must register for an account. You agree to provide accurate, current, and complete information during the registration process. You are responsible for maintaining the confidentiality of your account credentials and are liable for all activities that occur under your account. If you suspect any unauthorized access to your account, you must notify SquadScript immediately."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"4. Collaborative Coding and User Content"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["a. SquadScript provides collaborative coding features, allowing users to edit code, compile, and work on projects together. Users are solely responsible for the content they create, share, or collaborate on within the platform.",(0,fn.jsx)("br",{}),(0,fn.jsx)("br",{}),"b. Users must respect intellectual property rights and refrain from sharing or collaborating on content that infringes on copyrights, trademarks, or any other proprietary rights."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"5. Video Calls, Chats, and Communication"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["a. The video call and chat features on SquadScript are meant for collaborative purposes. Users are expected to engage in respectful and professional communication.",(0,fn.jsx)("br",{}),(0,fn.jsx)("br",{}),"b. Users must not use the communication features for illegal, offensive, or harmful purposes. Any form of harassment, discrimination, or violation of privacy is strictly prohibited."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"6. Data Privacy and Security"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["a. Users acknowledge and agree to the terms outlined in SquadScript's Privacy Policy regarding the collection, use, and storage of personal information.",(0,fn.jsx)("br",{}),(0,fn.jsx)("br",{}),"b. Users are prohibited from attempting to breach the security of SquadScript, including unauthorized access to data, interference with services, or any malicious activities."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"7. Termination of Account"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"SquadScript reserves the right to suspend or terminate user accounts for violations of these Terms and Conditions. Users may also terminate their accounts at any time by following the provided procedures on the Site."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"8. Changes to Terms and Conditions"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"SquadScript may update these Terms and Conditions at any time without prior notice. Users will be notified of significant changes via email and upon their first login following the update. Continued use of the Site after such changes constitutes acceptance of the modified terms."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"9. Contact Information"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["For inquiries, concerns, or reporting violations, users can contact SquadScript developers through the"," ",(0,fn.jsx)(Pe,{to:"/contact",children:"Contact"})," page on the website or utilize the messaging features on the"," ",(0,fn.jsx)(Pe,{to:"/about",children:"About"})," page via LinkedIn."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"10. Governing Law"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"These Terms and Conditions are governed by and construed in accordance with the laws of India, without regard to its conflict of law principles."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsx)("div",{className:"mx-5 my-5",children:(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"By using SquadScript, you agree to comply with these Terms and Conditions. Thank you for choosing SquadScript for your collaborative coding experience!"})})})]})}),(0,fn.jsx)(Vn,{})]})),tu=()=>((0,a.useEffect)((()=>{Ua({origin:"top",distance:"80px",duration:2e3,reset:!0}).reveal(".privacy-content",{interval:200})}),[]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"privacy-main",children:(0,fn.jsxs)("div",{className:"privacy-content",children:[(0,fn.jsxs)("div",{className:"mx-5 mt-5 privacy-heading",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h1",{children:"Privacy Policy"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Effective date: (yet to be announced)"})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Introduction"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Welcome to SquadScript, your collaborative coding platform. This comprehensive Privacy Policy outlines how we handle user data to ensure a secure and enjoyable experience on our platform. It details the purpose of data collection, use, and storage practices, as well as other key aspects like third-party access, retention periods, policy changes, and compliance with relevant laws. Please take a moment to familiarize yourself with this policy to understand how your personal information is treated."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Identification of Site and Site Owner"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["SquadScript is meticulously crafted by two dedicated developers, and our site is co-owned by these individuals. For additional information about the developers and their commitment to providing an exceptional user experience, please refer to the"," ",(0,fn.jsx)(Pe,{to:"/about",children:"About"})," page on our website."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Data Collection"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"In order to offer our collaborative coding features seamlessly, we collect specific personal information during the signup process. This includes your email, a securely hashed password, your name, and a profile photo. The secure storage of passwords is ensured through our MongoDB database, which is accessible only to authorized developers. This information is essential for user registration and identity verification."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Purpose of Data Collection"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Your data is exclusively stored for the purpose of identity verification and to facilitate seamless collaboration on our platform. The collaborative features, including the collaborating code editor and compiler, video call, and screen sharing, rely on this information to enhance your collaborative coding experience."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Third-Party Access"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"The only third-party entity with access to our stored data is MongoDB, the trusted company hosting our database. We ensure that their practices align with our commitment to user privacy and security."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Data Sharing"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"We do not share user data with any third-party entities. Your information remains confidential and is used solely for the functionalities provided on our collaborative coding platform."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"User Rights"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["Users have the right to submit complaints or queries to the developers via the ",(0,fn.jsx)(Pe,{to:"/contact",children:"Contact"})," page. Additionally, users have the right to inquire about the use of their data, especially in the context of collaborative features like code editing, compiling, video calls, and screen sharing."]})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Retention Period"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Your personal information will be retained until you choose to delete your profile and discontinue using the website. This ensures that your collaborative projects and coding history are available for your convenience."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Policy Changes"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)("p",{children:"Any modifications to this policy will be communicated via email and prominently announced on the website upon the user's first login following the update. We are committed to transparency and will keep you informed about any changes that may affect your privacy and user experience."})})]}),(0,fn.jsx)("hr",{}),(0,fn.jsxs)("div",{className:"mx-5 mt-5",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("h3",{children:"Contact Information"})}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("p",{children:["For any concerns or inquiries, users can contact the developers through the ",(0,fn.jsx)(Pe,{to:"/contact",children:"Contact"})," page to email any issues or utilize the ",(0,fn.jsx)(Pe,{to:"/about",children:"About"})," page to send messages via LinkedIn. We value your feedback and are dedicated to providing a secure and collaborative coding environment for our users."]})})]}),(0,fn.jsx)("hr",{})]})}),(0,fn.jsx)(Vn,{})]}));var ru=yu(),nu=e=>fu(e,ru),au=yu();nu.write=e=>fu(e,au);var iu=yu();nu.onStart=e=>fu(e,iu);var ou=yu();nu.onFrame=e=>fu(e,ou);var su=yu();nu.onFinish=e=>fu(e,su);var cu=[];nu.setTimeout=(e,t)=>{const r=nu.now()+t,n=()=>{const e=cu.findIndex((e=>e.cancel==n));~e&&cu.splice(e,1),pu-=~e?1:0},a={time:r,handler:e,cancel:n};return cu.splice(lu(r),0,a),pu+=1,mu(),a};var lu=e=>~(~cu.findIndex((t=>t.time>e))||~cu.length);nu.cancel=e=>{iu.delete(e),ou.delete(e),su.delete(e),ru.delete(e),au.delete(e)},nu.sync=e=>{hu=!0,nu.batchedUpdates(e),hu=!1},nu.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t=n,nu.onStart(r)}return n.handler=e,n.cancel=()=>{iu.delete(r),t=null},n};var uu="undefined"!=typeof window?window.requestAnimationFrame:()=>{};nu.use=e=>uu=e,nu.now="undefined"!=typeof performance?()=>performance.now():Date.now,nu.batchedUpdates=e=>e(),nu.catch=console.error,nu.frameLoop="always",nu.advance=()=>{"demand"!==nu.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):vu()};var du=-1,pu=0,hu=!1;function fu(e,t){hu?(t.delete(e),e(0)):(t.add(e),mu())}function mu(){du<0&&(du=0,"demand"!==nu.frameLoop&&uu(gu))}function gu(){~du&&(uu(gu),nu.batchedUpdates(vu))}function vu(){const e=du;du=nu.now();const t=lu(du);t&&(bu(cu.splice(0,t),(e=>e.handler())),pu-=t),pu?(iu.flush(),ru.flush(e?Math.min(64,du-e):16.667),ou.flush(),au.flush(),su.flush()):du=-1}function yu(){let e=new Set,t=e;return{add(r){pu+=t!=e||e.has(r)?0:1,e.add(r)},delete:r=>(pu-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,pu-=t.size,bu(t,(t=>t(r)&&e.add(t))),pu+=e.size,t=e)}}}function bu(e,t){e.forEach((e=>{try{t(e)}catch(r){nu.catch(r)}}))}var _u=Object.defineProperty,wu={};function Su(){}((e,t)=>{for(var r in t)_u(e,r,{get:t[r],enumerable:!0})})(wu,{assign:()=>Nu,colors:()=>Mu,createStringInterpolator:()=>Tu,skipAnimation:()=>ju,to:()=>Ou,willAdvance:()=>Lu});var ku={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Eu(e,t){if(ku.arr(e)){if(!ku.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Ru=(e,t)=>e.forEach(t);function xu(e,t,r){if(ku.arr(e))for(let n=0;n<e.length;n++)t.call(r,e[n],"".concat(n));else for(const n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var Cu=e=>ku.und(e)?[]:ku.arr(e)?e:[e];function Pu(e,t){if(e.size){const r=Array.from(e);e.clear(),Ru(r,t)}}var Tu,Ou,Du=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Pu(e,(e=>e(...r)))},Iu=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mu=null,ju=!1,Lu=Su,Nu=e=>{e.to&&(Ou=e.to),e.now&&(nu.now=e.now),void 0!==e.colors&&(Mu=e.colors),null!=e.skipAnimation&&(ju=e.skipAnimation),e.createStringInterpolator&&(Tu=e.createStringInterpolator),e.requestAnimationFrame&&nu.use(e.requestAnimationFrame),e.batchedUpdates&&(nu.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Lu=e.willAdvance),e.frameLoop&&(nu.frameLoop=e.frameLoop)},Au=new Set,Bu=[],Fu=[],Uu=0,zu={get idle(){return!Au.size&&!Bu.length},start(e){Uu>e.priority?(Au.add(e),nu.onStart(Wu)):(Vu(e),nu(qu))},advance:qu,sort(e){if(Uu)nu.onFrame((()=>zu.sort(e)));else{const t=Bu.indexOf(e);~t&&(Bu.splice(t,1),Hu(e))}},clear(){Bu=[],Au.clear()}};function Wu(){Au.forEach(Vu),Au.clear(),nu(qu)}function Vu(e){Bu.includes(e)||Hu(e)}function Hu(e){Bu.splice(function(e,t){const r=e.findIndex(t);return r<0?e.length:r}(Bu,(t=>t.priority>e.priority)),0,e)}function qu(e){const t=Fu;for(let r=0;r<Bu.length;r++){const n=Bu[r];Uu=n.priority,n.idle||(Lu(n),n.advance(e),n.idle||t.push(n))}return Uu=0,(Fu=Bu).length=0,(Bu=t).length>0}var Gu="[-+]?\\d*\\.?\\d+",Zu=Gu+"%";function Ku(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Ju=new RegExp("rgb"+Ku(Gu,Gu,Gu)),Qu=new RegExp("rgba"+Ku(Gu,Gu,Gu,Gu)),Yu=new RegExp("hsl"+Ku(Gu,Zu,Zu)),$u=new RegExp("hsla"+Ku(Gu,Zu,Zu,Gu)),Xu=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ed=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,td=/^#([0-9a-fA-F]{6})$/,rd=/^#([0-9a-fA-F]{8})$/;function nd(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ad(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,a=2*r-n,i=nd(a,n,e+1/3),o=nd(a,n,e),s=nd(a,n,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function id(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function od(e){return(parseFloat(e)%360+360)%360/360}function sd(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function cd(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ld(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=td.exec(e))?parseInt(t[1]+"ff",16)>>>0:Mu&&void 0!==Mu[e]?Mu[e]:(t=Ju.exec(e))?(id(t[1])<<24|id(t[2])<<16|id(t[3])<<8|255)>>>0:(t=Qu.exec(e))?(id(t[1])<<24|id(t[2])<<16|id(t[3])<<8|sd(t[4]))>>>0:(t=Xu.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=rd.exec(e))?parseInt(t[1],16)>>>0:(t=ed.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Yu.exec(e))?(255|ad(od(t[1]),cd(t[2]),cd(t[3])))>>>0:(t=$u.exec(e))?(ad(od(t[1]),cd(t[2]),cd(t[3]))|sd(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;const r=(16711680&t)>>>16,n=(65280&t)>>>8,a=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(r,", ").concat(n,", ").concat(a,")")}var ud=(e,t,r)=>{if(ku.fun(e))return e;if(ku.arr(e))return ud({range:e,output:t,extrapolate:r});if(ku.str(e.output[0]))return Tu(e);const n=e,a=n.output,i=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(e=>e);return e=>{const t=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(e,i);return function(e,t,r,n,a,i,o,s,c){let l=c?c(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>r){if("identity"===s)return l;"clamp"===s&&(l=r)}if(n===a)return n;if(t===r)return e<=t?n:a;t===-1/0?l=-l:r===1/0?l-=t:l=(l-t)/(r-t);l=i(l),n===-1/0?l=-l:a===1/0?l+=n:l=l*(a-n)+n;return l}(e,i[t],i[t+1],a[t],a[t+1],c,o,s,n.map)}};var dd=1.70158,pd=1.525*dd,hd=dd+1,fd=2*Math.PI/3,md=2*Math.PI/4.5,gd=e=>{const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},vd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>hd*e*e*e-dd*e*e,easeOutBack:e=>1+hd*Math.pow(e-1,3)+dd*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-pd)/2:(Math.pow(2*e-2,2)*((pd+1)*(2*e-2)+pd)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*fd),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*fd)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*md)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*md)/2+1,easeInBounce:e=>1-gd(1-e),easeOutBounce:gd,easeInOutBounce:e=>e<.5?(1-gd(1-2*e))/2:(1+gd(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return r=>{const n=(r="end"===t?Math.min(r,.999):Math.max(r,.001))*e;return((e,t,r)=>Math.min(Math.max(r,e),t))(0,1,("end"===t?Math.floor(n):Math.ceil(n))/e)}}},yd=Symbol.for("FluidValue.get"),bd=Symbol.for("FluidValue.observers"),_d=e=>Boolean(e&&e[yd]),wd=e=>e&&e[yd]?e[yd]():e,Sd=e=>e[bd]||null;function kd(e,t){const r=e[bd];r&&r.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Ed=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Rd(this,e)}},Rd=(e,t)=>Td(e,yd,t);function xd(e,t){if(e[yd]){let r=e[bd];r||Td(e,bd,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Cd(e,t){const r=e[bd];if(r&&r.has(t)){const n=r.size-1;n?r.delete(t):e[bd]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var Pd,Td=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Od=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Dd=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Id=new RegExp("(".concat(Od.source,")(%|[a-z]+)"),"i"),Md=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,jd=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ld=e=>{const[t,r]=Nd(e);if(!t||Iu())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(r);return t||e}return r&&jd.test(r)?Ld(r):r||e},Nd=e=>{const t=jd.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]},Ad=(e,t,r,n,a)=>"rgba(".concat(Math.round(t),", ").concat(Math.round(r),", ").concat(Math.round(n),", ").concat(a,")"),Bd=e=>{Pd||(Pd=Mu?new RegExp("(".concat(Object.keys(Mu).join("|"),")(?!\\w)"),"g"):/^\b$/);const t=e.output.map((e=>wd(e).replace(jd,Ld).replace(Dd,ld).replace(Pd,ld))),r=t.map((e=>e.match(Od).map(Number))),n=r[0].map(((e,t)=>r.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))),a=n.map((t=>ud({...e,output:t})));return e=>{var r;const n=!Id.test(t[0])&&(null===(r=t.find((e=>Id.test(e))))||void 0===r?void 0:r.replace(Od,""));let i=0;return t[0].replace(Od,(()=>"".concat(a[i++](e)).concat(n||""))).replace(Md,Ad)}},Fd="react-spring: ",Ud=e=>{const t=e;let r=!1;if("function"!=typeof t)throw new TypeError("".concat(Fd,"once requires a function parameter"));return function(){r||(t(...arguments),r=!0)}},zd=Ud(console.warn);var Wd=Ud(console.warn);function Vd(e){return ku.str(e)&&("#"==e[0]||/\d/.test(e)||!Iu()&&jd.test(e)||e in(Mu||{}))}var Hd=Iu()?a.useEffect:a.useLayoutEffect,qd=()=>{const e=(0,a.useRef)(!1);return Hd((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function Gd(){const e=(0,a.useState)()[1],t=qd();return()=>{t.current&&e(Math.random())}}var Zd=e=>(0,a.useEffect)(e,Kd),Kd=[];function Jd(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e})),t.current}var Qd=Symbol.for("Animated:node"),Yd=e=>e&&e[Qd],$d=(e,t)=>((e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}))(e,Qd,t),Xd=e=>e&&e[Qd]&&e[Qd].getPayload(),ep=class{constructor(){$d(this,this)}getPayload(){return this.payload||[]}},tp=class extends ep{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ku.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new tp(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ku.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ku.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},rp=class extends tp{constructor(e){super(0),this._string=null,this._toString=ud({output:[e,e]})}static create(e){return new rp(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(ku.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=ud({output:[this.getValue(),e]})),this._value=0,super.reset()}},np={dependencies:null},ap=class extends ep{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return xu(this.source,((r,n)=>{(e=>!!e&&e[Qd]===e)(r)?t[n]=r.getValue(e):_d(r)?t[n]=wd(r):e||(t[n]=r)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ru(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return xu(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){np.dependencies&&_d(e)&&np.dependencies.add(e);const t=Xd(e);t&&Ru(t,(e=>this.add(e)))}},ip=class extends ap{constructor(e){super(e)}static create(e){return new ip(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,r)=>t.setValue(e[r]))).some(Boolean):(super.setValue(e.map(op)),!0)}};function op(e){return(Vd(e)?rp:tp).create(e)}function sp(e){const t=Yd(e);return t?t.constructor:ku.arr(e)?ip:Vd(e)?rp:tp}var cp=(e,t)=>{const r=!ku.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,a.forwardRef)(((n,i)=>{const o=(0,a.useRef)(null),s=r&&(0,a.useCallback)((e=>{o.current=function(e,t){e&&(ku.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),[c,l]=function(e,t){const r=new Set;np.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new ap(e),np.dependencies=null,[e,r]}(n,t),u=Gd(),d=()=>{const e=o.current;if(r&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&u()},p=new lp(d,l),h=(0,a.useRef)();Hd((()=>(h.current=p,Ru(l,(e=>xd(e,p))),()=>{h.current&&(Ru(h.current.deps,(e=>Cd(e,h.current))),nu.cancel(h.current.update))}))),(0,a.useEffect)(d,[]),Zd((()=>()=>{const e=h.current;Ru(e.deps,(t=>Cd(t,e)))}));const f=t.getComponentProps(c.getValue());return a.createElement(e,{...f,ref:s})}))},lp=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&nu.write(this.update)}};var up=Symbol.for("AnimatedComponent"),dp=e=>ku.str(e)?e:e&&ku.str(e.displayName)?e.displayName:ku.fun(e)&&e.name||null;function pp(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return ku.fun(e)?e(...r):e}var hp=(e,t)=>!0===e||!!(t&&e&&(ku.fun(e)?e(t):Cu(e).includes(t))),fp=(e,t)=>ku.obj(e)?t&&e[t]:e,mp=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,gp=e=>e,vp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gp,r=yp;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));const n={};for(const a of r){const r=t(e[a],a);ku.und(r)||(n[a]=r)}return n},yp=["config","onProps","onStart","onChange","onPause","onResume","onRest"],bp={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function _p(e){const t=function(e){const t={};let r=0;if(xu(e,((e,n)=>{bp[n]||(t[n]=e,r++)})),r)return t}(e);if(t){const r={to:t};return xu(e,((e,n)=>n in t||(r[n]=e))),r}return{...e}}function wp(e){return e=wd(e),ku.arr(e)?e.map(wp):Vd(e)?wu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Sp(e){for(const t in e)return!0;return!1}function kp(e){return ku.fun(e)||ku.arr(e)&&ku.obj(e[0])}function Ep(e,t){var r;null===(r=e.ref)||void 0===r||r.delete(e),null===t||void 0===t||t.delete(e)}function Rp(e,t){var r;t&&e.ref!==t&&(null===(r=e.ref)||void 0===r||r.delete(e),t.add(e),e.ref=t)}var xp={tension:170,friction:26,mass:1,damping:1,easing:vd.linear,clamp:!1},Cp=class{constructor(){this.velocity=0,Object.assign(this,xp)}};function Pp(e,t){if(ku.und(t.decay)){const r=!ku.und(t.tension)||!ku.und(t.friction);!r&&ku.und(t.frequency)&&ku.und(t.damping)&&ku.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var Tp=[],Op=class{constructor(){this.changed=!1,this.values=Tp,this.toValues=null,this.fromValues=Tp,this.config=new Cp,this.immediate=!1}};function Dp(e,t){let{key:r,props:n,defaultProps:a,state:i,actions:o}=t;return new Promise(((t,s)=>{var c;let l,u,d=hp(null!==(c=n.cancel)&&void 0!==c?c:null===a||void 0===a?void 0:a.cancel,r);if(d)f();else{ku.und(n.pause)||(i.paused=hp(n.pause,r));let e=null===a||void 0===a?void 0:a.pause;!0!==e&&(e=i.paused||hp(e,r)),l=pp(n.delay||0,r),e?(i.resumeQueue.add(h),o.pause()):(o.resume(),h())}function p(){i.resumeQueue.add(h),i.timeouts.delete(u),u.cancel(),l=u.time-nu.now()}function h(){l>0&&!wu.skipAnimation?(i.delayed=!0,u=nu.setTimeout(f,l),i.pauseQueue.add(p),i.timeouts.add(u)):f()}function f(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(p),i.timeouts.delete(u),e<=(i.cancelId||0)&&(d=!0);try{o.start({...n,callId:e,cancel:d},t)}catch(Wh){s(Wh)}}}))}var Ip=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Lp(e.get()):t.every((e=>e.noop))?Mp(e.get()):jp(e.get(),t.every((e=>e.finished))),Mp=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),jp=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Lp=e=>({value:e,cancelled:!0,finished:!1});function Np(e,t,r,n){const{callId:a,parentId:i,onRest:o}=t,{asyncTo:s,promise:c}=r;return i||e!==s||t.reset?r.promise=(async()=>{r.asyncId=a,r.asyncTo=e;const l=vp(t,((e,t)=>"onRest"===t?void 0:e));let u,d;const p=new Promise(((e,t)=>(u=e,d=t))),h=e=>{const t=a<=(r.cancelId||0)&&Lp(n)||a!==r.asyncId&&jp(n,!1);if(t)throw e.result=t,d(e),e},f=(e,t)=>{const i=new Bp,o=new Fp;return(async()=>{if(wu.skipAnimation)throw Ap(r),o.result=jp(n,!1),d(o),o;h(i);const s=ku.obj(e)?{...e}:{...t,to:e};s.parentId=a,xu(l,((e,t)=>{ku.und(s[t])&&(s[t]=e)}));const c=await n.start(s);return h(i),r.paused&&await new Promise((e=>{r.resumeQueue.add(e)})),c})()};let m;if(wu.skipAnimation)return Ap(r),jp(n,!1);try{let t;t=ku.arr(e)?(async e=>{for(const t of e)await f(t)})(e):Promise.resolve(e(f,n.stop.bind(n))),await Promise.all([t.then(u),p]),m=jp(n.get(),!0,!1)}catch(Wh){if(Wh instanceof Bp)m=Wh.result;else{if(!(Wh instanceof Fp))throw Wh;m=Wh.result}}finally{a==r.asyncId&&(r.asyncId=i,r.asyncTo=i?s:void 0,r.promise=i?c:void 0)}return ku.fun(o)&&nu.batchedUpdates((()=>{o(m,n,n.item)})),m})():c}function Ap(e,t){Pu(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Bp=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Fp=class extends Error{constructor(){super("SkipAnimationSignal")}},Up=e=>e instanceof Wp,zp=1,Wp=class extends Ed{constructor(){super(...arguments),this.id=zp++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Yd(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wu.to(this,t)}interpolate(){zd("".concat(Fd,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wu.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){kd(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||zu.sort(this),kd(this,{type:"priority",parent:this,priority:e})}},Vp=Symbol.for("SpringPhase"),Hp=e=>(1&e[Vp])>0,qp=e=>(2&e[Vp])>0,Gp=e=>(4&e[Vp])>0,Zp=(e,t)=>t?e[Vp]|=3:e[Vp]&=-3,Kp=(e,t)=>t?e[Vp]|=4:e[Vp]&=-5,Jp=class extends Wp{constructor(e,t){if(super(),this.animation=new Op,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ku.und(e)||!ku.und(t)){const r=ku.obj(e)?{...e}:{...t,from:e};ku.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(qp(this)||this._state.asyncTo)||Gp(this)}get goal(){return wd(this.animation.to)}get velocity(){const e=Yd(this);return e instanceof tp?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Hp(this)}get isAnimating(){return qp(this)}get isPaused(){return Gp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const n=this.animation;let{toValues:a}=n;const{config:i}=n,o=Xd(n.to);!o&&_d(n.to)&&(a=Cu(wd(n.to))),n.values.forEach(((s,c)=>{if(s.done)return;const l=s.constructor==rp?1:o?o[c].lastPosition:a[c];let u=n.immediate,d=l;if(!u){if(d=s.lastPosition,i.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const r=n.fromValues[c],a=null!=s.v0?s.v0:s.v0=ku.arr(i.velocity)?i.velocity[c]:i.velocity;let o;const p=i.precision||(r==l?.005:Math.min(1,.001*Math.abs(l-r)));if(ku.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,n=Math.exp(-(1-e)*t);d=r+a/(1-e)*(1-n),u=Math.abs(s.lastPosition-d)<=p,o=a*n}else{o=null==s.lastVelocity?a:s.lastVelocity;const t=i.restVelocity||p/10,n=i.clamp?0:i.bounce,c=!ku.und(n),h=r==l?s.v0>0:r<l;let f,m=!1;const g=1,v=Math.ceil(e/g);for(let e=0;e<v&&(f=Math.abs(o)>t,f||(u=Math.abs(l-d)<=p,!u));++e){c&&(m=d==l||d>l==h,m&&(o=-o*n,d=l));o+=(1e-6*-i.tension*(d-l)+.001*-i.friction*o)/i.mass*g,d+=o*g}}else{let n=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,s.durationProgress>0&&(s.elapsedTime=i.duration*s.durationProgress,t=s.elapsedTime+=e)),n=(i.progress||0)+t/this._memoizedDuration,n=n>1?1:n<0?0:n,s.durationProgress=n),d=r+i.easing(n)*(l-r),o=(d-s.lastPosition)/e,u=1==n}s.lastVelocity=o,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),u=!0)}o&&!o[c].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,i.round)&&(r=!0)}));const s=Yd(this),c=s.getValue();if(t){const e=wd(n.to);c===e&&!r||i.decay?r&&i.decay&&this._onChange(c):(s.setValue(e),this._onChange(e)),this._stop()}else r&&this._onChange(c)}set(e){return nu.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(qp(this)){const{to:e,config:t}=this.animation;nu.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return ku.und(e)?(r=this.queue||[],this.queue=[]):r=[ku.obj(e)?e:{...t,to:e}],Promise.all(r.map((e=>this._update(e)))).then((e=>Ip(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ap(this._state,e&&this._lastCallId),nu.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:n}=e;r=ku.obj(r)?r[t]:r,(null==r||kp(r))&&(r=void 0),n=ku.obj(n)?n[t]:n,null==n&&(n=void 0);const a={to:r,from:n};return Hp(this)||(e.reverse&&([r,n]=[n,r]),n=wd(n),ku.und(n)?Yd(this)||this._set(r):this._set(n)),a}_update(e,t){let{...r}=e;const{key:n,defaultProps:a}=this;r.default&&Object.assign(a,vp(r,((e,t)=>/^on/.test(t)?fp(e,n):e))),rh(this,r,"onProps"),nh(this,"onProps",r,this);const i=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Dp(++this._lastCallId,{key:n,props:r,defaultProps:a,state:o,actions:{pause:()=>{Gp(this)||(Kp(this,!0),Du(o.pauseQueue),nh(this,"onPause",jp(this,Qp(this,this.animation.to)),this))},resume:()=>{Gp(this)&&(Kp(this,!1),qp(this)&&this._resume(),Du(o.resumeQueue),nh(this,"onResume",jp(this,Qp(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then((e=>{if(r.loop&&e.finished&&(!t||!e.noop)){const e=Yp(r);if(e)return this._update(e,!0)}return e}))}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Lp(this));const n=!ku.und(e.to),a=!ku.und(e.from);if(n||a){if(!(t.callId>this._lastToId))return r(Lp(this));this._lastToId=t.callId}const{key:i,defaultProps:o,animation:s}=this,{to:c,from:l}=s;let{to:u=c,from:d=l}=e;!a||n||t.default&&!ku.und(u)||(u=d),t.reverse&&([u,d]=[d,u]);const p=!Eu(d,l);p&&(s.from=d),d=wd(d);const h=!Eu(u,c);h&&this._focus(u);const f=kp(t.to),{config:m}=s,{decay:g,velocity:v}=m;(n||a)&&(m.velocity=0),t.config&&!f&&function(e,t,r){r&&(Pp(r={...r},t),t={...r,...t}),Pp(e,t),Object.assign(e,t);for(const o in xp)null==e[o]&&(e[o]=xp[o]);let{frequency:n,damping:a}=e;const{mass:i}=e;ku.und(n)||(n<.01&&(n=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*a*i/n)}(m,pp(t.config,i),t.config!==o.config?pp(o.config,i):void 0);let y=Yd(this);if(!y||ku.und(u))return r(jp(this,!0));const b=ku.und(t.reset)?a&&!t.default:!ku.und(d)&&hp(t.reset,i),_=b?d:this.get(),w=wp(u),S=ku.num(w)||ku.arr(w)||Vd(w),k=!f&&(!S||hp(o.immediate||t.immediate,i));if(h){const e=sp(u);if(e!==y.constructor){if(!k)throw Error("Cannot animate between ".concat(y.constructor.name," and ").concat(e.name,', as the "to" prop suggests'));y=this._set(w)}}const E=y.constructor;let R=_d(u),x=!1;if(!R){const e=b||!Hp(this)&&p;(h||e)&&(x=Eu(wp(_),w),R=!x),(Eu(s.immediate,k)||k)&&Eu(m.decay,g)&&Eu(m.velocity,v)||(R=!0)}if(x&&qp(this)&&(s.changed&&!b?R=!0:R||this._stop(c)),!f&&((R||_d(c))&&(s.values=y.getPayload(),s.toValues=_d(u)?null:E==rp?[1]:Cu(w)),s.immediate!=k&&(s.immediate=k,k||b||this._set(c)),R)){const{onRest:e}=s;Ru(th,(e=>rh(this,t,e)));const n=jp(this,Qp(this,c));Du(this._pendingCalls,n),this._pendingCalls.add(r),s.changed&&nu.batchedUpdates((()=>{var t;(s.changed=!b,null===e||void 0===e||e(n,this),b)?pp(o.onRest,n):null===(t=s.onStart)||void 0===t||t.call(s,n,this)}))}b&&this._set(_),f?r(Np(t.to,t,this._state,this)):R?this._start():qp(this)&&!h?this._pendingCalls.add(r):r(Mp(_))}_focus(e){const t=this.animation;e!==t.to&&(Sd(this)&&this._detach(),t.to=e,Sd(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;_d(t)&&(xd(t,this),Up(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;_d(e)&&Cd(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=wd(e);if(!ku.und(r)){const e=Yd(this);if(!e||!Eu(r,e.getValue())){const n=sp(r);e&&e.constructor==n?e.setValue(r):$d(this,n.create(r)),e&&nu.batchedUpdates((()=>{this._onChange(r,t)}))}}return Yd(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,nh(this,"onStart",jp(this,Qp(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),pp(this.animation.onChange,e,this)),pp(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Yd(this).reset(wd(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),qp(this)||(Zp(this,!0),Gp(this)||this._resume())}_resume(){wu.skipAnimation?this.finish():zu.start(this)}_stop(e,t){if(qp(this)){Zp(this,!1);const r=this.animation;Ru(r.values,(e=>{e.done=!0})),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),kd(this,{type:"idle",parent:this});const n=t?Lp(this.get()):jp(this.get(),Qp(this,null!==e&&void 0!==e?e:r.to));Du(this._pendingCalls,n),r.changed&&(r.changed=!1,nh(this,"onRest",n,this))}}};function Qp(e,t){const r=wp(t);return Eu(wp(e.get()),r)}function Yp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const n=pp(t);if(n){const a=!0!==n&&_p(n),i=(a||e).reverse,o=!a||a.reset;return $p({...e,loop:t,default:!1,pause:void 0,to:!i||kp(r)?r:void 0,from:o?e.from:void 0,reset:o,...a})}}function $p(e){const{to:t,from:r}=e=_p(e),n=new Set;return ku.obj(t)&&eh(t,n),ku.obj(r)&&eh(r,n),e.keys=n.size?Array.from(n):null,e}function Xp(e){const t=$p(e);return ku.und(t.default)&&(t.default=vp(t)),t}function eh(e,t){xu(e,((e,r)=>null!=e&&t.add(r)))}var th=["onStart","onRest","onChange","onPause","onResume"];function rh(e,t,r){e.animation[r]=t[r]!==mp(t,r)?fp(t[r],e.key):void 0}function nh(e,t){for(var r,n,a,i,o=arguments.length,s=new Array(o>2?o-2:0),c=2;c<o;c++)s[c-2]=arguments[c];null===(r=(n=e.animation)[t])||void 0===r||r.call(n,...s),null===(a=(i=e.defaultProps)[t])||void 0===a||a.call(i,...s)}var ah=["onStart","onChange","onRest"],ih=1,oh=class{constructor(e,t){this.id=ih++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,r)=>e[r]=t.get())),e}set(e){for(const t in e){const r=e[t];ku.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push($p(e)),this}start(e){let{queue:t}=this;return e?t=Cu(e).map($p):this.queue=[],this._flush?this._flush(this,t):(hh(this,t),sh(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Ru(Cu(t),(t=>r[t].stop(!!e)))}else Ap(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(ku.und(e))this.start({pause:!0});else{const t=this.springs;Ru(Cu(e),(e=>t[e].pause()))}return this}resume(e){if(ku.und(e))this.start({pause:!1});else{const t=this.springs;Ru(Cu(e),(e=>t[e].resume()))}return this}each(e){xu(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,a=this._changed.size>0;(n&&!this._started||a&&!this._started)&&(this._started=!0,Pu(e,(e=>{let[t,r]=e;r.value=this.get(),t(r,this,this._item)})));const i=!n&&this._started,o=a||i&&r.size?this.get():null;a&&t.size&&Pu(t,(e=>{let[t,r]=e;r.value=o,t(r,this,this._item)})),i&&(this._started=!1,Pu(r,(e=>{let[t,r]=e;r.value=o,t(r,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}nu.onFrame(this._onFrame)}};function sh(e,t){return Promise.all(t.map((t=>ch(e,t)))).then((t=>Ip(e,t)))}async function ch(e,t,r){const{keys:n,to:a,from:i,loop:o,onRest:s,onResolve:c}=t,l=ku.obj(t.default)&&t.default;o&&(t.loop=!1),!1===a&&(t.to=null),!1===i&&(t.from=null);const u=ku.arr(a)||ku.fun(a)?a:void 0;u?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):Ru(ah,(r=>{const n=t[r];if(ku.fun(n)){const a=e._events[r];t[r]=e=>{let{finished:t,cancelled:r}=e;const i=a.get(n);i?(t||(i.finished=!1),r&&(i.cancelled=!0)):a.set(n,{value:null,finished:t||!1,cancelled:r||!1})},l&&(l[r]=t[r])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Du(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const p=(n||Object.keys(e.springs)).map((r=>e.springs[r].start(t))),h=!0===t.cancel||!0===mp(t,"cancel");(u||h&&d.asyncId)&&p.push(Dp(++e._lastAsyncId,{props:t,state:d,actions:{pause:Su,resume:Su,start(t,r){h?(Ap(d,e._lastAsyncId),r(Lp(e))):(t.onRest=s,r(Np(u,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const f=Ip(e,await Promise.all(p));if(o&&f.finished&&(!r||!f.noop)){const r=Yp(t,o,a);if(r)return hh(e,[r]),ch(e,r,!0)}return c&&nu.batchedUpdates((()=>c(f,e,e.item))),f}function lh(e,t){const r={...e.springs};return t&&Ru(Cu(t),(e=>{ku.und(e.keys)&&(e=$p(e)),ku.obj(e.to)||(e={...e,to:void 0}),ph(r,e,(e=>dh(e)))})),uh(e,r),r}function uh(e,t){xu(t,((t,r)=>{e.springs[r]||(e.springs[r]=t,xd(t,e))}))}function dh(e,t){const r=new Jp;return r.key=e,t&&xd(r,t),r}function ph(e,t,r){t.keys&&Ru(t.keys,(n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)}))}function hh(e,t){Ru(t,(t=>{ph(e.springs,t,(t=>dh(t,e)))}))}var fh=e=>{let{children:t,...r}=e;const n=(0,a.useContext)(mh),i=r.pause||!!n.pause,o=r.immediate||!!n.immediate;r=function(e,t){const[r]=(0,a.useState)((()=>({inputs:t,result:e()}))),n=(0,a.useRef)(),i=n.current;let o=i;if(o){const r=Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,o.inputs));r||(o={inputs:t,result:e()})}else o=r;return(0,a.useEffect)((()=>{n.current=o,i==r&&(r.inputs=r.result=void 0)}),[o]),o.result}((()=>({pause:i,immediate:o})),[i,o]);const{Provider:s}=mh;return a.createElement(s,{value:r},t)},mh=function(e,t){return Object.assign(e,a.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(fh,{});fh.Provider=mh.Provider,fh.Consumer=mh.Consumer;var gh=()=>{const e=[],t=function(t){Wd("".concat(Fd,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));const n=[];return Ru(e,((e,a)=>{if(ku.und(t))n.push(e.start());else{const i=r(t,e,a);i&&n.push(e.start(i))}})),n};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){return Ru(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Ru(e,(e=>e.resume(...arguments))),this},t.set=function(t){Ru(e,((e,r)=>{const n=ku.fun(t)?t(r,e):t;n&&e.set(n)}))},t.start=function(t){const r=[];return Ru(e,((e,n)=>{if(ku.und(t))r.push(e.start());else{const a=this._getProps(t,e,n);a&&r.push(e.start(a))}})),r},t.stop=function(){return Ru(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Ru(e,((e,r)=>e.update(this._getProps(t,e,r)))),this};const r=function(e,t,r){return ku.fun(e)?e(r,t):e};return t._getProps=r,t};function vh(e,t,r){const n=ku.fun(t)&&t;n&&!r&&(r=[]);const i=(0,a.useMemo)((()=>n||3==arguments.length?gh():void 0),[]),o=(0,a.useRef)(0),s=Gd(),c=(0,a.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const r=lh(e,t);return o.current>0&&!c.queue.length&&!Object.keys(r).some((t=>!e.springs[t]))?sh(e,t):new Promise((n=>{uh(e,r),c.queue.push((()=>{n(sh(e,t))})),s()}))}})),[]),l=(0,a.useRef)([...c.ctrls]),u=[],d=Jd(e)||0;function p(e,r){for(let a=e;a<r;a++){const e=l.current[a]||(l.current[a]=new oh(null,c.flush)),r=n?n(a,e):t[a];r&&(u[a]=Xp(r))}}(0,a.useMemo)((()=>{Ru(l.current.slice(e,d),(e=>{Ep(e,i),e.stop(!0)})),l.current.length=e,p(d,e)}),[e]),(0,a.useMemo)((()=>{p(0,Math.min(d,e))}),r);const h=l.current.map(((e,t)=>lh(e,u[t]))),f=(0,a.useContext)(fh),m=Jd(f),g=f!==m&&Sp(f);Hd((()=>{o.current++,c.ctrls=l.current;const{queue:e}=c;e.length&&(c.queue=[],Ru(e,(e=>e()))),Ru(l.current,((e,t)=>{null===i||void 0===i||i.add(e),g&&e.start({default:f});const r=u[t];r&&(Rp(e,r.ref),e.ref?e.queue.push(r):e.start(r))}))})),Zd((()=>()=>{Ru(c.ctrls,(e=>e.stop(!0)))}));const v=h.map((e=>({...e})));return i?[v,i]:v}function yh(e,t){const r=ku.fun(e),[[n],a]=vh(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[n,a]:n}var bh=class extends Wp{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=ud(...t);const r=this._get(),n=sp(r);$d(this,n.create(r))}advance(e){const t=this._get();Eu(t,this.get())||(Yd(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&wh(this._active)&&Sh(this)}_get(){const e=ku.arr(this.source)?this.source.map(wd):Cu(wd(this.source));return this.calc(...e)}_start(){this.idle&&!wh(this._active)&&(this.idle=!1,Ru(Xd(this),(e=>{e.done=!1})),wu.skipAnimation?(nu.batchedUpdates((()=>this.advance())),Sh(this)):zu.start(this))}_attach(){let e=1;Ru(Cu(this.source),(t=>{_d(t)&&xd(t,this),Up(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Ru(Cu(this.source),(e=>{_d(e)&&Cd(e,this)})),this._active.clear(),Sh(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Cu(this.source).reduce(((e,t)=>Math.max(e,(Up(t)?t.priority:0)+1)),0))}};function _h(e){return!1!==e.idle}function wh(e){return!e.size||Array.from(e).every(_h)}function Sh(e){e.idle||(e.idle=!0,Ru(Xd(e),(e=>{e.done=!0})),kd(e,{type:"idle",parent:e}))}wu.assign({createStringInterpolator:Bd,to:(e,t)=>new bh(e,t)});zu.advance;var kh=/^--/;function Eh(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||kh.test(e)||xh.hasOwnProperty(e)&&xh[e]?(""+t).trim():t+"px"}var Rh={};var xh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ch=["Webkit","Ms","Moz","O"];xh=Object.keys(xh).reduce(((e,t)=>(Ch.forEach((r=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(r,t)]=e[t])),e)),xh);var Ph=/^(matrix|translate|scale|rotate|skew)/,Th=/^(translate)/,Oh=/^(rotate|skew)/,Dh=(e,t)=>ku.num(e)&&0!==e?e+t:e,Ih=(e,t)=>ku.arr(e)?e.every((e=>Ih(e,t))):ku.num(e)?e===t:parseFloat(e)===t,Mh=class extends ap{constructor(e){let{x:t,y:r,z:n,...a}=e;const i=[],o=[];(t||r||n)&&(i.push([t||0,r||0,n||0]),o.push((e=>["translate3d(".concat(e.map((e=>Dh(e,"px"))).join(","),")"),Ih(e,0)]))),xu(a,((e,t)=>{if("transform"===t)i.push([e||""]),o.push((e=>[e,""===e]));else if(Ph.test(t)){if(delete a[t],ku.und(e))return;const r=Th.test(t)?"px":Oh.test(t)?"deg":"";i.push(Cu(e)),o.push("rotate3d"===t?e=>{let[t,n,a,i]=e;return["rotate3d(".concat(t,",").concat(n,",").concat(a,",").concat(Dh(i,r),")"),Ih(i,0)]}:e=>["".concat(t,"(").concat(e.map((e=>Dh(e,r))).join(","),")"),Ih(e,t.startsWith("scale")?1:0)])}})),i.length&&(a.transform=new jh(i,o)),super(a)}},jh=class extends Ed{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Ru(this.inputs,((r,n)=>{const a=wd(r[0]),[i,o]=this.transforms[n](ku.arr(a)?a:r.map(wd));e+=" "+i,t=t&&o})),t?"none":e}observerAdded(e){1==e&&Ru(this.inputs,(e=>Ru(e,(e=>_d(e)&&xd(e,this)))))}observerRemoved(e){0==e&&Ru(this.inputs,(e=>Ru(e,(e=>_d(e)&&Cd(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),kd(this,e)}};wu.assign({batchedUpdates:s.unstable_batchedUpdates,createStringInterpolator:Bd,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Lh=function(e){let{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:r=(e=>new ap(e)),getComponentProps:n=(e=>e)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=e=>{const t=dp(e)||"Anonymous";return(e=ku.str(e)?i[e]||(i[e]=cp(e,a)):e[up]||(e[up]=cp(e,a))).displayName="Animated(".concat(t,")"),e};return xu(e,((t,r)=>{ku.arr(e)&&(r=dp(t)),i[r]=i(t)})),{animated:i}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:n,children:a,scrollTop:i,scrollLeft:o,viewBox:s,...c}=t,l=Object.values(c),u=Object.keys(c).map((t=>r||e.hasAttribute(t)?t:Rh[t]||(Rh[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==a&&(e.textContent=a);for(const d in n)if(n.hasOwnProperty(d)){const t=Eh(d,n[d]);kh.test(d)?e.style.setProperty(d,t):e.style[d]=t}u.forEach(((t,r)=>{e.setAttribute(t,l[r])})),void 0!==i&&(e.scrollTop=i),void 0!==o&&(e.scrollLeft=o),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new Mh(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:r,...n}=e;return n}}),Nh=Lh.animated;const Ah=r.p+"static/media/login-image.816813c7b2ad37372612.jpeg",Bh=()=>{const[e,t]=(0,a.useState)(!1),{transform:r}=yh({transform:"rotateY(".concat(e?180:0,"deg)"),config:{mass:1,tension:200,friction:20}}),[n,i]=(0,a.useState)(""),[o,s]=(0,a.useState)(""),[c,l]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[g,v]=(0,a.useState)(!1),y=te();return(0,fn.jsxs)("div",{className:"whole-page",children:[(0,fn.jsx)("div",{className:"left-container",children:(0,fn.jsxs)("div",{children:[(0,fn.jsx)("h3",{children:"Welcome to"}),(0,fn.jsx)("h1",{children:"SquadScript"})]})}),(0,fn.jsx)("div",{className:"middle-container",children:(0,fn.jsx)("img",{src:Ah,alt:"login"})}),(0,fn.jsx)("div",{className:"right-container",children:(0,fn.jsxs)("div",{className:"card-container",children:[(0,fn.jsx)(Nh.div,{className:"card back",style:{transform:r},children:(0,fn.jsx)("div",{className:"form-box",children:(0,fn.jsxs)("div",{className:"form-container",children:[(0,fn.jsxs)("form",{children:[(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-envelope icon"}),(0,fn.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:e=>{h(e.target.value)},value:p})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-lock icon"}),(0,fn.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:e=>{m(e.target.value)},value:f})]}),(0,fn.jsx)("button",{type:"submit",onClick:async e=>{e.preventDefault();try{const e=(await yc.post("/api/v1/auth/login",{email:p,password:f})).data;e.success&&(localStorage.setItem("auth",e.token),localStorage.setItem("name",e.user.name),localStorage.setItem("username",e.user.username),localStorage.setItem("email",e.user.email),localStorage.setItem("isVerified",String(e.user.isVerified)),it.success("".concat(e.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}),y("/"))}catch(e){it.error("".concat(e.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Login"}),(0,fn.jsx)(Pe,{to:"/forgot-password",className:"forgot-password",children:"Forgot Password?"})]}),(0,fn.jsx)("p",{onClick:()=>t((e=>!e)),children:"Don't have an account? Sign Up"})]})})}),(0,fn.jsx)(Nh.div,{className:"card front",style:{transform:r.to((e=>"".concat(e," rotateY(180deg)")))},children:(0,fn.jsx)("div",{className:"form-box",children:(0,fn.jsxs)("div",{className:"form-container",children:[(0,fn.jsx)("h2",{className:"form-heading",children:"Sign Up"}),(0,fn.jsxs)("form",{children:[(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-user icon"}),(0,fn.jsx)("input",{type:"text",placeholder:"Username",required:!0,onChange:e=>{s(e.target.value)},value:o})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-id-card icon"}),(0,fn.jsx)("input",{type:"text",placeholder:"Name",required:!0,onChange:e=>{i(e.target.value)},value:n})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-envelope icon"}),(0,fn.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:e=>{l(e.target.value)},value:c})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("i",{className:"fas fa-lock icon"}),(0,fn.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:e=>{d(e.target.value)},value:u})]}),(0,fn.jsx)("button",{type:"submit",onClick:async r=>{r.preventDefault();try{const r=await yc.post("/api/v1/auth/register",{username:o,name:n,email:c,password:u});it.success("".concat(r.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}),t(!e)}catch(r){it.error("Error ".concat(r.response.status," :").concat(r.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Sign Up"})]}),(0,fn.jsx)("p",{onClick:()=>t((e=>!e)),children:"Already have an account? Login"})]})})})]})})]})};const Fh=function(){const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[s,c]=(0,a.useState)(""),[l,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1),h=te();(0,a.useEffect)((()=>{t(localStorage.getItem("name")),o(localStorage.getItem("username")),n(localStorage.getItem("email")),c(localStorage.getItem("isVerified"))}),[]);const f=(e,t)=>{t(e.target.innerText)};return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"profile-main",children:(0,fn.jsxs)("div",{className:"profile-content",children:[(0,fn.jsx)("table",{className:"table",children:(0,fn.jsxs)("tbody",{children:[(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("strong",{children:"Name:"})}),(0,fn.jsx)("td",{children:l?(0,fn.jsx)("span",{contentEditable:!0,onBlur:e=>f(e,t),children:e}):e})]}),(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("strong",{children:"Username:"})}),(0,fn.jsx)("td",{children:l?(0,fn.jsx)("span",{contentEditable:!0,onBlur:e=>f(e,o),children:i}):i})]}),(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("strong",{children:"Email:"})}),(0,fn.jsx)("td",{children:l?(0,fn.jsx)("span",{contentEditable:!0,onBlur:e=>f(e,n),children:r}):r})]}),(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("strong",{children:"Verified:"})}),(0,fn.jsxs)("td",{children:[s,"true"===s?(0,fn.jsx)("button",{className:"btn btn-dark",disabled:!0,children:"Verified"}):(0,fn.jsx)("button",{className:"btn btn-dark",onClick:async()=>{try{const e={Authorization:localStorage.getItem("auth")};if((await yc.post("/api/v1/auth/sendotp",{email:r},{headers:e})).data.success){const t=prompt("Enter OTP");(await yc.post("/api/v1/auth/verifyotp",{email:r,otp:t},{headers:e})).data.success?(localStorage.setItem("isVerified","true"),c("true"),it.success("User Verification Successful",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})):it.error("Failed to Verify User. Try again or contact admin",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}}catch(error){it.error("".concat(error.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Verify"})]})]})]})}),(0,fn.jsx)("div",{className:"edit-options",children:(0,fn.jsx)("button",{className:"btn btn-dark",onClick:()=>{p(!d)},children:d?"Hide options":"Show more options"})}),d&&(0,fn.jsxs)("div",{className:"profile-buttons",children:[l?(0,fn.jsx)("div",{className:"profile-save-btn",children:(0,fn.jsx)("button",{className:"btn btn-dark",onClick:async()=>{u(!l);const t={Authorization:localStorage.getItem("auth")};try{const n=await yc.post("/api/v1/auth/islogin",{name:e,email:r,username:i},{headers:t});n.data.success?(localStorage.setItem("name",n.data.data[1]),localStorage.setItem("email",n.data.data[2]),localStorage.setItem("username",n.data.data[0]),localStorage.setItem("isVerified",n.data.data[3]),it.success("User Details Updated successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})):it.error("Details updation failed. Try again or contact admin",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}catch(error){it.error("An error occurred. Try again or contact admin",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Save Details"})}):(0,fn.jsx)("div",{className:"profile-edit-btn",children:(0,fn.jsx)("button",{className:"btn btn-dark",onClick:()=>{u(!l)},children:"Edit Details"})}),(0,fn.jsx)("div",{className:"profile-logout-btn",children:(0,fn.jsx)("button",{className:"btn btn-danger",onClick:()=>{localStorage.clear(),it.success("Logged Out",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}),h("/login-signup")},children:"Logout"})}),(0,fn.jsx)("div",{className:"profile-delete-btn",children:(0,fn.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(window.confirm("Are you sure to delete your account? This action cannot be reversed")){const e={Authorization:localStorage.getItem("auth")};try{(await yc.post("/api/v1/auth/deleteuser",{},{headers:e})).data.success?(it.success("User Deleted successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}),localStorage.clear(),h("/login-signup")):it.error("Failed to Delete User. Try again or contact admin",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}catch(error){it.error("An error occurred. Try again or contact admin",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}}},children:"Delete Profile"})})]})]})}),(0,fn.jsx)(Vn,{})]})},Uh=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[s,c]=(0,a.useState)(!1),[l,u]=(0,a.useState)(""),d=te(),p={authorization:localStorage.getItem("auth")};return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Wn,{}),(0,fn.jsx)("div",{className:"forgotpassward_main",children:(0,fn.jsxs)("div",{className:"forgotpassward_background",children:[(0,fn.jsx)("h1",{className:"text-center my-5",children:"Forgot Password"}),(0,fn.jsx)("form",{className:"forgotform",children:e?s?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("input",{className:"form-control forgotemail my-3",placeholder:"Enter email",disabled:!0}),(0,fn.jsx)("input",{className:"form-control otp my-3",placeholder:"Enter OTP",disabled:!0}),(0,fn.jsx)("input",{className:"form-control otp my-3",placeholder:"Enter New Password",onChange:e=>{u(e.target.value)}})]}):(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("input",{className:"form-control forgotemail my-3",placeholder:"Enter email",disabled:!0}),(0,fn.jsx)("input",{className:"form-control otp my-3",placeholder:"Enter OTP",onChange:e=>{o(e.target.value)}})]}):(0,fn.jsx)("input",{className:"form-control forgotemail",placeholder:"Enter email",onChange:e=>{n(e.target.value)}})}),(0,fn.jsx)("div",{className:"forgotsubmit",children:(0,fn.jsx)("button",{className:"btn btn-dark mt-5",onClick:async n=>{if(n.preventDefault(),e){if(e&&!s)try{const e=await yc.post("/api/v1/auth/verifyotp",{email:r,otp:i},{headers:p}),t=e.data;c(t.success),it.success("".concat(e.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}catch(error){it.error("".concat(n.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}else if(e&&s)try{const e=(await yc.post("/api/v1/auth/recievepassword/true",{email:r,password:l},{headers:p})).data;it.success("".concat(e.response),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt}),d("/login-signup")}catch(error){it.error("".concat(error.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}}else try{const e=await yc.post("/api/v1/auth/forgotpassword",{email:r},{headers:p}),n=e.data;t(n.success),it.info("".concat(e.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}catch(error){it.error("".concat(error.response.data.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"dark",transition:dt})}},children:"Submit"})})]})}),(0,fn.jsx)(Vn,{})]})};const zh=function(){return(0,fn.jsx)(fn.Fragment,{children:(0,fn.jsxs)(Mt,{store:hn,children:[(0,fn.jsx)(Re,{children:(0,fn.jsxs)(ve,{children:[(0,fn.jsx)(me,{path:"/",element:(0,fn.jsx)(ai,{})}),(0,fn.jsx)(me,{path:"/join",element:(0,fn.jsx)($l,{})}),(0,fn.jsx)(me,{path:"/about",element:(0,fn.jsx)(ri,{})}),(0,fn.jsx)(me,{path:"/contact",element:(0,fn.jsx)(Xl,{})}),(0,fn.jsx)(me,{path:"/tnc",element:(0,fn.jsx)(eu,{})}),(0,fn.jsx)(me,{path:"/privacy-policy",element:(0,fn.jsx)(tu,{})}),(0,fn.jsx)(me,{path:"/login-signup",element:(0,fn.jsx)(Bh,{})}),(0,fn.jsx)(me,{path:"/profile",element:(0,fn.jsx)(Fh,{})}),(0,fn.jsx)(me,{path:"/forgot-password",element:(0,fn.jsx)(Uh,{})})]})}),(0,fn.jsx)(ht,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",transition:"Bounce"})]})})};yc.defaults.baseURL="https://squadscript.onrender.com";o.createRoot(document.getElementById("root")).render((0,fn.jsx)(zh,{}))})()})();
//# sourceMappingURL=main.d41a1cc1.js.map